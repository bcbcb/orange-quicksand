<!DOCTYPE html>

<html>
<head>
  <title>GameBoyCore.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>GameBoyCore.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-pi">"use strict"</span>;
<span class="hljs-comment">/* 
 * JavaScript GameBoy Color Emulator
 * Copyright (C) 2010 - 2012 Grant Galitz
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 * The full license is available at http://www.gnu.org/licenses/gpl.html
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 */</span>

<span class="hljs-keyword">var</span> CANVAS_WIDTH = <span class="hljs-number">1024</span>;
<span class="hljs-keyword">var</span> CANVAS_HEIGHT = <span class="hljs-number">720</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GameBoyCore</span><span class="hljs-params">(canvas, ROMImage)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Params, etc…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.canvas = canvas;						<span class="hljs-comment">//Canvas DOM object for drawing out the graphics to.</span>
	<span class="hljs-keyword">this</span>.drawContext = <span class="hljs-literal">null</span>;					<span class="hljs-comment">// LCD Context</span>
	<span class="hljs-keyword">this</span>.ROMImage = ROMImage;					<span class="hljs-comment">//The game's ROM. </span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>CPU Registers and Flags:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.registerA = <span class="hljs-number">0x01</span>; 						<span class="hljs-comment">//Register A (Accumulator)</span>
	<span class="hljs-keyword">this</span>.FZero = <span class="hljs-literal">true</span>; 							<span class="hljs-comment">//Register F  - Result was zero</span>
	<span class="hljs-keyword">this</span>.FSubtract = <span class="hljs-literal">false</span>;						<span class="hljs-comment">//Register F  - Subtraction was executed</span>
	<span class="hljs-keyword">this</span>.FHalfCarry = <span class="hljs-literal">true</span>;						<span class="hljs-comment">//Register F  - Half carry or half borrow</span>
	<span class="hljs-keyword">this</span>.FCarry = <span class="hljs-literal">true</span>;							<span class="hljs-comment">//Register F  - Carry or borrow</span>
	<span class="hljs-keyword">this</span>.registerB = <span class="hljs-number">0x00</span>;						<span class="hljs-comment">//Register B</span>
	<span class="hljs-keyword">this</span>.registerC = <span class="hljs-number">0x13</span>;						<span class="hljs-comment">//Register C</span>
	<span class="hljs-keyword">this</span>.registerD = <span class="hljs-number">0x00</span>;						<span class="hljs-comment">//Register D</span>
	<span class="hljs-keyword">this</span>.registerE = <span class="hljs-number">0xD8</span>;						<span class="hljs-comment">//Register E</span>
	<span class="hljs-keyword">this</span>.registersHL = <span class="hljs-number">0x014D</span>;					<span class="hljs-comment">//Registers H and L combined</span>
	<span class="hljs-keyword">this</span>.stackPointer = <span class="hljs-number">0xFFFE</span>;					<span class="hljs-comment">//Stack Pointer</span>
	<span class="hljs-keyword">this</span>.programCounter = <span class="hljs-number">0x0100</span>;				<span class="hljs-comment">//Program Counter</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Some CPU Emulation State Variables:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.CPUCyclesTotal = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Relative CPU clocking to speed set, rounded appropriately.</span>
	<span class="hljs-keyword">this</span>.CPUCyclesTotalBase = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Relative CPU clocking to speed set base.</span>
	<span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Relative CPU clocking to speed set, the directly used value.</span>
	<span class="hljs-keyword">this</span>.CPUCyclesTotalRoundoff = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Clocking per iteration rounding catch.</span>
	<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration	= <span class="hljs-number">0</span>;		<span class="hljs-comment">//CPU clocks per iteration at 1x speed.</span>
	<span class="hljs-keyword">this</span>.remainingClocks = <span class="hljs-number">0</span>;					<span class="hljs-comment">//HALT clocking overrun carry over.</span>
	<span class="hljs-keyword">this</span>.inBootstrap = <span class="hljs-literal">true</span>;					<span class="hljs-comment">//Whether we're in the GBC boot ROM.</span>
	<span class="hljs-keyword">this</span>.usedBootROM = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Updated upon ROM loading...</span>
	<span class="hljs-keyword">this</span>.usedGBCBootROM = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Did we boot to the GBC boot ROM?</span>
	<span class="hljs-keyword">this</span>.halt = <span class="hljs-literal">false</span>;							<span class="hljs-comment">//Has the CPU been suspended until the next interrupt?</span>
	<span class="hljs-keyword">this</span>.skipPCIncrement = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Did we trip the DMG Halt bug?</span>
	<span class="hljs-keyword">this</span>.stopEmulator = <span class="hljs-number">3</span>;						<span class="hljs-comment">//Has the emulation been paused or a frame has ended?</span>
	<span class="hljs-keyword">this</span>.IME = <span class="hljs-literal">true</span>;							<span class="hljs-comment">//Are interrupts enabled?</span>
	<span class="hljs-keyword">this</span>.IRQLineMatched = <span class="hljs-number">0</span>;					<span class="hljs-comment">//CPU IRQ assertion.</span>
	<span class="hljs-keyword">this</span>.interruptsRequested = <span class="hljs-number">0</span>;				<span class="hljs-comment">//IF Register</span>
	<span class="hljs-keyword">this</span>.interruptsEnabled = <span class="hljs-number">0</span>;					<span class="hljs-comment">//IE Register</span>
	<span class="hljs-keyword">this</span>.hdmaRunning = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//HDMA Transfer Flag - GBC only</span>
	<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">0</span>;							<span class="hljs-comment">//The number of clock cycles emulated.</span>
	<span class="hljs-keyword">this</span>.doubleSpeedShifter = <span class="hljs-number">0</span>;				<span class="hljs-comment">//GBC double speed clocking shifter.</span>
	<span class="hljs-keyword">this</span>.JoyPad = <span class="hljs-number">0xFF</span>;							<span class="hljs-comment">//Joypad State (two four-bit states actually)</span>
	<span class="hljs-keyword">this</span>.CPUStopped = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//CPU STOP status.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Main RAM, MBC RAM, GBC Main RAM, VRAM, etc.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryReader = [];						<span class="hljs-comment">//Array of functions mapped to read back memory</span>
	<span class="hljs-keyword">this</span>.memoryWriter = [];						<span class="hljs-comment">//Array of functions mapped to write to memory</span>
	<span class="hljs-keyword">this</span>.memoryHighReader = [];					<span class="hljs-comment">//Array of functions mapped to read back 0xFFXX memory</span>
	<span class="hljs-keyword">this</span>.memoryHighWriter = [];					<span class="hljs-comment">//Array of functions mapped to write to 0xFFXX memory</span>
	<span class="hljs-keyword">this</span>.ROM = [];								<span class="hljs-comment">//The full ROM file dumped to an array.</span>
	<span class="hljs-keyword">this</span>.memory = [];							<span class="hljs-comment">//Main Core Memory</span>
	<span class="hljs-keyword">this</span>.MBCRam = [];							<span class="hljs-comment">//Switchable RAM (Used by games for more RAM) for the main memory range 0xA000 - 0xC000.</span>
	<span class="hljs-keyword">this</span>.VRAM = [];								<span class="hljs-comment">//Extra VRAM bank for GBC.</span>
	<span class="hljs-keyword">this</span>.GBCMemory = [];						<span class="hljs-comment">//GBC main RAM Banks</span>
	<span class="hljs-keyword">this</span>.MBC1Mode = <span class="hljs-literal">false</span>;						<span class="hljs-comment">//MBC1 Type (4/32, 16/8)</span>
	<span class="hljs-keyword">this</span>.MBCRAMBanksEnabled = <span class="hljs-literal">false</span>;			<span class="hljs-comment">//MBC RAM Access Control.</span>
	<span class="hljs-keyword">this</span>.currMBCRAMBank = <span class="hljs-number">0</span>;					<span class="hljs-comment">//MBC Currently Indexed RAM Bank</span>
	<span class="hljs-keyword">this</span>.currMBCRAMBankPosition = -<span class="hljs-number">0xA000</span>;		<span class="hljs-comment">//MBC Position Adder;</span>
	<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">false</span>;							<span class="hljs-comment">//GameBoy Color detection.</span>
	<span class="hljs-keyword">this</span>.gbcRamBank = <span class="hljs-number">1</span>;						<span class="hljs-comment">//Currently Switched GameBoy Color ram bank</span>
	<span class="hljs-keyword">this</span>.gbcRamBankPosition = -<span class="hljs-number">0xD000</span>;			<span class="hljs-comment">//GBC RAM offset from address start.</span>
	<span class="hljs-keyword">this</span>.gbcRamBankPositionECHO = -<span class="hljs-number">0xF000</span>;		<span class="hljs-comment">//GBC RAM (ECHO mirroring) offset from address start.</span>
	<span class="hljs-keyword">this</span>.RAMBanks = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">16</span>];			<span class="hljs-comment">//Used to map the RAM banks to maximum size the MBC used can do.</span>
	<span class="hljs-keyword">this</span>.ROMBank1offs = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Offset of the ROM bank switching.</span>
	<span class="hljs-keyword">this</span>.currentROMBank = <span class="hljs-number">0</span>;					<span class="hljs-comment">//The parsed current ROM bank selection.</span>
	<span class="hljs-keyword">this</span>.cartridgeType = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Cartridge Type</span>
	<span class="hljs-keyword">this</span>.name = <span class="hljs-string">""</span>;								<span class="hljs-comment">//Name of the game</span>
	<span class="hljs-keyword">this</span>.gameCode = <span class="hljs-string">""</span>;							<span class="hljs-comment">//Game code (Suffix for older games)</span>
	<span class="hljs-keyword">this</span>.fromSaveState = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//A boolean to see if this was loaded in as a save state.</span>
	<span class="hljs-keyword">this</span>.savedStateFileName = <span class="hljs-string">""</span>;				<span class="hljs-comment">//When loaded in as a save state, this will not be empty.</span>
	<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Tracker for STAT triggering.</span>
	<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">0</span>;							<span class="hljs-comment">//The scan line mode (for lines 1-144 it's 2-3-0, for 145-154 it's 1)</span>
	<span class="hljs-keyword">this</span>.spriteCount = <span class="hljs-number">252</span>;						<span class="hljs-comment">//Mode 3 extra clocking counter (Depends on how many sprites are on the current line.).</span>
	<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT = <span class="hljs-literal">false</span>;			<span class="hljs-comment">//Should we trigger an interrupt if LY==LYC?</span>
	<span class="hljs-keyword">this</span>.mode2TriggerSTAT = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Should we trigger an interrupt if in mode 2?</span>
	<span class="hljs-keyword">this</span>.mode1TriggerSTAT = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Should we trigger an interrupt if in mode 1?</span>
	<span class="hljs-keyword">this</span>.mode0TriggerSTAT = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Should we trigger an interrupt if in mode 0?</span>
	<span class="hljs-keyword">this</span>.LCDisOn = <span class="hljs-literal">false</span>;						<span class="hljs-comment">//Is the emulated LCD controller on?</span>
	<span class="hljs-keyword">this</span>.LINECONTROL = [];						<span class="hljs-comment">//Array of functions to handle each scan line we do (onscreen + offscreen)</span>
	<span class="hljs-keyword">this</span>.DISPLAYOFFCONTROL = [<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Array of line 0 function to handle the LCD controller when it’s off (Do nothing!).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	}];
	<span class="hljs-keyword">this</span>.LCDCONTROL = <span class="hljs-literal">null</span>;						<span class="hljs-comment">//Pointer to either LINECONTROL or DISPLAYOFFCONTROL.</span>
	<span class="hljs-keyword">this</span>.initializeLCDController();				<span class="hljs-comment">//Compile the LCD controller functions.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>RTC (Real Time Clock for MBC3):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.RTCisLatched = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.latchedSeconds = <span class="hljs-number">0</span>;					<span class="hljs-comment">//RTC latched seconds.</span>
	<span class="hljs-keyword">this</span>.latchedMinutes = <span class="hljs-number">0</span>;					<span class="hljs-comment">//RTC latched minutes.</span>
	<span class="hljs-keyword">this</span>.latchedHours = <span class="hljs-number">0</span>;						<span class="hljs-comment">//RTC latched hours.</span>
	<span class="hljs-keyword">this</span>.latchedLDays = <span class="hljs-number">0</span>;						<span class="hljs-comment">//RTC latched lower 8-bits of the day counter.</span>
	<span class="hljs-keyword">this</span>.latchedHDays = <span class="hljs-number">0</span>;						<span class="hljs-comment">//RTC latched high-bit of the day counter.</span>
	<span class="hljs-keyword">this</span>.RTCSeconds = <span class="hljs-number">0</span>;						<span class="hljs-comment">//RTC seconds counter.</span>
	<span class="hljs-keyword">this</span>.RTCMinutes = <span class="hljs-number">0</span>;						<span class="hljs-comment">//RTC minutes counter.</span>
	<span class="hljs-keyword">this</span>.RTCHours = <span class="hljs-number">0</span>;							<span class="hljs-comment">//RTC hours counter.</span>
	<span class="hljs-keyword">this</span>.RTCDays = <span class="hljs-number">0</span>;							<span class="hljs-comment">//RTC days counter.</span>
	<span class="hljs-keyword">this</span>.RTCDayOverFlow = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Did the RTC overflow and wrap the day counter?</span>
	<span class="hljs-keyword">this</span>.RTCHALT = <span class="hljs-literal">false</span>;						<span class="hljs-comment">//Is the RTC allowed to clock up?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Gyro:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.highX = <span class="hljs-number">127</span>;
	<span class="hljs-keyword">this</span>.lowX = <span class="hljs-number">127</span>;
	<span class="hljs-keyword">this</span>.highY = <span class="hljs-number">127</span>;
	<span class="hljs-keyword">this</span>.lowY = <span class="hljs-number">127</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Sound variables:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.audioHandle = <span class="hljs-literal">null</span>;						<span class="hljs-comment">//XAudioJS handle</span>
	<span class="hljs-keyword">this</span>.numSamplesTotal = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Length of the sound buffers.</span>
	<span class="hljs-keyword">this</span>.dutyLookup = [								<span class="hljs-comment">//Map the duty values given to ones we can work with.</span>
		[<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>],
		[<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>],
		[<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>],
		[<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]
	];
	<span class="hljs-keyword">this</span>.bufferContainAmount = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Buffer maintenance metric.</span>
	<span class="hljs-keyword">this</span>.LSFR15Table = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.LSFR7Table = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.noiseSampleTable = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.initializeAudioStartState();
	<span class="hljs-keyword">this</span>.soundMasterEnabled = <span class="hljs-literal">false</span>;			<span class="hljs-comment">//As its name implies</span>
	<span class="hljs-keyword">this</span>.channel3PCM = <span class="hljs-literal">null</span>;					<span class="hljs-comment">//Channel 3 adjusted sample buffer.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Vin Shit:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume = <span class="hljs-number">8</span>;		<span class="hljs-comment">//Computed post-mixing volume.</span>
	<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume = <span class="hljs-number">8</span>;		<span class="hljs-comment">//Computed post-mixing volume.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Channel paths enabled:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.leftChannel1 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel2 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel3 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel4 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel1 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel2 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel3 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel4 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEvent = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter = <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Channel output level caches:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.channel1currentSampleLeft = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleRight = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleLeft = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleRight = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3currentSampleLeft = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3currentSampleRight = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentSampleLeft = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentSampleRight = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.mixerOutputCache = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Pre-multipliers to cache some calculations:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.emulatorSpeed = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.initializeTiming();</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Audio generation counters:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.audioTicks = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Used to sample the audio system every x CPU instructions.</span>
	<span class="hljs-keyword">this</span>.audioIndex = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Used to keep alignment on audio generation.</span>
	<span class="hljs-keyword">this</span>.downsampleInput = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.audioDestinationPosition = <span class="hljs-number">0</span>;	<span class="hljs-comment">//Used to keep alignment on audio generation.</span>
	<span class="hljs-keyword">this</span>.rollover = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Used to keep alignment on the number of samples to output (Realign from counter alias).</span></pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Timing Variables</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.emulatorTicks = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Times for how many instructions to execute before ending the loop.</span>
	<span class="hljs-keyword">this</span>.DIVTicks = <span class="hljs-number">56</span>;					<span class="hljs-comment">//DIV Ticks Counter (Invisible lower 8-bit)</span>
	<span class="hljs-keyword">this</span>.LCDTicks = <span class="hljs-number">60</span>;					<span class="hljs-comment">//Counter for how many instructions have been executed on a scanline so far.</span>
	<span class="hljs-keyword">this</span>.timerTicks = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Counter for the TIMA timer.</span>
	<span class="hljs-keyword">this</span>.TIMAEnabled = <span class="hljs-literal">false</span>;			<span class="hljs-comment">//Is TIMA enabled?</span>
	<span class="hljs-keyword">this</span>.TACClocker = <span class="hljs-number">1024</span>;				<span class="hljs-comment">//Timer Max Ticks</span>
	<span class="hljs-keyword">this</span>.serialTimer = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Serial IRQ Timer</span>
	<span class="hljs-keyword">this</span>.serialShiftTimer = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Serial Transfer Shift Timer</span>
	<span class="hljs-keyword">this</span>.serialShiftTimerAllocated = <span class="hljs-number">0</span>;	<span class="hljs-comment">//Serial Transfer Shift Timer Refill</span>
	<span class="hljs-keyword">this</span>.IRQEnableDelay = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Are the interrupts on queue to be enabled?</span>
	<span class="hljs-keyword">var</span> dateVar = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
	<span class="hljs-keyword">this</span>.lastIteration = dateVar.getTime();<span class="hljs-comment">//The last time we iterated the main loop.</span>
	dateVar = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
	<span class="hljs-keyword">this</span>.firstIteration = dateVar.getTime();
	<span class="hljs-keyword">this</span>.iterations = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.actualScanLine = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Actual scan line...</span>
	<span class="hljs-keyword">this</span>.lastUnrenderedLine = <span class="hljs-number">0</span>;		<span class="hljs-comment">//Last rendered scan line...</span>
	<span class="hljs-keyword">this</span>.queuedScanLines = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.totalLinesPassed = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.haltPostClocks = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Post-Halt clocking.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>ROM Cartridge Components:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.cMBC1 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use MBC1?</span>
	<span class="hljs-keyword">this</span>.cMBC2 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use MBC2?</span>
	<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use MBC3?</span>
	<span class="hljs-keyword">this</span>.cMBC5 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use MBC5?</span>
	<span class="hljs-keyword">this</span>.cMBC7 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use MBC7?</span>
	<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use save RAM?</span>
	<span class="hljs-keyword">this</span>.cMMMO1 = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//...</span>
	<span class="hljs-keyword">this</span>.cRUMBLE = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Does the cartridge use the RUMBLE addressing (modified MBC5)?</span>
	<span class="hljs-keyword">this</span>.cCamera = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Is the cartridge actually a GameBoy Camera?</span>
	<span class="hljs-keyword">this</span>.cTAMA5 = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Does the cartridge use TAMA5? (Tamagotchi Cartridge)</span>
	<span class="hljs-keyword">this</span>.cHuC3 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use HuC3 (Hudson Soft / modified MBC3)?</span>
	<span class="hljs-keyword">this</span>.cHuC1 = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Does the cartridge use HuC1 (Hudson Soft / modified MBC1)?</span>
	<span class="hljs-keyword">this</span>.cTIMER = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Does the cartridge have an RTC?</span>
	<span class="hljs-keyword">this</span>.ROMBanks = [					<span class="hljs-comment">// 1 Bank = 16 KBytes = 256 Kbits</span>
		<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">512</span>
	];
	<span class="hljs-keyword">this</span>.ROMBanks[<span class="hljs-number">0x52</span>] = <span class="hljs-number">72</span>;
	<span class="hljs-keyword">this</span>.ROMBanks[<span class="hljs-number">0x53</span>] = <span class="hljs-number">80</span>;
	<span class="hljs-keyword">this</span>.ROMBanks[<span class="hljs-number">0x54</span>] = <span class="hljs-number">96</span>;
	<span class="hljs-keyword">this</span>.numRAMBanks = <span class="hljs-number">0</span>;					<span class="hljs-comment">//How many RAM banks were actually allocated?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>//Graphics Variables</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.currVRAMBank = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Current VRAM bank for GBC.</span>
	<span class="hljs-keyword">this</span>.backgroundX = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Register SCX (X-Scroll)</span>
	<span class="hljs-keyword">this</span>.backgroundY = <span class="hljs-number">0</span>;					<span class="hljs-comment">//Register SCY (Y-Scroll)</span>
	<span class="hljs-keyword">this</span>.gfxWindowDisplay = <span class="hljs-literal">false</span>;			<span class="hljs-comment">//Is the windows enabled?</span>
	<span class="hljs-keyword">this</span>.gfxSpriteShow = <span class="hljs-literal">false</span>;				<span class="hljs-comment">//Are sprites enabled?</span>
	<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight = <span class="hljs-literal">true</span>;		<span class="hljs-comment">//Are we doing 8x8 or 8x16 sprites?</span>
	<span class="hljs-keyword">this</span>.bgEnabled = <span class="hljs-literal">true</span>;					<span class="hljs-comment">//Is the BG enabled?</span>
	<span class="hljs-keyword">this</span>.BGPriorityEnabled = <span class="hljs-literal">true</span>;			<span class="hljs-comment">//Can we flag the BG for priority over sprites?</span>
	<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition = <span class="hljs-number">0</span>;		<span class="hljs-comment">//The current bank of the character map the window uses.</span>
	<span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition = <span class="hljs-number">0</span>;	<span class="hljs-comment">//The current bank of the character map the BG uses.</span>
	<span class="hljs-keyword">this</span>.gfxBackgroundBankOffset = <span class="hljs-number">0x80</span>;	<span class="hljs-comment">//Fast mapping of the tile numbering/</span>
	<span class="hljs-keyword">this</span>.windowY = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Current Y offset of the window.</span>
	<span class="hljs-keyword">this</span>.windowX = <span class="hljs-number">0</span>;						<span class="hljs-comment">//Current X offset of the window.</span>
	<span class="hljs-keyword">this</span>.drewBlank = <span class="hljs-number">0</span>;						<span class="hljs-comment">//To prevent the repeating of drawing a blank screen.</span>
	<span class="hljs-keyword">this</span>.drewFrame = <span class="hljs-literal">false</span>;					<span class="hljs-comment">//Throttle how many draws we can do to once per iteration.</span>
	<span class="hljs-keyword">this</span>.midScanlineOffset = -<span class="hljs-number">1</span>;			<span class="hljs-comment">//mid-scanline rendering offset.</span>
	<span class="hljs-keyword">this</span>.pixelEnd = <span class="hljs-number">0</span>;						<span class="hljs-comment">//track the x-coord limit for line rendering (mid-scanline usage).</span>
	<span class="hljs-keyword">this</span>.currentX = <span class="hljs-number">0</span>;						<span class="hljs-comment">//The x-coord we left off at for mid-scanline rendering.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>BG Tile Pointer Caches:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.BGCHRBank1 = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.BGCHRBank2 = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.BGCHRCurrentBank = <span class="hljs-literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Tile Data Cache:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.tileCache = <span class="hljs-literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Palettes:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.colors = [<span class="hljs-number">0xEFFFDE</span>, <span class="hljs-number">0xADD794</span>, <span class="hljs-number">0x529273</span>, <span class="hljs-number">0x183442</span>];			<span class="hljs-comment">//"Classic" GameBoy palette colors.</span>
	<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbcOBJRawPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbcBGRawPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbOBJPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbBGPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbcOBJPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbcBGPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbBGColorizedPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.gbOBJColorizedPalette = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.cachedBGPaletteConversion = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.updateGBBGPalette = <span class="hljs-keyword">this</span>.updateGBRegularBGPalette;
	<span class="hljs-keyword">this</span>.updateGBOBJPalette = <span class="hljs-keyword">this</span>.updateGBRegularOBJPalette;
	<span class="hljs-keyword">this</span>.colorizedGBPalettes = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.BGLayerRender = <span class="hljs-literal">null</span>;			<span class="hljs-comment">//Reference to the BG rendering function.</span>
	<span class="hljs-keyword">this</span>.WindowLayerRender = <span class="hljs-literal">null</span>;		<span class="hljs-comment">//Reference to the window rendering function.</span>
	<span class="hljs-keyword">this</span>.SpriteLayerRender = <span class="hljs-literal">null</span>;		<span class="hljs-comment">//Reference to the OAM rendering function.</span>
	<span class="hljs-keyword">this</span>.frameBuffer = [];				<span class="hljs-comment">//The internal frame-buffer.</span>
	<span class="hljs-keyword">this</span>.swizzledFrame = <span class="hljs-literal">null</span>;			<span class="hljs-comment">//The secondary gfx buffer that holds the converted RGBA values.</span>
	<span class="hljs-keyword">this</span>.canvasBuffer = <span class="hljs-literal">null</span>;			<span class="hljs-comment">//imageData handle</span>
	<span class="hljs-keyword">this</span>.pixelStart = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Temp variable for holding the current working framebuffer offset.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Variables used for scaling in JS:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.onscreenWidth = <span class="hljs-keyword">this</span>.offscreenWidth = CANVAS_WIDTH;
	<span class="hljs-keyword">this</span>.onscreenHeight = <span class="hljs-keyword">this</span>.offScreenheight = CANVAS_HEIGHT;
	<span class="hljs-keyword">this</span>.offscreenRGBCount = <span class="hljs-keyword">this</span>.onscreenWidth * <span class="hljs-keyword">this</span>.onscreenHeight * <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.resizePathClear = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Initialize the white noise cache tables ahead of time:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.intializeWhiteNoise();
}
GameBoyCore.prototype.GBBOOTROM = [		<span class="hljs-comment">//GB BOOT ROM</span></pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Add 256 byte boot rom here if you are going to use it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>];
GameBoyCore.prototype.GBCBOOTROM = [	<span class="hljs-comment">//GBC BOOT ROM</span></pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Add 2048 byte boot rom here if you are going to use it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>];
GameBoyCore.prototype.ffxxDump = [	<span class="hljs-comment">//Dump of the post-BOOT I/O register state (From gambatte):</span>
	<span class="hljs-number">0x0F</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x7C</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xF8</span>, 	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x01</span>,
	<span class="hljs-number">0x80</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0xF3</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x3F</span>, <span class="hljs-number">0x00</span>, 	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0x7F</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x9F</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xBF</span>, <span class="hljs-number">0x77</span>, <span class="hljs-number">0xF3</span>, <span class="hljs-number">0xF1</span>, <span class="hljs-number">0xFF</span>, 	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, 	<span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0x91</span>, <span class="hljs-number">0x80</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFC</span>, 	<span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x7E</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFE</span>,
	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x3E</span>, <span class="hljs-number">0xFF</span>, 	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, 	<span class="hljs-number">0xC0</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xC1</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFE</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0xF8</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x8F</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, 	<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>,
	<span class="hljs-number">0xCE</span>, <span class="hljs-number">0xED</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0xCC</span>, <span class="hljs-number">0x0D</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0B</span>, 	<span class="hljs-number">0x03</span>, <span class="hljs-number">0x73</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0C</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0D</span>,
	<span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x11</span>, <span class="hljs-number">0x1F</span>, <span class="hljs-number">0x88</span>, <span class="hljs-number">0x89</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0E</span>, 	<span class="hljs-number">0xDC</span>, <span class="hljs-number">0xCC</span>, <span class="hljs-number">0x6E</span>, <span class="hljs-number">0xE6</span>, <span class="hljs-number">0xDD</span>, <span class="hljs-number">0xDD</span>, <span class="hljs-number">0xD9</span>, <span class="hljs-number">0x99</span>,
	<span class="hljs-number">0xBB</span>, <span class="hljs-number">0xBB</span>, <span class="hljs-number">0x67</span>, <span class="hljs-number">0x63</span>, <span class="hljs-number">0x6E</span>, <span class="hljs-number">0x0E</span>, <span class="hljs-number">0xEC</span>, <span class="hljs-number">0xCC</span>, 	<span class="hljs-number">0xDD</span>, <span class="hljs-number">0xDC</span>, <span class="hljs-number">0x99</span>, <span class="hljs-number">0x9F</span>, <span class="hljs-number">0xBB</span>, <span class="hljs-number">0xB9</span>, <span class="hljs-number">0x33</span>, <span class="hljs-number">0x3E</span>,
	<span class="hljs-number">0x45</span>, <span class="hljs-number">0xEC</span>, <span class="hljs-number">0x52</span>, <span class="hljs-number">0xFA</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0xB7</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x5D</span>, 	<span class="hljs-number">0x01</span>, <span class="hljs-number">0xFD</span>, <span class="hljs-number">0xC0</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0xFC</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xE5</span>,
	<span class="hljs-number">0x0B</span>, <span class="hljs-number">0xF8</span>, <span class="hljs-number">0xC2</span>, <span class="hljs-number">0xCE</span>, <span class="hljs-number">0xF4</span>, <span class="hljs-number">0xF9</span>, <span class="hljs-number">0x0F</span>, <span class="hljs-number">0x7F</span>, 	<span class="hljs-number">0x45</span>, <span class="hljs-number">0x6D</span>, <span class="hljs-number">0x3D</span>, <span class="hljs-number">0xFE</span>, <span class="hljs-number">0x46</span>, <span class="hljs-number">0x97</span>, <span class="hljs-number">0x33</span>, <span class="hljs-number">0x5E</span>,
	<span class="hljs-number">0x08</span>, <span class="hljs-number">0xEF</span>, <span class="hljs-number">0xF1</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x86</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x24</span>, <span class="hljs-number">0x74</span>, 	<span class="hljs-number">0x12</span>, <span class="hljs-number">0xFC</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x9F</span>, <span class="hljs-number">0xB4</span>, <span class="hljs-number">0xB7</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0xD5</span>,
	<span class="hljs-number">0xD0</span>, <span class="hljs-number">0x7A</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x9E</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x5F</span>, <span class="hljs-number">0x41</span>, <span class="hljs-number">0x2F</span>, 	<span class="hljs-number">0x1D</span>, <span class="hljs-number">0x77</span>, <span class="hljs-number">0x36</span>, <span class="hljs-number">0x75</span>, <span class="hljs-number">0x81</span>, <span class="hljs-number">0xAA</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0x3A</span>,
	<span class="hljs-number">0x98</span>, <span class="hljs-number">0xD1</span>, <span class="hljs-number">0x71</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x4D</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0xC1</span>, <span class="hljs-number">0xFF</span>, 	<span class="hljs-number">0x0D</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xD3</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0xF9</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0B</span>, <span class="hljs-number">0x00</span>
];
GameBoyCore.prototype.OPCODE = [</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>NOP</p>
<h1 id="0x00-">0x00:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Do Nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>LD BC, nn</p>
<h1 id="0x01-">0x01:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.registerB = parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>LD (BC), A</p>
<h1 id="0x02-">0x02:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWrite((parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerC, parentObj.registerA);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>INC BC</p>
<h1 id="0x03-">0x03:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = ((parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerC) + <span class="hljs-number">1</span>;
		parentObj.registerB = (temp_var &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.registerC = temp_var &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>INC B</p>
<h1 id="0x04-">0x04:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = (parentObj.registerB + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerB &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>DEC B</p>
<h1 id="0x05-">0x05:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = (parentObj.registerB - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerB &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>LD B, n</p>
<h1 id="0x06-">0x06:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>RLCA</p>
<h1 id="0x07-">0x07:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = ((parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | (parentObj.registerA &gt;&gt; <span class="hljs-number">7</span>);
		parentObj.FZero = parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>LD (nn), SP</p>
<h1 id="0x08-">0x08:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWrite(temp_var, parentObj.stackPointer &amp; <span class="hljs-number">0xFF</span>);
		parentObj.memoryWrite((temp_var + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>, parentObj.stackPointer &gt;&gt; <span class="hljs-number">8</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>ADD HL, BC</p>
<h1 id="0x09-">0x09:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registersHL + ((parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerC);
		parentObj.FHalfCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0xFFF</span>) &gt; (dirtySum &amp; <span class="hljs-number">0xFFF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFFFF</span>);
		parentObj.registersHL = dirtySum &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>LD A, (BC)</p>
<h1 id="0x0a-">0x0A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryRead((parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerC);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>DEC BC</p>
<h1 id="0x0b-">0x0B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (((parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerC) - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.registerB = temp_var &gt;&gt; <span class="hljs-number">8</span>;
		parentObj.registerC = temp_var &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>INC C</p>
<h1 id="0x0c-">0x0C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = (parentObj.registerC + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerC &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>DEC C</p>
<h1 id="0x0d-">0x0D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = (parentObj.registerC - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerC &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>LD C, n</p>
<h1 id="0x0e-">0x0E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>RRCA</p>
<h1 id="0x0f-">0x0F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = (parentObj.registerA &gt;&gt; <span class="hljs-number">1</span>) | ((parentObj.registerA &amp; <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">7</span>);
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.FZero = parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>STOP</p>
<h1 id="0x10-">0x10:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.cGBC) {
			<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF4D</span>] &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>) {		<span class="hljs-comment">//Speed change requested.</span>
				<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF4D</span>] &gt; <span class="hljs-number">0x7F</span>) {				<span class="hljs-comment">//Go back to single speed mode.</span>
					cout(<span class="hljs-string">"Going into single clock speed mode."</span>, <span class="hljs-number">0</span>);
					parentObj.doubleSpeedShifter = <span class="hljs-number">0</span>;
					parentObj.memory[<span class="hljs-number">0xFF4D</span>] &amp;= <span class="hljs-number">0x7F</span>;				<span class="hljs-comment">//Clear the double speed mode flag.</span>
				}
				<span class="hljs-keyword">else</span> {												<span class="hljs-comment">//Go to double speed mode.</span>
					cout(<span class="hljs-string">"Going into double clock speed mode."</span>, <span class="hljs-number">0</span>);
					parentObj.doubleSpeedShifter = <span class="hljs-number">1</span>;
					parentObj.memory[<span class="hljs-number">0xFF4D</span>] |= <span class="hljs-number">0x80</span>;				<span class="hljs-comment">//Set the double speed mode flag.</span>
				}
				parentObj.memory[<span class="hljs-number">0xFF4D</span>] &amp;= <span class="hljs-number">0xFE</span>;					<span class="hljs-comment">//Reset the request bit.</span>
			}
			<span class="hljs-keyword">else</span> {
				parentObj.handleSTOP();
			}
		}
		<span class="hljs-keyword">else</span> {
			parentObj.handleSTOP();
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>LD DE, nn</p>
<h1 id="0x11-">0x11:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.registerD = parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>LD (DE), A</p>
<h1 id="0x12-">0x12:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWrite((parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerE, parentObj.registerA);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>INC DE</p>
<h1 id="0x13-">0x13:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = ((parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerE) + <span class="hljs-number">1</span>;
		parentObj.registerD = (temp_var &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.registerE = temp_var &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>INC D</p>
<h1 id="0x14-">0x14:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = (parentObj.registerD + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerD &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>DEC D</p>
<h1 id="0x15-">0x15:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = (parentObj.registerD - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerD &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>LD D, n</p>
<h1 id="0x16-">0x16:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>RLA</p>
<h1 id="0x17-">0x17:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> carry_flag = (parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = ((parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | carry_flag;
		parentObj.FZero = parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>JR n</p>
<h1 id="0x18-">0x18:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.programCounter = (parentObj.programCounter + ((parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>ADD HL, DE</p>
<h1 id="0x19-">0x19:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registersHL + ((parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerE);
		parentObj.FHalfCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0xFFF</span>) &gt; (dirtySum &amp; <span class="hljs-number">0xFFF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFFFF</span>);
		parentObj.registersHL = dirtySum &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>LD A, (DE)</p>
<h1 id="0x1a-">0x1A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryRead((parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerE);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>DEC DE</p>
<h1 id="0x1b-">0x1B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (((parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | parentObj.registerE) - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.registerD = temp_var &gt;&gt; <span class="hljs-number">8</span>;
		parentObj.registerE = temp_var &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>INC E</p>
<h1 id="0x1c-">0x1C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = (parentObj.registerE + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerE &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>DEC E</p>
<h1 id="0x1d-">0x1D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = (parentObj.registerE - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerE &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>LD E, n</p>
<h1 id="0x1e-">0x1E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>RRA</p>
<h1 id="0x1f-">0x1F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> carry_flag = (parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>;
		parentObj.FCarry = ((parentObj.registerA &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>);
		parentObj.registerA = (parentObj.registerA &gt;&gt; <span class="hljs-number">1</span>) | carry_flag;
		parentObj.FZero = parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>JR NZ, n</p>
<h1 id="0x20-">0x20:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FZero) {
			parentObj.programCounter = (parentObj.programCounter + ((parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>LD HL, nn</p>
<h1 id="0x21-">0x21:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>LDI (HL), A</p>
<h1 id="0x22-">0x22:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerA);
		parentObj.registersHL = (parentObj.registersHL + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>INC HL</p>
<h1 id="0x23-">0x23:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>INC H</p>
<h1 id="0x24-">0x24:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> H = ((parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (H == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((H &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.registersHL = (H &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>DEC H</p>
<h1 id="0x25-">0x25:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> H = ((parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>) - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (H == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((H &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
		parentObj.registersHL = (H &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>LD H, n</p>
<h1 id="0x26-">0x26:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>DAA</p>
<h1 id="0x27-">0x27:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FSubtract) {
			<span class="hljs-keyword">if</span> (parentObj.FCarry || parentObj.registerA &gt; <span class="hljs-number">0x99</span>) {
				parentObj.registerA = (parentObj.registerA + <span class="hljs-number">0x60</span>) &amp; <span class="hljs-number">0xFF</span>;
				parentObj.FCarry = <span class="hljs-literal">true</span>;
			}
			<span class="hljs-keyword">if</span> (parentObj.FHalfCarry || (parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &gt; <span class="hljs-number">0x9</span>) {
				parentObj.registerA = (parentObj.registerA + <span class="hljs-number">0x06</span>) &amp; <span class="hljs-number">0xFF</span>;
				parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.FCarry &amp;&amp; parentObj.FHalfCarry) {
			parentObj.registerA = (parentObj.registerA + <span class="hljs-number">0x9A</span>) &amp; <span class="hljs-number">0xFF</span>;
			parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.FCarry) {
			parentObj.registerA = (parentObj.registerA + <span class="hljs-number">0xA0</span>) &amp; <span class="hljs-number">0xFF</span>;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.FHalfCarry) {
			parentObj.registerA = (parentObj.registerA + <span class="hljs-number">0xFA</span>) &amp; <span class="hljs-number">0xFF</span>;
			parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
		}
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>JR Z, n</p>
<h1 id="0x28-">0x28:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FZero) {
			parentObj.programCounter = (parentObj.programCounter + ((parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>ADD HL, HL</p>
<h1 id="0x29-">0x29:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0xFFF</span>) &gt; <span class="hljs-number">0x7FF</span>);
		parentObj.FCarry = (parentObj.registersHL &gt; <span class="hljs-number">0x7FFF</span>);
		parentObj.registersHL = (parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>LDI A, (HL)</p>
<h1 id="0x2a-">0x2A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.registersHL = (parentObj.registersHL + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>DEC HL</p>
<h1 id="0x2b-">0x2B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>INC L</p>
<h1 id="0x2c-">0x2C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> L = (parentObj.registersHL + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (L == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((L &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | L;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>DEC L</p>
<h1 id="0x2d-">0x2D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> L = (parentObj.registersHL - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (L == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((L &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | L;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>LD L, n</p>
<h1 id="0x2e-">0x2E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>CPL</p>
<h1 id="0x2f-">0x2F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= <span class="hljs-number">0xFF</span>;
		parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>JR NC, n</p>
<h1 id="0x30-">0x30:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FCarry) {
			parentObj.programCounter = (parentObj.programCounter + ((parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>LD SP, nn</p>
<h1 id="0x31-">0x31:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>LDD (HL), A</p>
<h1 id="0x32-">0x32:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerA);
		parentObj.registersHL = (parentObj.registersHL - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>INC SP</p>
<h1 id="0x33-">0x33:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>INC (HL)</p>
<h1 id="0x34-">0x34:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((temp_var &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p>DEC (HL)</p>
<h1 id="0x35-">0x35:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((temp_var &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p>LD (HL), n</p>
<h1 id="0x36-">0x36:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter));
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>SCF</p>
<h1 id="0x37-">0x37:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>JR C, n</p>
<h1 id="0x38-">0x38:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FCarry) {
			parentObj.programCounter = (parentObj.programCounter + ((parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>) + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>ADD HL, SP</p>
<h1 id="0x39-">0x39:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registersHL + parentObj.stackPointer;
		parentObj.FHalfCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0xFFF</span>) &gt; (dirtySum &amp; <span class="hljs-number">0xFFF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFFFF</span>);
		parentObj.registersHL = dirtySum &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>LDD A, (HL)</p>
<h1 id="0x3a-">0x3A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.registersHL = (parentObj.registersHL - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>DEC SP</p>
<h1 id="0x3b-">0x3B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>INC A</p>
<h1 id="0x3c-">0x3C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = (parentObj.registerA + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>DEC A</p>
<h1 id="0x3d-">0x3D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = (parentObj.registerA - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0xF</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>LD A, n</p>
<h1 id="0x3e-">0x3E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <p>CCF</p>
<h1 id="0x3f-">0x3F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = !parentObj.FCarry;
		parentObj.FSubtract = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>LD B, B</p>
<h1 id="0x40-">0x40:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>LD B, C</p>
<h1 id="0x41-">0x41:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registerC;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>LD B, D</p>
<h1 id="0x42-">0x42:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registerD;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>LD B, E</p>
<h1 id="0x43-">0x43:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registerE;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <p>LD B, H</p>
<h1 id="0x44-">0x44:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-96">&#182;</a>
              </div>
              <p>LD B, L</p>
<h1 id="0x45-">0x45:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-97">&#182;</a>
              </div>
              <p>LD B, (HL)</p>
<h1 id="0x46-">0x46:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-98">&#182;</a>
              </div>
              <p>LD B, A</p>
<h1 id="0x47-">0x47:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = parentObj.registerA;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-99">&#182;</a>
              </div>
              <p>LD C, B</p>
<h1 id="0x48-">0x48:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registerB;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-100">&#182;</a>
              </div>
              <p>LD C, C</p>
<h1 id="0x49-">0x49:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-101">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-102">&#182;</a>
              </div>
              <p>LD C, D</p>
<h1 id="0x4a-">0x4A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registerD;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-103">&#182;</a>
              </div>
              <p>LD C, E</p>
<h1 id="0x4b-">0x4B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registerE;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-104">&#182;</a>
              </div>
              <p>LD C, H</p>
<h1 id="0x4c-">0x4C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-105">&#182;</a>
              </div>
              <p>LD C, L</p>
<h1 id="0x4d-">0x4D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-106">&#182;</a>
              </div>
              <p>LD C, (HL)</p>
<h1 id="0x4e-">0x4E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-107">&#182;</a>
              </div>
              <p>LD C, A</p>
<h1 id="0x4f-">0x4F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.registerA;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-108">&#182;</a>
              </div>
              <p>LD D, B</p>
<h1 id="0x50-">0x50:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registerB;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-109">&#182;</a>
              </div>
              <p>LD D, C</p>
<h1 id="0x51-">0x51:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registerC;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-110">&#182;</a>
              </div>
              <p>LD D, D</p>
<h1 id="0x52-">0x52:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-111">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-112">&#182;</a>
              </div>
              <p>LD D, E</p>
<h1 id="0x53-">0x53:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registerE;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-113">&#182;</a>
              </div>
              <p>LD D, H</p>
<h1 id="0x54-">0x54:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-114">&#182;</a>
              </div>
              <p>LD D, L</p>
<h1 id="0x55-">0x55:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-115">&#182;</a>
              </div>
              <p>LD D, (HL)</p>
<h1 id="0x56-">0x56:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-116">&#182;</a>
              </div>
              <p>LD D, A</p>
<h1 id="0x57-">0x57:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = parentObj.registerA;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-117">&#182;</a>
              </div>
              <p>LD E, B</p>
<h1 id="0x58-">0x58:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registerB;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-118">&#182;</a>
              </div>
              <p>LD E, C</p>
<h1 id="0x59-">0x59:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registerC;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-119">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-119">&#182;</a>
              </div>
              <p>LD E, D</p>
<h1 id="0x5a-">0x5A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registerD;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-120">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-120">&#182;</a>
              </div>
              <p>LD E, E</p>
<h1 id="0x5b-">0x5B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-121">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-121">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-122">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-122">&#182;</a>
              </div>
              <p>LD E, H</p>
<h1 id="0x5c-">0x5C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-123">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-123">&#182;</a>
              </div>
              <p>LD E, L</p>
<h1 id="0x5d-">0x5D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-124">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-124">&#182;</a>
              </div>
              <p>LD E, (HL)</p>
<h1 id="0x5e-">0x5E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-125">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-125">&#182;</a>
              </div>
              <p>LD E, A</p>
<h1 id="0x5f-">0x5F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.registerA;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-126">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-126">&#182;</a>
              </div>
              <p>LD H, B</p>
<h1 id="0x60-">0x60:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registerB &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-127">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-127">&#182;</a>
              </div>
              <p>LD H, C</p>
<h1 id="0x61-">0x61:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registerC &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-128">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-128">&#182;</a>
              </div>
              <p>LD H, D</p>
<h1 id="0x62-">0x62:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registerD &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-129">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-129">&#182;</a>
              </div>
              <p>LD H, E</p>
<h1 id="0x63-">0x63:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registerE &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-130">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-130">&#182;</a>
              </div>
              <p>LD H, H</p>
<h1 id="0x64-">0x64:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-131">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-131">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-132">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-132">&#182;</a>
              </div>
              <p>LD H, L</p>
<h1 id="0x65-">0x65:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) * <span class="hljs-number">0x101</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-133">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-133">&#182;</a>
              </div>
              <p>LD H, (HL)</p>
<h1 id="0x66-">0x66:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-134">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-134">&#182;</a>
              </div>
              <p>LD H, A</p>
<h1 id="0x67-">0x67:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registerA &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-135">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-135">&#182;</a>
              </div>
              <p>LD L, B</p>
<h1 id="0x68-">0x68:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.registerB;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-136">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-136">&#182;</a>
              </div>
              <p>LD L, C</p>
<h1 id="0x69-">0x69:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.registerC;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-137">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-137">&#182;</a>
              </div>
              <p>LD L, D</p>
<h1 id="0x6a-">0x6A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.registerD;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-138">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-138">&#182;</a>
              </div>
              <p>LD L, E</p>
<h1 id="0x6b-">0x6B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.registerE;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-139">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-139">&#182;</a>
              </div>
              <p>LD L, H</p>
<h1 id="0x6c-">0x6C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-140">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-140">&#182;</a>
              </div>
              <p>LD L, L</p>
<h1 id="0x6d-">0x6D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-141">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-141">&#182;</a>
              </div>
              <p>Do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-142">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-142">&#182;</a>
              </div>
              <p>LD L, (HL)</p>
<h1 id="0x6e-">0x6E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-143">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-143">&#182;</a>
              </div>
              <p>LD L, A</p>
<h1 id="0x6f-">0x6F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | parentObj.registerA;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-144">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-144">&#182;</a>
              </div>
              <p>LD (HL), B</p>
<h1 id="0x70-">0x70:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerB);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-145">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-145">&#182;</a>
              </div>
              <p>LD (HL), C</p>
<h1 id="0x71-">0x71:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerC);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-146">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-146">&#182;</a>
              </div>
              <p>LD (HL), D</p>
<h1 id="0x72-">0x72:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerD);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-147">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-147">&#182;</a>
              </div>
              <p>LD (HL), E</p>
<h1 id="0x73-">0x73:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerE);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-148">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-148">&#182;</a>
              </div>
              <p>LD (HL), H</p>
<h1 id="0x74-">0x74:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-149">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-149">&#182;</a>
              </div>
              <p>LD (HL), L</p>
<h1 id="0x75-">0x75:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-150">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-150">&#182;</a>
              </div>
              <p>HALT</p>
<h1 id="0x76-">0x76:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-151">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-151">&#182;</a>
              </div>
              <p>See if there’s already an IRQ match:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ((parentObj.interruptsEnabled &amp; parentObj.interruptsRequested &amp; <span class="hljs-number">0x1F</span>) &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">if</span> (!parentObj.cGBC &amp;&amp; !parentObj.usedBootROM) {</pre></div></div>
            
        </li>
        
        
        <li id="section-152">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-152">&#182;</a>
              </div>
              <p>HALT bug in the DMG CPU model (Program Counter fails to increment for one instruction after HALT):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.skipPCIncrement = <span class="hljs-literal">true</span>;
			}
			<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-153">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-153">&#182;</a>
              </div>
              <p>CGB gets around the HALT PC bug by doubling the hidden NOP.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.CPUTicks += <span class="hljs-number">4</span>;
			}
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-154">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-154">&#182;</a>
              </div>
              <p>CPU is stalled until the next IRQ match:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.calculateHALTPeriod();
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-155">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-155">&#182;</a>
              </div>
              <p>LD (HL), A</p>
<h1 id="0x77-">0x77:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.registerA);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-156">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-156">&#182;</a>
              </div>
              <p>LD A, B</p>
<h1 id="0x78-">0x78:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registerB;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-157">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-157">&#182;</a>
              </div>
              <p>LD A, C</p>
<h1 id="0x79-">0x79:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registerC;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-158">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-158">&#182;</a>
              </div>
              <p>LD A, D</p>
<h1 id="0x7a-">0x7A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registerD;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-159">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-159">&#182;</a>
              </div>
              <p>LD A, E</p>
<h1 id="0x7b-">0x7B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registerE;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-160">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-160">&#182;</a>
              </div>
              <p>LD A, H</p>
<h1 id="0x7c-">0x7C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-161">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-161">&#182;</a>
              </div>
              <p>LD A, L</p>
<h1 id="0x7d-">0x7D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-162">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-162">&#182;</a>
              </div>
              <p>LD, A, (HL)</p>
<h1 id="0x7e-">0x7E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-163">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-163">&#182;</a>
              </div>
              <p>LD A, A</p>
<h1 id="0x7f-">0x7F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-164">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-164">&#182;</a>
              </div>
              <p>Do Nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	},</pre></div></div>
            
        </li>
        
        
        <li id="section-165">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-165">&#182;</a>
              </div>
              <p>ADD A, B</p>
<h1 id="0x80-">0x80:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerB;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-166">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-166">&#182;</a>
              </div>
              <p>ADD A, C</p>
<h1 id="0x81-">0x81:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerC;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-167">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-167">&#182;</a>
              </div>
              <p>ADD A, D</p>
<h1 id="0x82-">0x82:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerD;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-168">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-168">&#182;</a>
              </div>
              <p>ADD A, E</p>
<h1 id="0x83-">0x83:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerE;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-169">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-169">&#182;</a>
              </div>
              <p>ADD A, H</p>
<h1 id="0x84-">0x84:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-170">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-170">&#182;</a>
              </div>
              <p>ADD A, L</p>
<h1 id="0x85-">0x85:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-171">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-171">&#182;</a>
              </div>
              <p>ADD A, (HL)</p>
<h1 id="0x86-">0x86:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-172">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-172">&#182;</a>
              </div>
              <p>ADD A, A</p>
<h1 id="0x87-">0x87:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0x8</span>);
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = (parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-173">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-173">&#182;</a>
              </div>
              <p>ADC A, B</p>
<h1 id="0x88-">0x88:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerB + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (parentObj.registerB &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-174">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-174">&#182;</a>
              </div>
              <p>ADC A, C</p>
<h1 id="0x89-">0x89:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerC + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (parentObj.registerC &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-175">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-175">&#182;</a>
              </div>
              <p>ADC A, D</p>
<h1 id="0x8a-">0x8A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerD + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (parentObj.registerD &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-176">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-176">&#182;</a>
              </div>
              <p>ADC A, E</p>
<h1 id="0x8b-">0x8B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.registerE + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (parentObj.registerE &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-177">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-177">&#182;</a>
              </div>
              <p>ADC A, H</p>
<h1 id="0x8c-">0x8C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> tempValue = (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + tempValue + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (tempValue &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-178">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-178">&#182;</a>
              </div>
              <p>ADC A, L</p>
<h1 id="0x8d-">0x8D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> tempValue = (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + tempValue + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (tempValue &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-179">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-179">&#182;</a>
              </div>
              <p>ADC A, (HL)</p>
<h1 id="0x8e-">0x8E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> tempValue = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + tempValue + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (tempValue &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-180">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-180">&#182;</a>
              </div>
              <p>ADC A, A</p>
<h1 id="0x8f-">0x8F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-181">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-181">&#182;</a>
              </div>
              <p>shift left register A one bit for some ops here as an optimization:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> dirtySum = (parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((((parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x1E</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>)) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-182">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-182">&#182;</a>
              </div>
              <p>SUB A, B</p>
<h1 id="0x90-">0x90:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerB;
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-183">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-183">&#182;</a>
              </div>
              <p>SUB A, C</p>
<h1 id="0x91-">0x91:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerC;
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-184">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-184">&#182;</a>
              </div>
              <p>SUB A, D</p>
<h1 id="0x92-">0x92:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerD;
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-185">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-185">&#182;</a>
              </div>
              <p>SUB A, E</p>
<h1 id="0x93-">0x93:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerE;
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-186">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-186">&#182;</a>
              </div>
              <p>SUB A, H</p>
<h1 id="0x94-">0x94:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-187">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-187">&#182;</a>
              </div>
              <p>SUB A, L</p>
<h1 id="0x95-">0x95:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-188">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-188">&#182;</a>
              </div>
              <p>SUB A, (HL)</p>
<h1 id="0x96-">0x96:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-189">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-189">&#182;</a>
              </div>
              <p>SUB A, A</p>
<h1 id="0x97-">0x97:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-190">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-190">&#182;</a>
              </div>
              <p>number - same number == 0</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.registerA = <span class="hljs-number">0</span>;
		parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
		parentObj.FZero = parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-191">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-191">&#182;</a>
              </div>
              <p>SBC A, B</p>
<h1 id="0x98-">0x98:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerB - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (parentObj.registerB &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-192">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-192">&#182;</a>
              </div>
              <p>SBC A, C</p>
<h1 id="0x99-">0x99:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerC - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (parentObj.registerC &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-193">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-193">&#182;</a>
              </div>
              <p>SBC A, D</p>
<h1 id="0x9a-">0x9A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerD - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (parentObj.registerD &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-194">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-194">&#182;</a>
              </div>
              <p>SBC A, E</p>
<h1 id="0x9b-">0x9B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerE - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (parentObj.registerE &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-195">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-195">&#182;</a>
              </div>
              <p>SBC A, H</p>
<h1 id="0x9c-">0x9C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>;
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - temp_var - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (temp_var &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-196">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-196">&#182;</a>
              </div>
              <p>SBC A, L</p>
<h1 id="0x9d-">0x9D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (parentObj.registersHL &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-197">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-197">&#182;</a>
              </div>
              <p>SBC A, (HL)</p>
<h1 id="0x9e-">0x9E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - temp_var - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (temp_var &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-198">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-198">&#182;</a>
              </div>
              <p>SBC A, A</p>
<h1 id="0x9f-">0x9F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-199">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-199">&#182;</a>
              </div>
              <p>Optimized SBC A:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (parentObj.FCarry) {
			parentObj.FZero = <span class="hljs-literal">false</span>;
			parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">true</span>;
			parentObj.registerA = <span class="hljs-number">0xFF</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
			parentObj.FSubtract = parentObj.FZero = <span class="hljs-literal">true</span>;
			parentObj.registerA = <span class="hljs-number">0</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-200">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-200">&#182;</a>
              </div>
              <p>AND B</p>
<h1 id="0xa0-">0xA0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.registerB;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-201">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-201">&#182;</a>
              </div>
              <p>AND C</p>
<h1 id="0xa1-">0xA1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.registerC;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-202">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-202">&#182;</a>
              </div>
              <p>AND D</p>
<h1 id="0xa2-">0xA2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.registerD;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-203">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-203">&#182;</a>
              </div>
              <p>AND E</p>
<h1 id="0xa3-">0xA3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.registerE;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-204">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-204">&#182;</a>
              </div>
              <p>AND H</p>
<h1 id="0xa4-">0xA4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-205">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-205">&#182;</a>
              </div>
              <p>AND L</p>
<h1 id="0xa5-">0xA5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.registersHL;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-206">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-206">&#182;</a>
              </div>
              <p>AND (HL)</p>
<h1 id="0xa6-">0xA6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-207">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-207">&#182;</a>
              </div>
              <p>AND A</p>
<h1 id="0xa7-">0xA7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-208">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-208">&#182;</a>
              </div>
              <p>number &amp; same number = same number</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-209">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-209">&#182;</a>
              </div>
              <p>XOR B</p>
<h1 id="0xa8-">0xA8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.registerB;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-210">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-210">&#182;</a>
              </div>
              <p>XOR C</p>
<h1 id="0xa9-">0xA9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.registerC;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-211">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-211">&#182;</a>
              </div>
              <p>XOR D</p>
<h1 id="0xaa-">0xAA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.registerD;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-212">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-212">&#182;</a>
              </div>
              <p>XOR E</p>
<h1 id="0xab-">0xAB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.registerE;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-213">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-213">&#182;</a>
              </div>
              <p>XOR H</p>
<h1 id="0xac-">0xAC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-214">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-214">&#182;</a>
              </div>
              <p>XOR L</p>
<h1 id="0xad-">0xAD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-215">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-215">&#182;</a>
              </div>
              <p>XOR (HL)</p>
<h1 id="0xae-">0xAE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-216">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-216">&#182;</a>
              </div>
              <p>XOR A</p>
<h1 id="0xaf-">0xAF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-217">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-217">&#182;</a>
              </div>
              <p>number ^ same number == 0</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.registerA = <span class="hljs-number">0</span>;
		parentObj.FZero = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-218">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-218">&#182;</a>
              </div>
              <p>OR B</p>
<h1 id="0xb0-">0xB0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.registerB;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-219">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-219">&#182;</a>
              </div>
              <p>OR C</p>
<h1 id="0xb1-">0xB1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.registerC;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-220">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-220">&#182;</a>
              </div>
              <p>OR D</p>
<h1 id="0xb2-">0xB2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.registerD;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-221">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-221">&#182;</a>
              </div>
              <p>OR E</p>
<h1 id="0xb3-">0xB3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.registerE;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-222">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-222">&#182;</a>
              </div>
              <p>OR H</p>
<h1 id="0xb4-">0xB4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-223">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-223">&#182;</a>
              </div>
              <p>OR L</p>
<h1 id="0xb5-">0xB5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-224">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-224">&#182;</a>
              </div>
              <p>OR (HL)</p>
<h1 id="0xb6-">0xB6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-225">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-225">&#182;</a>
              </div>
              <p>OR A</p>
<h1 id="0xb7-">0xB7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-226">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-226">&#182;</a>
              </div>
              <p>number | same number == same number</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-227">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-227">&#182;</a>
              </div>
              <p>CP B</p>
<h1 id="0xb8-">0xB8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerB;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-228">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-228">&#182;</a>
              </div>
              <p>CP C</p>
<h1 id="0xb9-">0xB9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerC;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-229">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-229">&#182;</a>
              </div>
              <p>CP D</p>
<h1 id="0xba-">0xBA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerD;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-230">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-230">&#182;</a>
              </div>
              <p>CP E</p>
<h1 id="0xbb-">0xBB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.registerE;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-231">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-231">&#182;</a>
              </div>
              <p>CP H</p>
<h1 id="0xbc-">0xBC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - (parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-232">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-232">&#182;</a>
              </div>
              <p>CP L</p>
<h1 id="0xbd-">0xBD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-233">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-233">&#182;</a>
              </div>
              <p>CP (HL)</p>
<h1 id="0xbe-">0xBE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-234">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-234">&#182;</a>
              </div>
              <p>CP A</p>
<h1 id="0xbf-">0xBF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
		parentObj.FZero = parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-235">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-235">&#182;</a>
              </div>
              <p>RET !FZ</p>
<h1 id="0xc0-">0xC0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FZero) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
			parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-236">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-236">&#182;</a>
              </div>
              <p>POP BC</p>
<h1 id="0xc1-">0xC1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.registerB = parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-237">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-237">&#182;</a>
              </div>
              <p>JP !FZ, nn</p>
<h1 id="0xc2-">0xC2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FZero) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-238">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-238">&#182;</a>
              </div>
              <p>JP nn</p>
<h1 id="0xc3-">0xC3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.programCounter = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-239">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-239">&#182;</a>
              </div>
              <p>CALL !FZ, nn</p>
<h1 id="0xc4-">0xC4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FZero) {
			<span class="hljs-keyword">var</span> temp_pc = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
			parentObj.programCounter = temp_pc;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-240">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-240">&#182;</a>
              </div>
              <p>PUSH BC</p>
<h1 id="0xc5-">0xC5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registerB);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registerC);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-241">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-241">&#182;</a>
              </div>
              <p>ADD, n</p>
<h1 id="0xc6-">0xC6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &lt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-242">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-242">&#182;</a>
              </div>
              <p>RST 0</p>
<h1 id="0xc7-">0xC7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-243">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-243">&#182;</a>
              </div>
              <p>RET FZ</p>
<h1 id="0xc8-">0xC8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FZero) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
			parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-244">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-244">&#182;</a>
              </div>
              <p>RET</p>
<h1 id="0xc9-">0xC9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.programCounter =  (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-245">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-245">&#182;</a>
              </div>
              <p>JP FZ, nn</p>
<h1 id="0xca-">0xCA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FZero) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-246">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-246">&#182;</a>
              </div>
              <p>Secondary OP Code Set:</p>
<h1 id="0xcb-">0xCB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> opcode = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);</pre></div></div>
            
        </li>
        
        
        <li id="section-247">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-247">&#182;</a>
              </div>
              <p>Increment the program counter to the next instruction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-248">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-248">&#182;</a>
              </div>
              <p>Get how many CPU cycles the current 0xCBXX op code counts for:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.CPUTicks += parentObj.SecondaryTICKTable[opcode];</pre></div></div>
            
        </li>
        
        
        <li id="section-249">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-249">&#182;</a>
              </div>
              <p>Execute secondary OP codes for the 0xCB OP code call.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.CBOPCODE[opcode](parentObj);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-250">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-250">&#182;</a>
              </div>
              <p>CALL FZ, nn</p>
<h1 id="0xcc-">0xCC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FZero) {
			<span class="hljs-keyword">var</span> temp_pc = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
			parentObj.programCounter = temp_pc;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-251">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-251">&#182;</a>
              </div>
              <p>CALL nn</p>
<h1 id="0xcd-">0xCD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_pc = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = temp_pc;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-252">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-252">&#182;</a>
              </div>
              <p>ADC A, n</p>
<h1 id="0xce-">0xCE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> tempValue = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA + tempValue + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) + (tempValue &amp; <span class="hljs-number">0xF</span>) + ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xF</span>);
		parentObj.FCarry = (dirtySum &gt; <span class="hljs-number">0xFF</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-253">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-253">&#182;</a>
              </div>
              <p>RST 0x8</p>
<h1 id="0xcf-">0xCF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x8</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-254">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-254">&#182;</a>
              </div>
              <p>RET !FC</p>
<h1 id="0xd0-">0xD0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FCarry) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
			parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-255">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-255">&#182;</a>
              </div>
              <p>POP DE</p>
<h1 id="0xd1-">0xD1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.registerD = parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-256">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-256">&#182;</a>
              </div>
              <p>JP !FC, nn</p>
<h1 id="0xd2-">0xD2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FCarry) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-257">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-257">&#182;</a>
              </div>
              <p>0xD3 - Illegal</p>
<h1 id="0xd3-">0xD3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xD3 called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-258">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-258">&#182;</a>
              </div>
              <p>CALL !FC, nn</p>
<h1 id="0xd4-">0xD4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (!parentObj.FCarry) {
			<span class="hljs-keyword">var</span> temp_pc = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
			parentObj.programCounter = temp_pc;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-259">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-259">&#182;</a>
              </div>
              <p>PUSH DE</p>
<h1 id="0xd5-">0xD5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registerD);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registerE);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-260">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-260">&#182;</a>
              </div>
              <p>SUB A, n</p>
<h1 id="0xd6-">0xD6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt; (dirtySum &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-261">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-261">&#182;</a>
              </div>
              <p>RST 0x10</p>
<h1 id="0xd7-">0xD7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x10</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-262">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-262">&#182;</a>
              </div>
              <p>RET FC</p>
<h1 id="0xd8-">0xD8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FCarry) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
			parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-263">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-263">&#182;</a>
              </div>
              <p>RETI</p>
<h1 id="0xd9-">0xD9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.programCounter = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-264">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-264">&#182;</a>
              </div>
              <p>Immediate for HALT:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.IRQEnableDelay = (parentObj.IRQEnableDelay == <span class="hljs-number">2</span> || parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) == <span class="hljs-number">0x76</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-265">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-265">&#182;</a>
              </div>
              <p>JP FC, nn</p>
<h1 id="0xda-">0xDA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FCarry) {
			parentObj.programCounter = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.CPUTicks += <span class="hljs-number">4</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-266">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-266">&#182;</a>
              </div>
              <p>0xDB - Illegal</p>
<h1 id="0xdb-">0xDB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xDB called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-267">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-267">&#182;</a>
              </div>
              <p>CALL FC, nn</p>
<h1 id="0xdc-">0xDC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.FCarry) {
			<span class="hljs-keyword">var</span> temp_pc = (parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
			parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
			parentObj.programCounter = temp_pc;
			parentObj.CPUTicks += <span class="hljs-number">12</span>;
		}
		<span class="hljs-keyword">else</span> {
			parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-268">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-268">&#182;</a>
              </div>
              <p>0xDD - Illegal</p>
<h1 id="0xdd-">0xDD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xDD called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-269">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-269">&#182;</a>
              </div>
              <p>SBC A, n</p>
<h1 id="0xde-">0xDE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - temp_var - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) - (temp_var &amp; <span class="hljs-number">0xF</span>) - ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>);
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.registerA = dirtySum &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-270">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-270">&#182;</a>
              </div>
              <p>RST 0x18</p>
<h1 id="0xdf-">0xDF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x18</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-271">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-271">&#182;</a>
              </div>
              <p>LDH (n), A</p>
<h1 id="0xe0-">0xE0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryHighWrite(parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter), parentObj.registerA);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-272">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-272">&#182;</a>
              </div>
              <p>POP HL</p>
<h1 id="0xe1-">0xE1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-273">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-273">&#182;</a>
              </div>
              <p>LD (0xFF00 + C), A</p>
<h1 id="0xe2-">0xE2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryHighWriter[parentObj.registerC](parentObj, parentObj.registerC, parentObj.registerA);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-274">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-274">&#182;</a>
              </div>
              <p>0xE3 - Illegal</p>
<h1 id="0xe3-">0xE3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xE3 called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-275">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-275">&#182;</a>
              </div>
              <p>0xE4 - Illegal</p>
<h1 id="0xe4-">0xE4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xE4 called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-276">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-276">&#182;</a>
              </div>
              <p>PUSH HL</p>
<h1 id="0xe5-">0xE5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registersHL &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-277">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-277">&#182;</a>
              </div>
              <p>AND n</p>
<h1 id="0xe6-">0xE6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-278">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-278">&#182;</a>
              </div>
              <p>RST 0x20</p>
<h1 id="0xe7-">0xE7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x20</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-279">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-279">&#182;</a>
              </div>
              <p>ADD SP, n</p>
<h1 id="0xe8-">0xE8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_value2 = (parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>;
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		<span class="hljs-keyword">var</span> temp_value = (parentObj.stackPointer + temp_value2) &amp; <span class="hljs-number">0xFFFF</span>;
		temp_value2 = parentObj.stackPointer ^ temp_value2 ^ temp_value;
		parentObj.stackPointer = temp_value;
		parentObj.FCarry = ((temp_value2 &amp; <span class="hljs-number">0x100</span>) == <span class="hljs-number">0x100</span>);
		parentObj.FHalfCarry = ((temp_value2 &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
		parentObj.FZero = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-280">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-280">&#182;</a>
              </div>
              <p>JP, (HL)</p>
<h1 id="0xe9-">0xE9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.programCounter = parentObj.registersHL;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-281">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-281">&#182;</a>
              </div>
              <p>LD n, A</p>
<h1 id="0xea-">0xEA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWrite((parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter), parentObj.registerA);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-282">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-282">&#182;</a>
              </div>
              <p>0xEB - Illegal</p>
<h1 id="0xeb-">0xEB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xEB called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-283">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-283">&#182;</a>
              </div>
              <p>0xEC - Illegal</p>
<h1 id="0xec-">0xEC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xEC called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-284">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-284">&#182;</a>
              </div>
              <p>0xED - Illegal</p>
<h1 id="0xed-">0xED:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xED called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-285">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-285">&#182;</a>
              </div>
              <p>XOR n</p>
<h1 id="0xee-">0xEE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA ^= parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FSubtract = parentObj.FHalfCarry = parentObj.FCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-286">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-286">&#182;</a>
              </div>
              <p>RST 0x28</p>
<h1 id="0xef-">0xEF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x28</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-287">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-287">&#182;</a>
              </div>
              <p>LDH A, (n)</p>
<h1 id="0xf0-">0xF0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryHighRead(parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter));
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-288">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-288">&#182;</a>
              </div>
              <p>POP AF</p>
<h1 id="0xf1-">0xF1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.stackPointer](parentObj, parentObj.stackPointer);
		parentObj.FZero = (temp_var &gt; <span class="hljs-number">0x7F</span>);
		parentObj.FSubtract = ((temp_var &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>);
		parentObj.FHalfCarry = ((temp_var &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>);
		parentObj.FCarry = ((temp_var &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
		parentObj.registerA = parentObj.memoryRead((parentObj.stackPointer + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>);
		parentObj.stackPointer = (parentObj.stackPointer + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-289">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-289">&#182;</a>
              </div>
              <p>LD A, (0xFF00 + C)</p>
<h1 id="0xf2-">0xF2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryHighReader[parentObj.registerC](parentObj, parentObj.registerC);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-290">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-290">&#182;</a>
              </div>
              <p>DI</p>
<h1 id="0xf3-">0xF3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.IME = <span class="hljs-literal">false</span>;
		parentObj.IRQEnableDelay = <span class="hljs-number">0</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-291">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-291">&#182;</a>
              </div>
              <p>0xF4 - Illegal</p>
<h1 id="0xf4-">0xF4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xF4 called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-292">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-292">&#182;</a>
              </div>
              <p>PUSH AF</p>
<h1 id="0xf5-">0xF5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.registerA);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, ((parentObj.FZero) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | ((parentObj.FSubtract) ? <span class="hljs-number">0x40</span> : <span class="hljs-number">0</span>) | ((parentObj.FHalfCarry) ? <span class="hljs-number">0x20</span> : <span class="hljs-number">0</span>) | ((parentObj.FCarry) ? <span class="hljs-number">0x10</span> : <span class="hljs-number">0</span>));
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-293">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-293">&#182;</a>
              </div>
              <p>OR n</p>
<h1 id="0xf6-">0xF6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FSubtract = parentObj.FCarry = parentObj.FHalfCarry = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-294">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-294">&#182;</a>
              </div>
              <p>RST 0x30</p>
<h1 id="0xf7-">0xF7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x30</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-295">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-295">&#182;</a>
              </div>
              <p>LDHL SP, n</p>
<h1 id="0xf8-">0xF8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = (parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) &lt;&lt; <span class="hljs-number">24</span>) &gt;&gt; <span class="hljs-number">24</span>;
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.registersHL = (parentObj.stackPointer + temp_var) &amp; <span class="hljs-number">0xFFFF</span>;
		temp_var = parentObj.stackPointer ^ temp_var ^ parentObj.registersHL;
		parentObj.FCarry = ((temp_var &amp; <span class="hljs-number">0x100</span>) == <span class="hljs-number">0x100</span>);
		parentObj.FHalfCarry = ((temp_var &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
		parentObj.FZero = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-296">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-296">&#182;</a>
              </div>
              <p>LD SP, HL</p>
<h1 id="0xf9-">0xF9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = parentObj.registersHL;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-297">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-297">&#182;</a>
              </div>
              <p>LD A, (nn)</p>
<h1 id="0xfa-">0xFA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = parentObj.memoryRead((parentObj.memoryRead((parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>) &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter));
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0xFFFF</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-298">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-298">&#182;</a>
              </div>
              <p>EI</p>
<h1 id="0xfb-">0xFB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-299">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-299">&#182;</a>
              </div>
              <p>Immediate for HALT:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.IRQEnableDelay = (parentObj.IRQEnableDelay == <span class="hljs-number">2</span> || parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter) == <span class="hljs-number">0x76</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-300">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-300">&#182;</a>
              </div>
              <p>0xFC - Illegal</p>
<h1 id="0xfc-">0xFC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xFC called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-301">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-301">&#182;</a>
              </div>
              <p>0xFD - Illegal</p>
<h1 id="0xfd-">0xFD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		cout(<span class="hljs-string">"Illegal op code 0xFD called, pausing emulation."</span>, <span class="hljs-number">2</span>);
		pause();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-302">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-302">&#182;</a>
              </div>
              <p>CP n</p>
<h1 id="0xfe-">0xFE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> dirtySum = parentObj.registerA - parentObj.memoryReader[parentObj.programCounter](parentObj, parentObj.programCounter);
		parentObj.programCounter = (parentObj.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.FHalfCarry = ((dirtySum &amp; <span class="hljs-number">0xF</span>) &gt; (parentObj.registerA &amp; <span class="hljs-number">0xF</span>));
		parentObj.FCarry = (dirtySum &lt; <span class="hljs-number">0</span>);
		parentObj.FZero = (dirtySum == <span class="hljs-number">0</span>);
		parentObj.FSubtract = <span class="hljs-literal">true</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-303">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-303">&#182;</a>
              </div>
              <p>RST 0x38</p>
<h1 id="0xff-">0xFF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &gt;&gt; <span class="hljs-number">8</span>);
		parentObj.stackPointer = (parentObj.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
		parentObj.memoryWriter[parentObj.stackPointer](parentObj, parentObj.stackPointer, parentObj.programCounter &amp; <span class="hljs-number">0xFF</span>);
		parentObj.programCounter = <span class="hljs-number">0x38</span>;
	}
];
GameBoyCore.prototype.CBOPCODE = [</pre></div></div>
            
        </li>
        
        
        <li id="section-304">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-304">&#182;</a>
              </div>
              <p>RLC B</p>
<h1 id="0x00-">0x00:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerB &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerB = ((parentObj.registerB &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-305">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-305">&#182;</a>
              </div>
              <p>RLC C</p>
<h1 id="0x01-">0x01:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerC &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerC = ((parentObj.registerC &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-306">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-306">&#182;</a>
              </div>
              <p>RLC D</p>
<h1 id="0x02-">0x02:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerD &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerD = ((parentObj.registerD &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-307">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-307">&#182;</a>
              </div>
              <p>RLC E</p>
<h1 id="0x03-">0x03:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerE &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerE = ((parentObj.registerE &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-308">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-308">&#182;</a>
              </div>
              <p>RLC H</p>
<h1 id="0x04-">0x04:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registersHL &gt; <span class="hljs-number">0x7FFF</span>);
		parentObj.registersHL = ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFE00</span>) | ((parentObj.FCarry) ? <span class="hljs-number">0x100</span> : <span class="hljs-number">0</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-309">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-309">&#182;</a>
              </div>
              <p>RLC L</p>
<h1 id="0x05-">0x05:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0x80</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-310">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-310">&#182;</a>
              </div>
              <p>RLC (HL)</p>
<h1 id="0x06-">0x06:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FCarry = (temp_var &gt; <span class="hljs-number">0x7F</span>);
		temp_var = ((temp_var &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-311">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-311">&#182;</a>
              </div>
              <p>RLC A</p>
<h1 id="0x07-">0x07:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = ((parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-312">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-312">&#182;</a>
              </div>
              <p>RRC B</p>
<h1 id="0x08-">0x08:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerB &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerB = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerB &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-313">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-313">&#182;</a>
              </div>
              <p>RRC C</p>
<h1 id="0x09-">0x09:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerC &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerC = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerC &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-314">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-314">&#182;</a>
              </div>
              <p>RRC D</p>
<h1 id="0x0a-">0x0A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerD &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerD = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerD &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-315">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-315">&#182;</a>
              </div>
              <p>RRC E</p>
<h1 id="0x0b-">0x0B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerE &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerE = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerE &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-316">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-316">&#182;</a>
              </div>
              <p>RRC H</p>
<h1 id="0x0c-">0x0C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0100</span>) == <span class="hljs-number">0x0100</span>);
		parentObj.registersHL = ((parentObj.FCarry) ? <span class="hljs-number">0x8000</span> : <span class="hljs-number">0</span>) | ((parentObj.registersHL &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF00</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-317">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-317">&#182;</a>
              </div>
              <p>RRC L</p>
<h1 id="0x0d-">0x0D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-318">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-318">&#182;</a>
              </div>
              <p>RRC (HL)</p>
<h1 id="0x0e-">0x0E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FCarry = ((temp_var &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		temp_var = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (temp_var &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-319">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-319">&#182;</a>
              </div>
              <p>RRC A</p>
<h1 id="0x0f-">0x0F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerA &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerA = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerA &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-320">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-320">&#182;</a>
              </div>
              <p>RL B</p>
<h1 id="0x10-">0x10:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registerB &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerB = ((parentObj.registerB &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-321">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-321">&#182;</a>
              </div>
              <p>RL C</p>
<h1 id="0x11-">0x11:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registerC &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerC = ((parentObj.registerC &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-322">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-322">&#182;</a>
              </div>
              <p>RL D</p>
<h1 id="0x12-">0x12:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registerD &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerD = ((parentObj.registerD &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-323">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-323">&#182;</a>
              </div>
              <p>RL E</p>
<h1 id="0x13-">0x13:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registerE &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerE = ((parentObj.registerE &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-324">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-324">&#182;</a>
              </div>
              <p>RL H</p>
<h1 id="0x14-">0x14:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registersHL &gt; <span class="hljs-number">0x7FFF</span>);
		parentObj.registersHL = ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFE00</span>) | ((parentObj.FCarry) ? <span class="hljs-number">0x100</span> : <span class="hljs-number">0</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-325">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-325">&#182;</a>
              </div>
              <p>RL L</p>
<h1 id="0x15-">0x15:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0x80</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-326">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-326">&#182;</a>
              </div>
              <p>RL (HL)</p>
<h1 id="0x16-">0x16:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		<span class="hljs-keyword">var</span> newFCarry = (temp_var &gt; <span class="hljs-number">0x7F</span>);
		temp_var = ((temp_var &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-327">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-327">&#182;</a>
              </div>
              <p>RL A</p>
<h1 id="0x17-">0x17:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = ((parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>) | ((parentObj.FCarry) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-328">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-328">&#182;</a>
              </div>
              <p>RR B</p>
<h1 id="0x18-">0x18:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registerB &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerB = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerB &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-329">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-329">&#182;</a>
              </div>
              <p>RR C</p>
<h1 id="0x19-">0x19:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registerC &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerC = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerC &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-330">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-330">&#182;</a>
              </div>
              <p>RR D</p>
<h1 id="0x1a-">0x1A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registerD &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerD = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerD &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-331">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-331">&#182;</a>
              </div>
              <p>RR E</p>
<h1 id="0x1b-">0x1B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registerE &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerE = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerE &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-332">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-332">&#182;</a>
              </div>
              <p>RR H</p>
<h1 id="0x1c-">0x1C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0100</span>) == <span class="hljs-number">0x0100</span>);
		parentObj.registersHL = ((parentObj.FCarry) ? <span class="hljs-number">0x8000</span> : <span class="hljs-number">0</span>) | ((parentObj.registersHL &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF00</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-333">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-333">&#182;</a>
              </div>
              <p>RR L</p>
<h1 id="0x1d-">0x1D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-334">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-334">&#182;</a>
              </div>
              <p>RR (HL)</p>
<h1 id="0x1e-">0x1E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		<span class="hljs-keyword">var</span> newFCarry = ((temp_var &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		temp_var = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (temp_var &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-335">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-335">&#182;</a>
              </div>
              <p>RR A</p>
<h1 id="0x1f-">0x1F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> newFCarry = ((parentObj.registerA &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerA = ((parentObj.FCarry) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) | (parentObj.registerA &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FCarry = newFCarry;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-336">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-336">&#182;</a>
              </div>
              <p>SLA B</p>
<h1 id="0x20-">0x20:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerB &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerB = (parentObj.registerB &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-337">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-337">&#182;</a>
              </div>
              <p>SLA C</p>
<h1 id="0x21-">0x21:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerC &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerC = (parentObj.registerC &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-338">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-338">&#182;</a>
              </div>
              <p>SLA D</p>
<h1 id="0x22-">0x22:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerD &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerD = (parentObj.registerD &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-339">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-339">&#182;</a>
              </div>
              <p>SLA E</p>
<h1 id="0x23-">0x23:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerE &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerE = (parentObj.registerE &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-340">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-340">&#182;</a>
              </div>
              <p>SLA H</p>
<h1 id="0x24-">0x24:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registersHL &gt; <span class="hljs-number">0x7FFF</span>);
		parentObj.registersHL = ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFE00</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-341">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-341">&#182;</a>
              </div>
              <p>SLA L</p>
<h1 id="0x25-">0x25:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0080</span>) == <span class="hljs-number">0x0080</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.registersHL &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-342">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-342">&#182;</a>
              </div>
              <p>SLA (HL)</p>
<h1 id="0x26-">0x26:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FCarry = (temp_var &gt; <span class="hljs-number">0x7F</span>);
		temp_var = (temp_var &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-343">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-343">&#182;</a>
              </div>
              <p>SLA A</p>
<h1 id="0x27-">0x27:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = (parentObj.registerA &gt; <span class="hljs-number">0x7F</span>);
		parentObj.registerA = (parentObj.registerA &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-344">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-344">&#182;</a>
              </div>
              <p>SRA B</p>
<h1 id="0x28-">0x28:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerB &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerB = (parentObj.registerB &amp; <span class="hljs-number">0x80</span>) | (parentObj.registerB &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-345">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-345">&#182;</a>
              </div>
              <p>SRA C</p>
<h1 id="0x29-">0x29:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerC &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerC = (parentObj.registerC &amp; <span class="hljs-number">0x80</span>) | (parentObj.registerC &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-346">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-346">&#182;</a>
              </div>
              <p>SRA D</p>
<h1 id="0x2a-">0x2A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerD &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerD = (parentObj.registerD &amp; <span class="hljs-number">0x80</span>) | (parentObj.registerD &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-347">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-347">&#182;</a>
              </div>
              <p>SRA E</p>
<h1 id="0x2b-">0x2B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerE &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerE = (parentObj.registerE &amp; <span class="hljs-number">0x80</span>) | (parentObj.registerE &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-348">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-348">&#182;</a>
              </div>
              <p>SRA H</p>
<h1 id="0x2c-">0x2C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0100</span>) == <span class="hljs-number">0x0100</span>);
		parentObj.registersHL = ((parentObj.registersHL &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF00</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0x80FF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-349">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-349">&#182;</a>
              </div>
              <p>SRA L</p>
<h1 id="0x2d-">0x2D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0001</span>) == <span class="hljs-number">0x0001</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF80</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-350">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-350">&#182;</a>
              </div>
              <p>SRA (HL)</p>
<h1 id="0x2e-">0x2E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FCarry = ((temp_var &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		temp_var = (temp_var &amp; <span class="hljs-number">0x80</span>) | (temp_var &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-351">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-351">&#182;</a>
              </div>
              <p>SRA A</p>
<h1 id="0x2f-">0x2F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerA &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerA = (parentObj.registerA &amp; <span class="hljs-number">0x80</span>) | (parentObj.registerA &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-352">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-352">&#182;</a>
              </div>
              <p>SWAP B</p>
<h1 id="0x30-">0x30:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB = ((parentObj.registerB &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (parentObj.registerB &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-353">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-353">&#182;</a>
              </div>
              <p>SWAP C</p>
<h1 id="0x31-">0x31:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC = ((parentObj.registerC &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (parentObj.registerC &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-354">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-354">&#182;</a>
              </div>
              <p>SWAP D</p>
<h1 id="0x32-">0x32:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD = ((parentObj.registerD &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (parentObj.registerD &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-355">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-355">&#182;</a>
              </div>
              <p>SWAP E</p>
<h1 id="0x33-">0x33:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE = ((parentObj.registerE &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (parentObj.registerE &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-356">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-356">&#182;</a>
              </div>
              <p>SWAP H</p>
<h1 id="0x34-">0x34:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = ((parentObj.registersHL &amp; <span class="hljs-number">0xF00</span>) &lt;&lt; <span class="hljs-number">4</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xF000</span>) &gt;&gt; <span class="hljs-number">4</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-357">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-357">&#182;</a>
              </div>
              <p>SWAP L</p>
<h1 id="0x35-">0x35:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xF0</span>) &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-358">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-358">&#182;</a>
              </div>
              <p>SWAP (HL)</p>
<h1 id="0x36-">0x36:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		temp_var = ((temp_var &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (temp_var &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var);
		parentObj.FZero = (temp_var == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-359">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-359">&#182;</a>
              </div>
              <p>SWAP A</p>
<h1 id="0x37-">0x37:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA = ((parentObj.registerA &amp; <span class="hljs-number">0xF</span>) &lt;&lt; <span class="hljs-number">4</span>) | (parentObj.registerA &gt;&gt; <span class="hljs-number">4</span>);
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
		parentObj.FCarry = parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-360">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-360">&#182;</a>
              </div>
              <p>SRL B</p>
<h1 id="0x38-">0x38:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerB &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerB &gt;&gt;= <span class="hljs-number">1</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerB == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-361">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-361">&#182;</a>
              </div>
              <p>SRL C</p>
<h1 id="0x39-">0x39:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerC &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerC &gt;&gt;= <span class="hljs-number">1</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerC == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-362">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-362">&#182;</a>
              </div>
              <p>SRL D</p>
<h1 id="0x3a-">0x3A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerD &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerD &gt;&gt;= <span class="hljs-number">1</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerD == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-363">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-363">&#182;</a>
              </div>
              <p>SRL E</p>
<h1 id="0x3b-">0x3B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerE &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerE &gt;&gt;= <span class="hljs-number">1</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerE == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-364">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-364">&#182;</a>
              </div>
              <p>SRL H</p>
<h1 id="0x3c-">0x3C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0100</span>) == <span class="hljs-number">0x0100</span>);
		parentObj.registersHL = ((parentObj.registersHL &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF00</span>) | (parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registersHL &lt; <span class="hljs-number">0x100</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-365">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-365">&#182;</a>
              </div>
              <p>SRL L</p>
<h1 id="0x3d-">0x3D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registersHL &amp; <span class="hljs-number">0x0001</span>) == <span class="hljs-number">0x0001</span>);
		parentObj.registersHL = (parentObj.registersHL &amp; <span class="hljs-number">0xFF00</span>) | ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0xFF</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-366">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-366">&#182;</a>
              </div>
              <p>SRL (HL)</p>
<h1 id="0x3e-">0x3E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		<span class="hljs-keyword">var</span> temp_var = parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL);
		parentObj.FCarry = ((temp_var &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, temp_var &gt;&gt; <span class="hljs-number">1</span>);
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (temp_var &lt; <span class="hljs-number">2</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-367">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-367">&#182;</a>
              </div>
              <p>SRL A</p>
<h1 id="0x3f-">0x3F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FCarry = ((parentObj.registerA &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
		parentObj.registerA &gt;&gt;= <span class="hljs-number">1</span>;
		parentObj.FHalfCarry = parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = (parentObj.registerA == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-368">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-368">&#182;</a>
              </div>
              <p>BIT 0, B</p>
<h1 id="0x40-">0x40:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-369">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-369">&#182;</a>
              </div>
              <p>BIT 0, C</p>
<h1 id="0x41-">0x41:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-370">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-370">&#182;</a>
              </div>
              <p>BIT 0, D</p>
<h1 id="0x42-">0x42:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-371">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-371">&#182;</a>
              </div>
              <p>BIT 0, E</p>
<h1 id="0x43-">0x43:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-372">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-372">&#182;</a>
              </div>
              <p>BIT 0, H</p>
<h1 id="0x44-">0x44:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0100</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-373">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-373">&#182;</a>
              </div>
              <p>BIT 0, L</p>
<h1 id="0x45-">0x45:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0001</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-374">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-374">&#182;</a>
              </div>
              <p>BIT 0, (HL)</p>
<h1 id="0x46-">0x46:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-375">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-375">&#182;</a>
              </div>
              <p>BIT 0, A</p>
<h1 id="0x47-">0x47:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-376">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-376">&#182;</a>
              </div>
              <p>BIT 1, B</p>
<h1 id="0x48-">0x48:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-377">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-377">&#182;</a>
              </div>
              <p>BIT 1, C</p>
<h1 id="0x49-">0x49:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-378">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-378">&#182;</a>
              </div>
              <p>BIT 1, D</p>
<h1 id="0x4a-">0x4A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-379">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-379">&#182;</a>
              </div>
              <p>BIT 1, E</p>
<h1 id="0x4b-">0x4B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-380">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-380">&#182;</a>
              </div>
              <p>BIT 1, H</p>
<h1 id="0x4c-">0x4C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0200</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-381">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-381">&#182;</a>
              </div>
              <p>BIT 1, L</p>
<h1 id="0x4d-">0x4D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0002</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-382">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-382">&#182;</a>
              </div>
              <p>BIT 1, (HL)</p>
<h1 id="0x4e-">0x4E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-383">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-383">&#182;</a>
              </div>
              <p>BIT 1, A</p>
<h1 id="0x4f-">0x4F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-384">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-384">&#182;</a>
              </div>
              <p>BIT 2, B</p>
<h1 id="0x50-">0x50:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-385">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-385">&#182;</a>
              </div>
              <p>BIT 2, C</p>
<h1 id="0x51-">0x51:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-386">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-386">&#182;</a>
              </div>
              <p>BIT 2, D</p>
<h1 id="0x52-">0x52:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-387">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-387">&#182;</a>
              </div>
              <p>BIT 2, E</p>
<h1 id="0x53-">0x53:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-388">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-388">&#182;</a>
              </div>
              <p>BIT 2, H</p>
<h1 id="0x54-">0x54:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0400</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-389">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-389">&#182;</a>
              </div>
              <p>BIT 2, L</p>
<h1 id="0x55-">0x55:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0004</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-390">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-390">&#182;</a>
              </div>
              <p>BIT 2, (HL)</p>
<h1 id="0x56-">0x56:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-391">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-391">&#182;</a>
              </div>
              <p>BIT 2, A</p>
<h1 id="0x57-">0x57:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-392">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-392">&#182;</a>
              </div>
              <p>BIT 3, B</p>
<h1 id="0x58-">0x58:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-393">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-393">&#182;</a>
              </div>
              <p>BIT 3, C</p>
<h1 id="0x59-">0x59:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-394">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-394">&#182;</a>
              </div>
              <p>BIT 3, D</p>
<h1 id="0x5a-">0x5A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-395">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-395">&#182;</a>
              </div>
              <p>BIT 3, E</p>
<h1 id="0x5b-">0x5B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-396">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-396">&#182;</a>
              </div>
              <p>BIT 3, H</p>
<h1 id="0x5c-">0x5C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0800</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-397">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-397">&#182;</a>
              </div>
              <p>BIT 3, L</p>
<h1 id="0x5d-">0x5D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0008</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-398">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-398">&#182;</a>
              </div>
              <p>BIT 3, (HL)</p>
<h1 id="0x5e-">0x5E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-399">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-399">&#182;</a>
              </div>
              <p>BIT 3, A</p>
<h1 id="0x5f-">0x5F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-400">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-400">&#182;</a>
              </div>
              <p>BIT 4, B</p>
<h1 id="0x60-">0x60:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-401">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-401">&#182;</a>
              </div>
              <p>BIT 4, C</p>
<h1 id="0x61-">0x61:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-402">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-402">&#182;</a>
              </div>
              <p>BIT 4, D</p>
<h1 id="0x62-">0x62:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-403">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-403">&#182;</a>
              </div>
              <p>BIT 4, E</p>
<h1 id="0x63-">0x63:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-404">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-404">&#182;</a>
              </div>
              <p>BIT 4, H</p>
<h1 id="0x64-">0x64:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x1000</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-405">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-405">&#182;</a>
              </div>
              <p>BIT 4, L</p>
<h1 id="0x65-">0x65:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0010</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-406">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-406">&#182;</a>
              </div>
              <p>BIT 4, (HL)</p>
<h1 id="0x66-">0x66:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-407">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-407">&#182;</a>
              </div>
              <p>BIT 4, A</p>
<h1 id="0x67-">0x67:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-408">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-408">&#182;</a>
              </div>
              <p>BIT 5, B</p>
<h1 id="0x68-">0x68:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-409">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-409">&#182;</a>
              </div>
              <p>BIT 5, C</p>
<h1 id="0x69-">0x69:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-410">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-410">&#182;</a>
              </div>
              <p>BIT 5, D</p>
<h1 id="0x6a-">0x6A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-411">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-411">&#182;</a>
              </div>
              <p>BIT 5, E</p>
<h1 id="0x6b-">0x6B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-412">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-412">&#182;</a>
              </div>
              <p>BIT 5, H</p>
<h1 id="0x6c-">0x6C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x2000</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-413">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-413">&#182;</a>
              </div>
              <p>BIT 5, L</p>
<h1 id="0x6d-">0x6D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0020</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-414">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-414">&#182;</a>
              </div>
              <p>BIT 5, (HL)</p>
<h1 id="0x6e-">0x6E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-415">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-415">&#182;</a>
              </div>
              <p>BIT 5, A</p>
<h1 id="0x6f-">0x6F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-416">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-416">&#182;</a>
              </div>
              <p>BIT 6, B</p>
<h1 id="0x70-">0x70:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-417">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-417">&#182;</a>
              </div>
              <p>BIT 6, C</p>
<h1 id="0x71-">0x71:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-418">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-418">&#182;</a>
              </div>
              <p>BIT 6, D</p>
<h1 id="0x72-">0x72:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-419">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-419">&#182;</a>
              </div>
              <p>BIT 6, E</p>
<h1 id="0x73-">0x73:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-420">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-420">&#182;</a>
              </div>
              <p>BIT 6, H</p>
<h1 id="0x74-">0x74:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x4000</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-421">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-421">&#182;</a>
              </div>
              <p>BIT 6, L</p>
<h1 id="0x75-">0x75:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0040</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-422">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-422">&#182;</a>
              </div>
              <p>BIT 6, (HL)</p>
<h1 id="0x76-">0x76:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-423">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-423">&#182;</a>
              </div>
              <p>BIT 6, A</p>
<h1 id="0x77-">0x77:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-424">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-424">&#182;</a>
              </div>
              <p>BIT 7, B</p>
<h1 id="0x78-">0x78:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerB &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-425">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-425">&#182;</a>
              </div>
              <p>BIT 7, C</p>
<h1 id="0x79-">0x79:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerC &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-426">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-426">&#182;</a>
              </div>
              <p>BIT 7, D</p>
<h1 id="0x7a-">0x7A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerD &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-427">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-427">&#182;</a>
              </div>
              <p>BIT 7, E</p>
<h1 id="0x7b-">0x7B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerE &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-428">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-428">&#182;</a>
              </div>
              <p>BIT 7, H</p>
<h1 id="0x7c-">0x7C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x8000</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-429">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-429">&#182;</a>
              </div>
              <p>BIT 7, L</p>
<h1 id="0x7d-">0x7D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registersHL &amp; <span class="hljs-number">0x0080</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-430">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-430">&#182;</a>
              </div>
              <p>BIT 7, (HL)</p>
<h1 id="0x7e-">0x7E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-431">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-431">&#182;</a>
              </div>
              <p>BIT 7, A</p>
<h1 id="0x7f-">0x7F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.FHalfCarry = <span class="hljs-literal">true</span>;
		parentObj.FSubtract = <span class="hljs-literal">false</span>;
		parentObj.FZero = ((parentObj.registerA &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-432">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-432">&#182;</a>
              </div>
              <p>RES 0, B</p>
<h1 id="0x80-">0x80:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-433">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-433">&#182;</a>
              </div>
              <p>RES 0, C</p>
<h1 id="0x81-">0x81:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-434">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-434">&#182;</a>
              </div>
              <p>RES 0, D</p>
<h1 id="0x82-">0x82:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-435">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-435">&#182;</a>
              </div>
              <p>RES 0, E</p>
<h1 id="0x83-">0x83:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-436">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-436">&#182;</a>
              </div>
              <p>RES 0, H</p>
<h1 id="0x84-">0x84:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFEFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-437">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-437">&#182;</a>
              </div>
              <p>RES 0, L</p>
<h1 id="0x85-">0x85:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-438">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-438">&#182;</a>
              </div>
              <p>RES 0, (HL)</p>
<h1 id="0x86-">0x86:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xFE</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-439">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-439">&#182;</a>
              </div>
              <p>RES 0, A</p>
<h1 id="0x87-">0x87:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xFE</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-440">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-440">&#182;</a>
              </div>
              <p>RES 1, B</p>
<h1 id="0x88-">0x88:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-441">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-441">&#182;</a>
              </div>
              <p>RES 1, C</p>
<h1 id="0x89-">0x89:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-442">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-442">&#182;</a>
              </div>
              <p>RES 1, D</p>
<h1 id="0x8a-">0x8A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-443">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-443">&#182;</a>
              </div>
              <p>RES 1, E</p>
<h1 id="0x8b-">0x8B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-444">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-444">&#182;</a>
              </div>
              <p>RES 1, H</p>
<h1 id="0x8c-">0x8C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFDFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-445">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-445">&#182;</a>
              </div>
              <p>RES 1, L</p>
<h1 id="0x8d-">0x8D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-446">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-446">&#182;</a>
              </div>
              <p>RES 1, (HL)</p>
<h1 id="0x8e-">0x8E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xFD</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-447">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-447">&#182;</a>
              </div>
              <p>RES 1, A</p>
<h1 id="0x8f-">0x8F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xFD</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-448">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-448">&#182;</a>
              </div>
              <p>RES 2, B</p>
<h1 id="0x90-">0x90:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-449">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-449">&#182;</a>
              </div>
              <p>RES 2, C</p>
<h1 id="0x91-">0x91:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-450">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-450">&#182;</a>
              </div>
              <p>RES 2, D</p>
<h1 id="0x92-">0x92:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-451">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-451">&#182;</a>
              </div>
              <p>RES 2, E</p>
<h1 id="0x93-">0x93:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-452">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-452">&#182;</a>
              </div>
              <p>RES 2, H</p>
<h1 id="0x94-">0x94:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFBFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-453">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-453">&#182;</a>
              </div>
              <p>RES 2, L</p>
<h1 id="0x95-">0x95:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-454">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-454">&#182;</a>
              </div>
              <p>RES 2, (HL)</p>
<h1 id="0x96-">0x96:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xFB</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-455">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-455">&#182;</a>
              </div>
              <p>RES 2, A</p>
<h1 id="0x97-">0x97:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xFB</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-456">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-456">&#182;</a>
              </div>
              <p>RES 3, B</p>
<h1 id="0x98-">0x98:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-457">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-457">&#182;</a>
              </div>
              <p>RES 3, C</p>
<h1 id="0x99-">0x99:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-458">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-458">&#182;</a>
              </div>
              <p>RES 3, D</p>
<h1 id="0x9a-">0x9A:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-459">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-459">&#182;</a>
              </div>
              <p>RES 3, E</p>
<h1 id="0x9b-">0x9B:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-460">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-460">&#182;</a>
              </div>
              <p>RES 3, H</p>
<h1 id="0x9c-">0x9C:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xF7FF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-461">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-461">&#182;</a>
              </div>
              <p>RES 3, L</p>
<h1 id="0x9d-">0x9D:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-462">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-462">&#182;</a>
              </div>
              <p>RES 3, (HL)</p>
<h1 id="0x9e-">0x9E:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xF7</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-463">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-463">&#182;</a>
              </div>
              <p>RES 3, A</p>
<h1 id="0x9f-">0x9F:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xF7</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-464">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-464">&#182;</a>
              </div>
              <p>RES 3, B</p>
<h1 id="0xa0-">0xA0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-465">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-465">&#182;</a>
              </div>
              <p>RES 4, C</p>
<h1 id="0xa1-">0xA1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-466">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-466">&#182;</a>
              </div>
              <p>RES 4, D</p>
<h1 id="0xa2-">0xA2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-467">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-467">&#182;</a>
              </div>
              <p>RES 4, E</p>
<h1 id="0xa3-">0xA3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-468">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-468">&#182;</a>
              </div>
              <p>RES 4, H</p>
<h1 id="0xa4-">0xA4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xEFFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-469">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-469">&#182;</a>
              </div>
              <p>RES 4, L</p>
<h1 id="0xa5-">0xA5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-470">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-470">&#182;</a>
              </div>
              <p>RES 4, (HL)</p>
<h1 id="0xa6-">0xA6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xEF</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-471">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-471">&#182;</a>
              </div>
              <p>RES 4, A</p>
<h1 id="0xa7-">0xA7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xEF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-472">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-472">&#182;</a>
              </div>
              <p>RES 5, B</p>
<h1 id="0xa8-">0xA8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-473">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-473">&#182;</a>
              </div>
              <p>RES 5, C</p>
<h1 id="0xa9-">0xA9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-474">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-474">&#182;</a>
              </div>
              <p>RES 5, D</p>
<h1 id="0xaa-">0xAA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-475">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-475">&#182;</a>
              </div>
              <p>RES 5, E</p>
<h1 id="0xab-">0xAB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-476">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-476">&#182;</a>
              </div>
              <p>RES 5, H</p>
<h1 id="0xac-">0xAC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xDFFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-477">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-477">&#182;</a>
              </div>
              <p>RES 5, L</p>
<h1 id="0xad-">0xAD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-478">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-478">&#182;</a>
              </div>
              <p>RES 5, (HL)</p>
<h1 id="0xae-">0xAE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xDF</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-479">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-479">&#182;</a>
              </div>
              <p>RES 5, A</p>
<h1 id="0xaf-">0xAF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xDF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-480">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-480">&#182;</a>
              </div>
              <p>RES 6, B</p>
<h1 id="0xb0-">0xB0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0xBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-481">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-481">&#182;</a>
              </div>
              <p>RES 6, C</p>
<h1 id="0xb1-">0xB1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0xBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-482">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-482">&#182;</a>
              </div>
              <p>RES 6, D</p>
<h1 id="0xb2-">0xB2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0xBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-483">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-483">&#182;</a>
              </div>
              <p>RES 6, E</p>
<h1 id="0xb3-">0xB3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0xBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-484">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-484">&#182;</a>
              </div>
              <p>RES 6, H</p>
<h1 id="0xb4-">0xB4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xBFFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-485">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-485">&#182;</a>
              </div>
              <p>RES 6, L</p>
<h1 id="0xb5-">0xB5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFFBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-486">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-486">&#182;</a>
              </div>
              <p>RES 6, (HL)</p>
<h1 id="0xb6-">0xB6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0xBF</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-487">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-487">&#182;</a>
              </div>
              <p>RES 6, A</p>
<h1 id="0xb7-">0xB7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0xBF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-488">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-488">&#182;</a>
              </div>
              <p>RES 7, B</p>
<h1 id="0xb8-">0xB8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB &amp;= <span class="hljs-number">0x7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-489">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-489">&#182;</a>
              </div>
              <p>RES 7, C</p>
<h1 id="0xb9-">0xB9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC &amp;= <span class="hljs-number">0x7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-490">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-490">&#182;</a>
              </div>
              <p>RES 7, D</p>
<h1 id="0xba-">0xBA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD &amp;= <span class="hljs-number">0x7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-491">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-491">&#182;</a>
              </div>
              <p>RES 7, E</p>
<h1 id="0xbb-">0xBB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE &amp;= <span class="hljs-number">0x7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-492">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-492">&#182;</a>
              </div>
              <p>RES 7, H</p>
<h1 id="0xbc-">0xBC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0x7FFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-493">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-493">&#182;</a>
              </div>
              <p>RES 7, L</p>
<h1 id="0xbd-">0xBD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL &amp;= <span class="hljs-number">0xFF7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-494">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-494">&#182;</a>
              </div>
              <p>RES 7, (HL)</p>
<h1 id="0xbe-">0xBE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) &amp; <span class="hljs-number">0x7F</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-495">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-495">&#182;</a>
              </div>
              <p>RES 7, A</p>
<h1 id="0xbf-">0xBF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA &amp;= <span class="hljs-number">0x7F</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-496">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-496">&#182;</a>
              </div>
              <p>SET 0, B</p>
<h1 id="0xc0-">0xC0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-497">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-497">&#182;</a>
              </div>
              <p>SET 0, C</p>
<h1 id="0xc1-">0xC1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-498">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-498">&#182;</a>
              </div>
              <p>SET 0, D</p>
<h1 id="0xc2-">0xC2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-499">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-499">&#182;</a>
              </div>
              <p>SET 0, E</p>
<h1 id="0xc3-">0xC3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-500">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-500">&#182;</a>
              </div>
              <p>SET 0, H</p>
<h1 id="0xc4-">0xC4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x0100</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-501">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-501">&#182;</a>
              </div>
              <p>SET 0, L</p>
<h1 id="0xc5-">0xC5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-502">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-502">&#182;</a>
              </div>
              <p>SET 0, (HL)</p>
<h1 id="0xc6-">0xC6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x01</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-503">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-503">&#182;</a>
              </div>
              <p>SET 0, A</p>
<h1 id="0xc7-">0xC7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x01</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-504">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-504">&#182;</a>
              </div>
              <p>SET 1, B</p>
<h1 id="0xc8-">0xC8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-505">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-505">&#182;</a>
              </div>
              <p>SET 1, C</p>
<h1 id="0xc9-">0xC9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-506">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-506">&#182;</a>
              </div>
              <p>SET 1, D</p>
<h1 id="0xca-">0xCA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-507">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-507">&#182;</a>
              </div>
              <p>SET 1, E</p>
<h1 id="0xcb-">0xCB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-508">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-508">&#182;</a>
              </div>
              <p>SET 1, H</p>
<h1 id="0xcc-">0xCC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x0200</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-509">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-509">&#182;</a>
              </div>
              <p>SET 1, L</p>
<h1 id="0xcd-">0xCD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-510">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-510">&#182;</a>
              </div>
              <p>SET 1, (HL)</p>
<h1 id="0xce-">0xCE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x02</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-511">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-511">&#182;</a>
              </div>
              <p>SET 1, A</p>
<h1 id="0xcf-">0xCF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x02</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-512">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-512">&#182;</a>
              </div>
              <p>SET 2, B</p>
<h1 id="0xd0-">0xD0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-513">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-513">&#182;</a>
              </div>
              <p>SET 2, C</p>
<h1 id="0xd1-">0xD1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-514">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-514">&#182;</a>
              </div>
              <p>SET 2, D</p>
<h1 id="0xd2-">0xD2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-515">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-515">&#182;</a>
              </div>
              <p>SET 2, E</p>
<h1 id="0xd3-">0xD3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-516">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-516">&#182;</a>
              </div>
              <p>SET 2, H</p>
<h1 id="0xd4-">0xD4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x0400</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-517">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-517">&#182;</a>
              </div>
              <p>SET 2, L</p>
<h1 id="0xd5-">0xD5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-518">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-518">&#182;</a>
              </div>
              <p>SET 2, (HL)</p>
<h1 id="0xd6-">0xD6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x04</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-519">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-519">&#182;</a>
              </div>
              <p>SET 2, A</p>
<h1 id="0xd7-">0xD7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x04</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-520">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-520">&#182;</a>
              </div>
              <p>SET 3, B</p>
<h1 id="0xd8-">0xD8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-521">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-521">&#182;</a>
              </div>
              <p>SET 3, C</p>
<h1 id="0xd9-">0xD9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-522">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-522">&#182;</a>
              </div>
              <p>SET 3, D</p>
<h1 id="0xda-">0xDA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-523">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-523">&#182;</a>
              </div>
              <p>SET 3, E</p>
<h1 id="0xdb-">0xDB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-524">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-524">&#182;</a>
              </div>
              <p>SET 3, H</p>
<h1 id="0xdc-">0xDC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x0800</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-525">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-525">&#182;</a>
              </div>
              <p>SET 3, L</p>
<h1 id="0xdd-">0xDD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-526">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-526">&#182;</a>
              </div>
              <p>SET 3, (HL)</p>
<h1 id="0xde-">0xDE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x08</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-527">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-527">&#182;</a>
              </div>
              <p>SET 3, A</p>
<h1 id="0xdf-">0xDF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x08</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-528">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-528">&#182;</a>
              </div>
              <p>SET 4, B</p>
<h1 id="0xe0-">0xE0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-529">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-529">&#182;</a>
              </div>
              <p>SET 4, C</p>
<h1 id="0xe1-">0xE1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-530">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-530">&#182;</a>
              </div>
              <p>SET 4, D</p>
<h1 id="0xe2-">0xE2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-531">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-531">&#182;</a>
              </div>
              <p>SET 4, E</p>
<h1 id="0xe3-">0xE3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-532">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-532">&#182;</a>
              </div>
              <p>SET 4, H</p>
<h1 id="0xe4-">0xE4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x1000</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-533">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-533">&#182;</a>
              </div>
              <p>SET 4, L</p>
<h1 id="0xe5-">0xE5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-534">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-534">&#182;</a>
              </div>
              <p>SET 4, (HL)</p>
<h1 id="0xe6-">0xE6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x10</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-535">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-535">&#182;</a>
              </div>
              <p>SET 4, A</p>
<h1 id="0xe7-">0xE7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x10</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-536">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-536">&#182;</a>
              </div>
              <p>SET 5, B</p>
<h1 id="0xe8-">0xE8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-537">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-537">&#182;</a>
              </div>
              <p>SET 5, C</p>
<h1 id="0xe9-">0xE9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-538">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-538">&#182;</a>
              </div>
              <p>SET 5, D</p>
<h1 id="0xea-">0xEA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-539">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-539">&#182;</a>
              </div>
              <p>SET 5, E</p>
<h1 id="0xeb-">0xEB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-540">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-540">&#182;</a>
              </div>
              <p>SET 5, H</p>
<h1 id="0xec-">0xEC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x2000</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-541">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-541">&#182;</a>
              </div>
              <p>SET 5, L</p>
<h1 id="0xed-">0xED:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-542">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-542">&#182;</a>
              </div>
              <p>SET 5, (HL)</p>
<h1 id="0xee-">0xEE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x20</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-543">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-543">&#182;</a>
              </div>
              <p>SET 5, A</p>
<h1 id="0xef-">0xEF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x20</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-544">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-544">&#182;</a>
              </div>
              <p>SET 6, B</p>
<h1 id="0xf0-">0xF0:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-545">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-545">&#182;</a>
              </div>
              <p>SET 6, C</p>
<h1 id="0xf1-">0xF1:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-546">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-546">&#182;</a>
              </div>
              <p>SET 6, D</p>
<h1 id="0xf2-">0xF2:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-547">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-547">&#182;</a>
              </div>
              <p>SET 6, E</p>
<h1 id="0xf3-">0xF3:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-548">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-548">&#182;</a>
              </div>
              <p>SET 6, H</p>
<h1 id="0xf4-">0xF4:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x4000</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-549">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-549">&#182;</a>
              </div>
              <p>SET 6, L</p>
<h1 id="0xf5-">0xF5:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-550">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-550">&#182;</a>
              </div>
              <p>SET 6, (HL)</p>
<h1 id="0xf6-">0xF6:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x40</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-551">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-551">&#182;</a>
              </div>
              <p>SET 6, A</p>
<h1 id="0xf7-">0xF7:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x40</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-552">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-552">&#182;</a>
              </div>
              <p>SET 7, B</p>
<h1 id="0xf8-">0xF8:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerB |= <span class="hljs-number">0x80</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-553">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-553">&#182;</a>
              </div>
              <p>SET 7, C</p>
<h1 id="0xf9-">0xF9:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerC |= <span class="hljs-number">0x80</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-554">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-554">&#182;</a>
              </div>
              <p>SET 7, D</p>
<h1 id="0xfa-">0xFA:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerD |= <span class="hljs-number">0x80</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-555">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-555">&#182;</a>
              </div>
              <p>SET 7, E</p>
<h1 id="0xfb-">0xFB:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerE |= <span class="hljs-number">0x80</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-556">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-556">&#182;</a>
              </div>
              <p>SET 7, H</p>
<h1 id="0xfc-">0xFC:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x8000</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-557">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-557">&#182;</a>
              </div>
              <p>SET 7, L</p>
<h1 id="0xfd-">0xFD:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registersHL |= <span class="hljs-number">0x80</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-558">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-558">&#182;</a>
              </div>
              <p>SET 7, (HL)</p>
<h1 id="0xfe-">0xFE:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.memoryWriter[parentObj.registersHL](parentObj, parentObj.registersHL, parentObj.memoryReader[parentObj.registersHL](parentObj, parentObj.registersHL) | <span class="hljs-number">0x80</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-559">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-559">&#182;</a>
              </div>
              <p>SET 7, A</p>
<h1 id="0xff-">0xFF:</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>	,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
		parentObj.registerA |= <span class="hljs-number">0x80</span>;
	}
];
GameBoyCore.prototype.TICKTable = [		<span class="hljs-comment">//Number of machine cycles for each instruction:</span>
<span class="hljs-comment">/*   0,  1,  2,  3,  4,  5,  6,  7,      8,  9,  A, B,  C,  D, E,  F*/</span>
     <span class="hljs-number">4</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,     <span class="hljs-number">20</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//0</span>
     <span class="hljs-number">4</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,     <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//1</span>
     <span class="hljs-number">8</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//2</span>
     <span class="hljs-number">8</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//3</span>

     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//4</span>
     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//5</span>
     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//6</span>
     <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//7</span>

     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//8</span>
     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//9</span>
     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//A</span>
     <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,      <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-comment">//B</span>

     <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">16</span>, <span class="hljs-number">12</span>, <span class="hljs-number">16</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,      <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">12</span>, <span class="hljs-number">24</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,  <span class="hljs-comment">//C</span>
     <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">12</span>, <span class="hljs-number">16</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,      <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">12</span>, <span class="hljs-number">4</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,  <span class="hljs-comment">//D</span>
    <span class="hljs-number">12</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">16</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,     <span class="hljs-number">16</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">16</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,  <span class="hljs-comment">//E</span>
    <span class="hljs-number">12</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">16</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">16</span>,     <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">0</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>   <span class="hljs-comment">//F</span>
];
GameBoyCore.prototype.SecondaryTICKTable = [	<span class="hljs-comment">//Number of machine cycles for each 0xCBXX instruction:</span>
<span class="hljs-comment">/*  0, 1, 2, 3, 4, 5,  6, 7,        8, 9, A, B, C, D,  E, F*/</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//0</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//1</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//2</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//3</span>

    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//4</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//5</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//6</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//7</span>

    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//8</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//9</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//A</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//B</span>

    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//C</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//D</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,  <span class="hljs-comment">//E</span>
    <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>,        <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>   <span class="hljs-comment">//F</span>
];
GameBoyCore.prototype.saveSRAMState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cBATT || <span class="hljs-keyword">this</span>.MBCRam.length == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-560">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-560">&#182;</a>
              </div>
              <p>No battery backup…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">return</span> [];
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-561">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-561">&#182;</a>
              </div>
              <p>Return the MBC RAM for backup…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.MBCRam);
	}
}
GameBoyCore.prototype.saveRTCState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cTIMER) {</pre></div></div>
            
        </li>
        
        
        <li id="section-562">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-562">&#182;</a>
              </div>
              <p>No battery backup…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">return</span> [];
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-563">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-563">&#182;</a>
              </div>
              <p>Return the MBC RAM for backup…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">return</span> [
			<span class="hljs-keyword">this</span>.lastIteration,
			<span class="hljs-keyword">this</span>.RTCisLatched,
			<span class="hljs-keyword">this</span>.latchedSeconds,
			<span class="hljs-keyword">this</span>.latchedMinutes,
			<span class="hljs-keyword">this</span>.latchedHours,
			<span class="hljs-keyword">this</span>.latchedLDays,
			<span class="hljs-keyword">this</span>.latchedHDays,
			<span class="hljs-keyword">this</span>.RTCSeconds,
			<span class="hljs-keyword">this</span>.RTCMinutes,
			<span class="hljs-keyword">this</span>.RTCHours,
			<span class="hljs-keyword">this</span>.RTCDays,
			<span class="hljs-keyword">this</span>.RTCDayOverFlow,
			<span class="hljs-keyword">this</span>.RTCHALT
		];
	}
}
GameBoyCore.prototype.saveState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">return</span> [
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.ROM),
		<span class="hljs-keyword">this</span>.inBootstrap,
		<span class="hljs-keyword">this</span>.registerA,
		<span class="hljs-keyword">this</span>.FZero,
		<span class="hljs-keyword">this</span>.FSubtract,
		<span class="hljs-keyword">this</span>.FHalfCarry,
		<span class="hljs-keyword">this</span>.FCarry,
		<span class="hljs-keyword">this</span>.registerB,
		<span class="hljs-keyword">this</span>.registerC,
		<span class="hljs-keyword">this</span>.registerD,
		<span class="hljs-keyword">this</span>.registerE,
		<span class="hljs-keyword">this</span>.registersHL,
		<span class="hljs-keyword">this</span>.stackPointer,
		<span class="hljs-keyword">this</span>.programCounter,
		<span class="hljs-keyword">this</span>.halt,
		<span class="hljs-keyword">this</span>.IME,
		<span class="hljs-keyword">this</span>.hdmaRunning,
		<span class="hljs-keyword">this</span>.CPUTicks,
		<span class="hljs-keyword">this</span>.doubleSpeedShifter,
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.memory),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.MBCRam),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.VRAM),
		<span class="hljs-keyword">this</span>.currVRAMBank,
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.GBCMemory),
		<span class="hljs-keyword">this</span>.MBC1Mode,
		<span class="hljs-keyword">this</span>.MBCRAMBanksEnabled,
		<span class="hljs-keyword">this</span>.currMBCRAMBank,
		<span class="hljs-keyword">this</span>.currMBCRAMBankPosition,
		<span class="hljs-keyword">this</span>.cGBC,
		<span class="hljs-keyword">this</span>.gbcRamBank,
		<span class="hljs-keyword">this</span>.gbcRamBankPosition,
		<span class="hljs-keyword">this</span>.ROMBank1offs,
		<span class="hljs-keyword">this</span>.currentROMBank,
		<span class="hljs-keyword">this</span>.cartridgeType,
		<span class="hljs-keyword">this</span>.name,
		<span class="hljs-keyword">this</span>.gameCode,
		<span class="hljs-keyword">this</span>.modeSTAT,
		<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT,
		<span class="hljs-keyword">this</span>.mode2TriggerSTAT,
		<span class="hljs-keyword">this</span>.mode1TriggerSTAT,
		<span class="hljs-keyword">this</span>.mode0TriggerSTAT,
		<span class="hljs-keyword">this</span>.LCDisOn,
		<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition,
		<span class="hljs-keyword">this</span>.gfxWindowDisplay,
		<span class="hljs-keyword">this</span>.gfxSpriteShow,
		<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight,
		<span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition,
		<span class="hljs-keyword">this</span>.gfxBackgroundBankOffset,
		<span class="hljs-keyword">this</span>.TIMAEnabled,
		<span class="hljs-keyword">this</span>.DIVTicks,
		<span class="hljs-keyword">this</span>.LCDTicks,
		<span class="hljs-keyword">this</span>.timerTicks,
		<span class="hljs-keyword">this</span>.TACClocker,
		<span class="hljs-keyword">this</span>.serialTimer,
		<span class="hljs-keyword">this</span>.serialShiftTimer,
		<span class="hljs-keyword">this</span>.serialShiftTimerAllocated,
		<span class="hljs-keyword">this</span>.IRQEnableDelay,
		<span class="hljs-keyword">this</span>.lastIteration,
		<span class="hljs-keyword">this</span>.cMBC1,
		<span class="hljs-keyword">this</span>.cMBC2,
		<span class="hljs-keyword">this</span>.cMBC3,
		<span class="hljs-keyword">this</span>.cMBC5,
		<span class="hljs-keyword">this</span>.cMBC7,
		<span class="hljs-keyword">this</span>.cSRAM,
		<span class="hljs-keyword">this</span>.cMMMO1,
		<span class="hljs-keyword">this</span>.cRUMBLE,
		<span class="hljs-keyword">this</span>.cCamera,
		<span class="hljs-keyword">this</span>.cTAMA5,
		<span class="hljs-keyword">this</span>.cHuC3,
		<span class="hljs-keyword">this</span>.cHuC1,
		<span class="hljs-keyword">this</span>.drewBlank,
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.frameBuffer),
		<span class="hljs-keyword">this</span>.bgEnabled,
		<span class="hljs-keyword">this</span>.BGPriorityEnabled,
		<span class="hljs-keyword">this</span>.channel1FrequencyTracker,
		<span class="hljs-keyword">this</span>.channel1FrequencyCounter,
		<span class="hljs-keyword">this</span>.channel1totalLength,
		<span class="hljs-keyword">this</span>.channel1envelopeVolume,
		<span class="hljs-keyword">this</span>.channel1envelopeType,
		<span class="hljs-keyword">this</span>.channel1envelopeSweeps,
		<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast,
		<span class="hljs-keyword">this</span>.channel1consecutive,
		<span class="hljs-keyword">this</span>.channel1frequency,
		<span class="hljs-keyword">this</span>.channel1SweepFault,
		<span class="hljs-keyword">this</span>.channel1ShadowFrequency,
		<span class="hljs-keyword">this</span>.channel1timeSweep,
		<span class="hljs-keyword">this</span>.channel1lastTimeSweep,
		<span class="hljs-keyword">this</span>.channel1Swept,
		<span class="hljs-keyword">this</span>.channel1frequencySweepDivider,
		<span class="hljs-keyword">this</span>.channel1decreaseSweep,
		<span class="hljs-keyword">this</span>.channel2FrequencyTracker,
		<span class="hljs-keyword">this</span>.channel2FrequencyCounter,
		<span class="hljs-keyword">this</span>.channel2totalLength,
		<span class="hljs-keyword">this</span>.channel2envelopeVolume,
		<span class="hljs-keyword">this</span>.channel2envelopeType,
		<span class="hljs-keyword">this</span>.channel2envelopeSweeps,
		<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast,
		<span class="hljs-keyword">this</span>.channel2consecutive,
		<span class="hljs-keyword">this</span>.channel2frequency,
		<span class="hljs-keyword">this</span>.channel3canPlay,
		<span class="hljs-keyword">this</span>.channel3totalLength,
		<span class="hljs-keyword">this</span>.channel3patternType,
		<span class="hljs-keyword">this</span>.channel3frequency,
		<span class="hljs-keyword">this</span>.channel3consecutive,
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.channel3PCM),
		<span class="hljs-keyword">this</span>.channel4FrequencyPeriod,
		<span class="hljs-keyword">this</span>.channel4lastSampleLookup,
		<span class="hljs-keyword">this</span>.channel4totalLength,
		<span class="hljs-keyword">this</span>.channel4envelopeVolume,
		<span class="hljs-keyword">this</span>.channel4currentVolume,
		<span class="hljs-keyword">this</span>.channel4envelopeType,
		<span class="hljs-keyword">this</span>.channel4envelopeSweeps,
		<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast,
		<span class="hljs-keyword">this</span>.channel4consecutive,
		<span class="hljs-keyword">this</span>.channel4BitRange,
		<span class="hljs-keyword">this</span>.soundMasterEnabled,
		<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume,
		<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume,
		<span class="hljs-keyword">this</span>.leftChannel1,
		<span class="hljs-keyword">this</span>.leftChannel2,
		<span class="hljs-keyword">this</span>.leftChannel3,
		<span class="hljs-keyword">this</span>.leftChannel4,
		<span class="hljs-keyword">this</span>.rightChannel1,
		<span class="hljs-keyword">this</span>.rightChannel2,
		<span class="hljs-keyword">this</span>.rightChannel3,
		<span class="hljs-keyword">this</span>.rightChannel4,
		<span class="hljs-keyword">this</span>.channel1currentSampleLeft,
		<span class="hljs-keyword">this</span>.channel1currentSampleRight,
		<span class="hljs-keyword">this</span>.channel2currentSampleLeft,
		<span class="hljs-keyword">this</span>.channel2currentSampleRight,
		<span class="hljs-keyword">this</span>.channel3currentSampleLeft,
		<span class="hljs-keyword">this</span>.channel3currentSampleRight,
		<span class="hljs-keyword">this</span>.channel4currentSampleLeft,
		<span class="hljs-keyword">this</span>.channel4currentSampleRight,
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary,
		<span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary,
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary,
		<span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary,
		<span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary,
		<span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary,
		<span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary,
		<span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary,
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary,
		<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary,
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary,
		<span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary,
		<span class="hljs-keyword">this</span>.mixerOutputCache,
		<span class="hljs-keyword">this</span>.channel1DutyTracker,
		<span class="hljs-keyword">this</span>.channel1CachedDuty,
		<span class="hljs-keyword">this</span>.channel2DutyTracker,
		<span class="hljs-keyword">this</span>.channel2CachedDuty,
		<span class="hljs-keyword">this</span>.channel1Enabled,
		<span class="hljs-keyword">this</span>.channel2Enabled,
		<span class="hljs-keyword">this</span>.channel3Enabled,
		<span class="hljs-keyword">this</span>.channel4Enabled,
		<span class="hljs-keyword">this</span>.sequencerClocks,
		<span class="hljs-keyword">this</span>.sequencePosition,
		<span class="hljs-keyword">this</span>.channel3Counter,
		<span class="hljs-keyword">this</span>.channel4Counter,
		<span class="hljs-keyword">this</span>.cachedChannel3Sample,
		<span class="hljs-keyword">this</span>.cachedChannel4Sample,
		<span class="hljs-keyword">this</span>.channel3FrequencyPeriod,
		<span class="hljs-keyword">this</span>.channel3lastSampleLookup,
		<span class="hljs-keyword">this</span>.actualScanLine,
		<span class="hljs-keyword">this</span>.lastUnrenderedLine,
		<span class="hljs-keyword">this</span>.queuedScanLines,
		<span class="hljs-keyword">this</span>.RTCisLatched,
		<span class="hljs-keyword">this</span>.latchedSeconds,
		<span class="hljs-keyword">this</span>.latchedMinutes,
		<span class="hljs-keyword">this</span>.latchedHours,
		<span class="hljs-keyword">this</span>.latchedLDays,
		<span class="hljs-keyword">this</span>.latchedHDays,
		<span class="hljs-keyword">this</span>.RTCSeconds,
		<span class="hljs-keyword">this</span>.RTCMinutes,
		<span class="hljs-keyword">this</span>.RTCHours,
		<span class="hljs-keyword">this</span>.RTCDays,
		<span class="hljs-keyword">this</span>.RTCDayOverFlow,
		<span class="hljs-keyword">this</span>.RTCHALT,
		<span class="hljs-keyword">this</span>.usedBootROM,
		<span class="hljs-keyword">this</span>.skipPCIncrement,
		<span class="hljs-keyword">this</span>.STATTracker,
		<span class="hljs-keyword">this</span>.gbcRamBankPositionECHO,
		<span class="hljs-keyword">this</span>.numRAMBanks,
		<span class="hljs-keyword">this</span>.windowY,
		<span class="hljs-keyword">this</span>.windowX,
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbcOBJRawPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbcBGRawPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbOBJPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbBGPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbcOBJPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbcBGPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbBGColorizedPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.gbOBJColorizedPalette),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.cachedBGPaletteConversion),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.BGCHRBank1),
		<span class="hljs-keyword">this</span>.fromTypedArray(<span class="hljs-keyword">this</span>.BGCHRBank2),
		<span class="hljs-keyword">this</span>.haltPostClocks,
		<span class="hljs-keyword">this</span>.interruptsRequested,
		<span class="hljs-keyword">this</span>.interruptsEnabled,
		<span class="hljs-keyword">this</span>.remainingClocks,
		<span class="hljs-keyword">this</span>.colorizedGBPalettes,
		<span class="hljs-keyword">this</span>.backgroundY,
		<span class="hljs-keyword">this</span>.backgroundX,
		<span class="hljs-keyword">this</span>.CPUStopped,
		<span class="hljs-keyword">this</span>.audioClocksUntilNextEvent,
		<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter
	];
}
GameBoyCore.prototype.returnFromState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(returnedFrom)</span> </span>{
	<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> state = returnedFrom.slice(<span class="hljs-number">0</span>);
	<span class="hljs-keyword">this</span>.ROM = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.ROMBankEdge = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.ROM.length / <span class="hljs-number">0x4000</span>);
	<span class="hljs-keyword">this</span>.inBootstrap = state[index++];
	<span class="hljs-keyword">this</span>.registerA = state[index++];
	<span class="hljs-keyword">this</span>.FZero = state[index++];
	<span class="hljs-keyword">this</span>.FSubtract = state[index++];
	<span class="hljs-keyword">this</span>.FHalfCarry = state[index++];
	<span class="hljs-keyword">this</span>.FCarry = state[index++];
	<span class="hljs-keyword">this</span>.registerB = state[index++];
	<span class="hljs-keyword">this</span>.registerC = state[index++];
	<span class="hljs-keyword">this</span>.registerD = state[index++];
	<span class="hljs-keyword">this</span>.registerE = state[index++];
	<span class="hljs-keyword">this</span>.registersHL = state[index++];
	<span class="hljs-keyword">this</span>.stackPointer = state[index++];
	<span class="hljs-keyword">this</span>.programCounter = state[index++];
	<span class="hljs-keyword">this</span>.halt = state[index++];
	<span class="hljs-keyword">this</span>.IME = state[index++];
	<span class="hljs-keyword">this</span>.hdmaRunning = state[index++];
	<span class="hljs-keyword">this</span>.CPUTicks = state[index++];
	<span class="hljs-keyword">this</span>.doubleSpeedShifter = state[index++];
	<span class="hljs-keyword">this</span>.memory = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.MBCRam = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.VRAM = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.currVRAMBank = state[index++];
	<span class="hljs-keyword">this</span>.GBCMemory = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.MBC1Mode = state[index++];
	<span class="hljs-keyword">this</span>.MBCRAMBanksEnabled = state[index++];
	<span class="hljs-keyword">this</span>.currMBCRAMBank = state[index++];
	<span class="hljs-keyword">this</span>.currMBCRAMBankPosition = state[index++];
	<span class="hljs-keyword">this</span>.cGBC = state[index++];
	<span class="hljs-keyword">this</span>.gbcRamBank = state[index++];
	<span class="hljs-keyword">this</span>.gbcRamBankPosition = state[index++];
	<span class="hljs-keyword">this</span>.ROMBank1offs = state[index++];
	<span class="hljs-keyword">this</span>.currentROMBank = state[index++];
	<span class="hljs-keyword">this</span>.cartridgeType = state[index++];
	<span class="hljs-keyword">this</span>.name = state[index++];
	<span class="hljs-keyword">this</span>.gameCode = state[index++];
	<span class="hljs-keyword">this</span>.modeSTAT = state[index++];
	<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT = state[index++];
	<span class="hljs-keyword">this</span>.mode2TriggerSTAT = state[index++];
	<span class="hljs-keyword">this</span>.mode1TriggerSTAT = state[index++];
	<span class="hljs-keyword">this</span>.mode0TriggerSTAT = state[index++];
	<span class="hljs-keyword">this</span>.LCDisOn = state[index++];
	<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition = state[index++];
	<span class="hljs-keyword">this</span>.gfxWindowDisplay = state[index++];
	<span class="hljs-keyword">this</span>.gfxSpriteShow = state[index++];
	<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight = state[index++];
	<span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition = state[index++];
	<span class="hljs-keyword">this</span>.gfxBackgroundBankOffset = state[index++];
	<span class="hljs-keyword">this</span>.TIMAEnabled = state[index++];
	<span class="hljs-keyword">this</span>.DIVTicks = state[index++];
	<span class="hljs-keyword">this</span>.LCDTicks = state[index++];
	<span class="hljs-keyword">this</span>.timerTicks = state[index++];
	<span class="hljs-keyword">this</span>.TACClocker = state[index++];
	<span class="hljs-keyword">this</span>.serialTimer = state[index++];
	<span class="hljs-keyword">this</span>.serialShiftTimer = state[index++];
	<span class="hljs-keyword">this</span>.serialShiftTimerAllocated = state[index++];
	<span class="hljs-keyword">this</span>.IRQEnableDelay = state[index++];
	<span class="hljs-keyword">this</span>.lastIteration = state[index++];
	<span class="hljs-keyword">this</span>.cMBC1 = state[index++];
	<span class="hljs-keyword">this</span>.cMBC2 = state[index++];
	<span class="hljs-keyword">this</span>.cMBC3 = state[index++];
	<span class="hljs-keyword">this</span>.cMBC5 = state[index++];
	<span class="hljs-keyword">this</span>.cMBC7 = state[index++];
	<span class="hljs-keyword">this</span>.cSRAM = state[index++];
	<span class="hljs-keyword">this</span>.cMMMO1 = state[index++];
	<span class="hljs-keyword">this</span>.cRUMBLE = state[index++];
	<span class="hljs-keyword">this</span>.cCamera = state[index++];
	<span class="hljs-keyword">this</span>.cTAMA5 = state[index++];
	<span class="hljs-keyword">this</span>.cHuC3 = state[index++];
	<span class="hljs-keyword">this</span>.cHuC1 = state[index++];
	<span class="hljs-keyword">this</span>.drewBlank = state[index++];
	<span class="hljs-keyword">this</span>.frameBuffer = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.bgEnabled = state[index++];
	<span class="hljs-keyword">this</span>.BGPriorityEnabled = state[index++];
	<span class="hljs-keyword">this</span>.channel1FrequencyTracker = state[index++];
	<span class="hljs-keyword">this</span>.channel1FrequencyCounter = state[index++];
	<span class="hljs-keyword">this</span>.channel1totalLength = state[index++];
	<span class="hljs-keyword">this</span>.channel1envelopeVolume = state[index++];
	<span class="hljs-keyword">this</span>.channel1envelopeType = state[index++];
	<span class="hljs-keyword">this</span>.channel1envelopeSweeps = state[index++];
	<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast = state[index++];
	<span class="hljs-keyword">this</span>.channel1consecutive = state[index++];
	<span class="hljs-keyword">this</span>.channel1frequency = state[index++];
	<span class="hljs-keyword">this</span>.channel1SweepFault = state[index++];
	<span class="hljs-keyword">this</span>.channel1ShadowFrequency = state[index++];
	<span class="hljs-keyword">this</span>.channel1timeSweep = state[index++];
	<span class="hljs-keyword">this</span>.channel1lastTimeSweep = state[index++];
	<span class="hljs-keyword">this</span>.channel1Swept = state[index++];
	<span class="hljs-keyword">this</span>.channel1frequencySweepDivider = state[index++];
	<span class="hljs-keyword">this</span>.channel1decreaseSweep = state[index++];
	<span class="hljs-keyword">this</span>.channel2FrequencyTracker = state[index++];
	<span class="hljs-keyword">this</span>.channel2FrequencyCounter = state[index++];
	<span class="hljs-keyword">this</span>.channel2totalLength = state[index++];
	<span class="hljs-keyword">this</span>.channel2envelopeVolume = state[index++];
	<span class="hljs-keyword">this</span>.channel2envelopeType = state[index++];
	<span class="hljs-keyword">this</span>.channel2envelopeSweeps = state[index++];
	<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast = state[index++];
	<span class="hljs-keyword">this</span>.channel2consecutive = state[index++];
	<span class="hljs-keyword">this</span>.channel2frequency = state[index++];
	<span class="hljs-keyword">this</span>.channel3canPlay = state[index++];
	<span class="hljs-keyword">this</span>.channel3totalLength = state[index++];
	<span class="hljs-keyword">this</span>.channel3patternType = state[index++];
	<span class="hljs-keyword">this</span>.channel3frequency = state[index++];
	<span class="hljs-keyword">this</span>.channel3consecutive = state[index++];
	<span class="hljs-keyword">this</span>.channel3PCM = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int8"</span>);
	<span class="hljs-keyword">this</span>.channel4FrequencyPeriod = state[index++];
	<span class="hljs-keyword">this</span>.channel4lastSampleLookup = state[index++];
	<span class="hljs-keyword">this</span>.channel4totalLength = state[index++];
	<span class="hljs-keyword">this</span>.channel4envelopeVolume = state[index++];
	<span class="hljs-keyword">this</span>.channel4currentVolume = state[index++];
	<span class="hljs-keyword">this</span>.channel4envelopeType = state[index++];
	<span class="hljs-keyword">this</span>.channel4envelopeSweeps = state[index++];
	<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast = state[index++];
	<span class="hljs-keyword">this</span>.channel4consecutive = state[index++];
	<span class="hljs-keyword">this</span>.channel4BitRange = state[index++];
	<span class="hljs-keyword">this</span>.soundMasterEnabled = state[index++];
	<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume = state[index++];
	<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume = state[index++];
	<span class="hljs-keyword">this</span>.leftChannel1 = state[index++];
	<span class="hljs-keyword">this</span>.leftChannel2 = state[index++];
	<span class="hljs-keyword">this</span>.leftChannel3 = state[index++];
	<span class="hljs-keyword">this</span>.leftChannel4 = state[index++];
	<span class="hljs-keyword">this</span>.rightChannel1 = state[index++];
	<span class="hljs-keyword">this</span>.rightChannel2 = state[index++];
	<span class="hljs-keyword">this</span>.rightChannel3 = state[index++];
	<span class="hljs-keyword">this</span>.rightChannel4 = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleLeft = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleRight = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleLeft = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleRight = state[index++];
	<span class="hljs-keyword">this</span>.channel3currentSampleLeft = state[index++];
	<span class="hljs-keyword">this</span>.channel3currentSampleRight = state[index++];
	<span class="hljs-keyword">this</span>.channel4currentSampleLeft = state[index++];
	<span class="hljs-keyword">this</span>.channel4currentSampleRight = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary = state[index++];
	<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary = state[index++];
	<span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary = state[index++];
	<span class="hljs-keyword">this</span>.mixerOutputCache = state[index++];
	<span class="hljs-keyword">this</span>.channel1DutyTracker = state[index++];
	<span class="hljs-keyword">this</span>.channel1CachedDuty = state[index++];
	<span class="hljs-keyword">this</span>.channel2DutyTracker = state[index++];
	<span class="hljs-keyword">this</span>.channel2CachedDuty = state[index++];
	<span class="hljs-keyword">this</span>.channel1Enabled = state[index++];
	<span class="hljs-keyword">this</span>.channel2Enabled = state[index++];
	<span class="hljs-keyword">this</span>.channel3Enabled = state[index++];
	<span class="hljs-keyword">this</span>.channel4Enabled = state[index++];
	<span class="hljs-keyword">this</span>.sequencerClocks = state[index++];
	<span class="hljs-keyword">this</span>.sequencePosition = state[index++];
	<span class="hljs-keyword">this</span>.channel3Counter = state[index++];
	<span class="hljs-keyword">this</span>.channel4Counter = state[index++];
	<span class="hljs-keyword">this</span>.cachedChannel3Sample = state[index++];
	<span class="hljs-keyword">this</span>.cachedChannel4Sample = state[index++];
	<span class="hljs-keyword">this</span>.channel3FrequencyPeriod = state[index++];
	<span class="hljs-keyword">this</span>.channel3lastSampleLookup = state[index++];
	<span class="hljs-keyword">this</span>.actualScanLine = state[index++];
	<span class="hljs-keyword">this</span>.lastUnrenderedLine = state[index++];
	<span class="hljs-keyword">this</span>.queuedScanLines = state[index++];
	<span class="hljs-keyword">this</span>.RTCisLatched = state[index++];
	<span class="hljs-keyword">this</span>.latchedSeconds = state[index++];
	<span class="hljs-keyword">this</span>.latchedMinutes = state[index++];
	<span class="hljs-keyword">this</span>.latchedHours = state[index++];
	<span class="hljs-keyword">this</span>.latchedLDays = state[index++];
	<span class="hljs-keyword">this</span>.latchedHDays = state[index++];
	<span class="hljs-keyword">this</span>.RTCSeconds = state[index++];
	<span class="hljs-keyword">this</span>.RTCMinutes = state[index++];
	<span class="hljs-keyword">this</span>.RTCHours = state[index++];
	<span class="hljs-keyword">this</span>.RTCDays = state[index++];
	<span class="hljs-keyword">this</span>.RTCDayOverFlow = state[index++];
	<span class="hljs-keyword">this</span>.RTCHALT = state[index++];
	<span class="hljs-keyword">this</span>.usedBootROM = state[index++];
	<span class="hljs-keyword">this</span>.skipPCIncrement = state[index++];
	<span class="hljs-keyword">this</span>.STATTracker = state[index++];
	<span class="hljs-keyword">this</span>.gbcRamBankPositionECHO = state[index++];
	<span class="hljs-keyword">this</span>.numRAMBanks = state[index++];
	<span class="hljs-keyword">this</span>.windowY = state[index++];
	<span class="hljs-keyword">this</span>.windowX = state[index++];
	<span class="hljs-keyword">this</span>.gbcOBJRawPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.gbcBGRawPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.gbOBJPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.gbBGPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.gbcOBJPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.gbcBGPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.gbBGColorizedPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.gbOBJColorizedPalette = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.cachedBGPaletteConversion = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.BGCHRBank1 = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.BGCHRBank2 = <span class="hljs-keyword">this</span>.toTypedArray(state[index++], <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.haltPostClocks = state[index++];
	<span class="hljs-keyword">this</span>.interruptsRequested = state[index++];
	<span class="hljs-keyword">this</span>.interruptsEnabled = state[index++];
	<span class="hljs-keyword">this</span>.checkIRQMatching();
	<span class="hljs-keyword">this</span>.remainingClocks = state[index++];
	<span class="hljs-keyword">this</span>.colorizedGBPalettes = state[index++];
	<span class="hljs-keyword">this</span>.backgroundY = state[index++];
	<span class="hljs-keyword">this</span>.backgroundX = state[index++];
	<span class="hljs-keyword">this</span>.CPUStopped = state[index++];
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEvent = state[index++];
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter = state[index];
	<span class="hljs-keyword">this</span>.fromSaveState = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.TICKTable = <span class="hljs-keyword">this</span>.toTypedArray(<span class="hljs-keyword">this</span>.TICKTable, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.SecondaryTICKTable = <span class="hljs-keyword">this</span>.toTypedArray(<span class="hljs-keyword">this</span>.SecondaryTICKTable, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.initializeReferencesFromSaveState();
	<span class="hljs-keyword">this</span>.memoryReadJumpCompile();
	<span class="hljs-keyword">this</span>.memoryWriteJumpCompile();
	<span class="hljs-keyword">this</span>.initLCD();
	<span class="hljs-keyword">this</span>.initSound();
	<span class="hljs-keyword">this</span>.noiseSampleTable = (<span class="hljs-keyword">this</span>.channel4BitRange == <span class="hljs-number">0x7FFF</span>) ? <span class="hljs-keyword">this</span>.LSFR15Table : <span class="hljs-keyword">this</span>.LSFR7Table;
	<span class="hljs-keyword">this</span>.channel4VolumeShifter = (<span class="hljs-keyword">this</span>.channel4BitRange == <span class="hljs-number">0x7FFF</span>) ? <span class="hljs-number">15</span> : <span class="hljs-number">7</span>;
}
GameBoyCore.prototype.returnFromRTCState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.openRTC == <span class="hljs-string">"function"</span> &amp;&amp; <span class="hljs-keyword">this</span>.cTIMER) {
		<span class="hljs-keyword">var</span> rtcData = <span class="hljs-keyword">this</span>.openRTC(<span class="hljs-keyword">this</span>.name);
		<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.lastIteration = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCisLatched = rtcData[index++];
		<span class="hljs-keyword">this</span>.latchedSeconds = rtcData[index++];
		<span class="hljs-keyword">this</span>.latchedMinutes = rtcData[index++];
		<span class="hljs-keyword">this</span>.latchedHours = rtcData[index++];
		<span class="hljs-keyword">this</span>.latchedLDays = rtcData[index++];
		<span class="hljs-keyword">this</span>.latchedHDays = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCSeconds = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCMinutes = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCHours = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCDays = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCDayOverFlow = rtcData[index++];
		<span class="hljs-keyword">this</span>.RTCHALT = rtcData[index];
	}
}
GameBoyCore.prototype.start = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.initMemory();	<span class="hljs-comment">//Write the startup memory.</span>
	<span class="hljs-keyword">this</span>.ROMLoad();		<span class="hljs-comment">//Load the ROM into memory and get cartridge information from it.</span>
	<span class="hljs-keyword">this</span>.initLCD();		<span class="hljs-comment">//Initialize the graphics.</span>
	<span class="hljs-keyword">this</span>.initSound();	<span class="hljs-comment">//Sound object initialization.</span>
	<span class="hljs-keyword">this</span>.run();			<span class="hljs-comment">//Start the emulation.</span>
}
GameBoyCore.prototype.initMemory = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-564">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-564">&#182;</a>
              </div>
              <p>Initialize the RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memory = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x10000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.frameBuffer = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">23040</span>, <span class="hljs-number">0xF8F8F8</span>, <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.BGCHRBank1 = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x800</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.TICKTable = <span class="hljs-keyword">this</span>.toTypedArray(<span class="hljs-keyword">this</span>.TICKTable, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.SecondaryTICKTable = <span class="hljs-keyword">this</span>.toTypedArray(<span class="hljs-keyword">this</span>.SecondaryTICKTable, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.channel3PCM = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x20</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int8"</span>);
}
GameBoyCore.prototype.generateCacheArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(tileAmount)</span> </span>{
	<span class="hljs-keyword">var</span> tileArray = [];
	<span class="hljs-keyword">var</span> tileNumber = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span> (tileNumber &lt; tileAmount) {
		tileArray[tileNumber++] = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">64</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	}
	<span class="hljs-keyword">return</span> tileArray;
}
GameBoyCore.prototype.initSkipBootstrap = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-565">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-565">&#182;</a>
              </div>
              <p>Fill in the boot ROM set register values
Default values to the GB boot ROM values, then fill in the GBC boot ROM values after ROM loading</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> index = <span class="hljs-number">0xFF</span>;
	<span class="hljs-keyword">while</span> (index &gt;= <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0x30</span> &amp;&amp; index &lt; <span class="hljs-number">0x40</span>) {
			<span class="hljs-keyword">this</span>.memoryWrite(<span class="hljs-number">0xFF00</span> | index, <span class="hljs-keyword">this</span>.ffxxDump[index]);
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">switch</span> (index) {
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x01</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x02</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x05</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x07</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0x0F</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF</span>:
					<span class="hljs-keyword">this</span>.memoryWrite(<span class="hljs-number">0xFF00</span> | index, <span class="hljs-keyword">this</span>.ffxxDump[index]);
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">default</span>:
					<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span> | index] = <span class="hljs-keyword">this</span>.ffxxDump[index];
			}
		}
		--index;
	}
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-number">0xFE</span>;
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF74</span>] = <span class="hljs-number">0xFE</span>;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF48</span>] = <span class="hljs-number">0xFF</span>;
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF49</span>] = <span class="hljs-number">0xFF</span>;
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-number">0xFF</span>;
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF74</span>] = <span class="hljs-number">0xFF</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-566">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-566">&#182;</a>
              </div>
              <p>Start as an unset device:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	cout(<span class="hljs-string">"Starting without the GBC boot ROM."</span>, <span class="hljs-number">0</span>);
	<span class="hljs-keyword">this</span>.registerA = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-number">0x11</span> : <span class="hljs-number">0x1</span>;
	<span class="hljs-keyword">this</span>.registerB = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerC = <span class="hljs-number">0x13</span>;
	<span class="hljs-keyword">this</span>.registerD = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerE = <span class="hljs-number">0xD8</span>;
	<span class="hljs-keyword">this</span>.FZero = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.FSubtract = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.FHalfCarry = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.FCarry = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.registersHL = <span class="hljs-number">0x014D</span>;
	<span class="hljs-keyword">this</span>.LCDCONTROL = <span class="hljs-keyword">this</span>.LINECONTROL;
	<span class="hljs-keyword">this</span>.IME = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.IRQLineMatched = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.interruptsRequested = <span class="hljs-number">225</span>;
	<span class="hljs-keyword">this</span>.interruptsEnabled = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.hdmaRunning = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">12</span>;
	<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.spriteCount = <span class="hljs-number">252</span>;
	<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.mode2TriggerSTAT = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.mode1TriggerSTAT = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.mode0TriggerSTAT = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.LCDisOn = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel1FrequencyTracker = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel1DutyTracker = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1CachedDuty = <span class="hljs-keyword">this</span>.dutyLookup[<span class="hljs-number">2</span>];
	<span class="hljs-keyword">this</span>.channel1totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel1frequency = <span class="hljs-number">1985</span>;
	<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel1ShadowFrequency = <span class="hljs-number">1985</span>;
	<span class="hljs-keyword">this</span>.channel1timeSweep = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.channel1lastTimeSweep = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1Swept = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1frequencySweepDivider = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1decreaseSweep = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2FrequencyTracker = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel2DutyTracker = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2CachedDuty = <span class="hljs-keyword">this</span>.dutyLookup[<span class="hljs-number">2</span>];
	<span class="hljs-keyword">this</span>.channel2totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel2frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3canPlay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel3totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3patternType = <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.channel3frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel3Counter = <span class="hljs-number">0x418</span>;
	<span class="hljs-keyword">this</span>.channel4FrequencyPeriod = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.channel4totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel4BitRange = <span class="hljs-number">0x7FFF</span>;
	<span class="hljs-keyword">this</span>.channel4VolumeShifter = <span class="hljs-number">15</span>;
	<span class="hljs-keyword">this</span>.channel1FrequencyCounter = <span class="hljs-number">0x200</span>;
	<span class="hljs-keyword">this</span>.channel2FrequencyCounter = <span class="hljs-number">0x200</span>;
	<span class="hljs-keyword">this</span>.channel3Counter = <span class="hljs-number">0x800</span>;
	<span class="hljs-keyword">this</span>.channel3FrequencyPeriod = <span class="hljs-number">0x800</span>;
	<span class="hljs-keyword">this</span>.channel3lastSampleLookup = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4lastSampleLookup = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.soundMasterEnabled = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.leftChannel1 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.leftChannel2 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.leftChannel3 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.leftChannel4 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.rightChannel1 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.rightChannel2 = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.rightChannel3 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel4 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.DIVTicks = <span class="hljs-number">27044</span>;
	<span class="hljs-keyword">this</span>.LCDTicks = <span class="hljs-number">160</span>;
	<span class="hljs-keyword">this</span>.timerTicks = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.TIMAEnabled = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.TACClocker = <span class="hljs-number">1024</span>;
	<span class="hljs-keyword">this</span>.serialTimer = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.serialShiftTimer = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.serialShiftTimerAllocated = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.IRQEnableDelay = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.actualScanLine = <span class="hljs-number">144</span>;
	<span class="hljs-keyword">this</span>.lastUnrenderedLine = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.gfxWindowDisplay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.gfxSpriteShow = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.bgEnabled = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.BGPriorityEnabled = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.gfxBackgroundBankOffset = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.windowY = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.windowX = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.drewBlank = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.midScanlineOffset = -<span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.currentX = <span class="hljs-number">0</span>;
}
GameBoyCore.prototype.initBootstrap = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-567">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-567">&#182;</a>
              </div>
              <p>Start as an unset device:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	cout(<span class="hljs-string">"Starting the selected boot ROM."</span>, <span class="hljs-number">0</span>);
	<span class="hljs-keyword">this</span>.programCounter = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.stackPointer = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.IME = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.LCDTicks = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.DIVTicks = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerA = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerB = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerC = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerD = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.registerE = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.FZero = <span class="hljs-keyword">this</span>.FSubtract = <span class="hljs-keyword">this</span>.FHalfCarry = <span class="hljs-keyword">this</span>.FCarry = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.registersHL = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.leftChannel1 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel2 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel3 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.leftChannel4 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel1 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel2 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel3 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.rightChannel4 = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2frequency = <span class="hljs-keyword">this</span>.channel1frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4consecutive = <span class="hljs-keyword">this</span>.channel2consecutive = <span class="hljs-keyword">this</span>.channel1consecutive = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span>] = <span class="hljs-number">0xF</span>;	<span class="hljs-comment">//Set the joypad state.</span>
}
GameBoyCore.prototype.ROMLoad = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-568">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-568">&#182;</a>
              </div>
              <p>Load the first two ROM banks (0x0000 - 0x7FFF) into regular gameboy memory:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.ROM = [];
	<span class="hljs-keyword">this</span>.usedBootROM = settings[<span class="hljs-number">1</span>] &amp;&amp; ((!settings[<span class="hljs-number">11</span>] &amp;&amp; <span class="hljs-keyword">this</span>.GBCBOOTROM.length == <span class="hljs-number">0x800</span>) || (settings[<span class="hljs-number">11</span>] &amp;&amp; <span class="hljs-keyword">this</span>.GBBOOTROM.length == <span class="hljs-number">0x100</span>));
	<span class="hljs-keyword">var</span> maxLength = <span class="hljs-keyword">this</span>.ROMImage.length;
	<span class="hljs-keyword">if</span> (maxLength &lt; <span class="hljs-number">0x4000</span>) {
		<span class="hljs-keyword">throw</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"ROM image size too small."</span>));
	}
	<span class="hljs-keyword">this</span>.ROM = <span class="hljs-keyword">this</span>.getTypedArray(maxLength, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">var</span> romIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.usedBootROM) {
		<span class="hljs-keyword">if</span> (!settings[<span class="hljs-number">11</span>]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-569">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-569">&#182;</a>
              </div>
              <p>Patch in the GBC boot ROM into the memory map:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x100</span>; ++romIndex) {
				<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.GBCBOOTROM[romIndex];											<span class="hljs-comment">//Load in the GameBoy Color BOOT ROM.</span>
				<span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);							<span class="hljs-comment">//Decode the ROM binary for the switch out.</span>
			}
			<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x200</span>; ++romIndex) {
				<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);	<span class="hljs-comment">//Load in the game ROM.</span>
			}
			<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x900</span>; ++romIndex) {
				<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.GBCBOOTROM[romIndex - <span class="hljs-number">0x100</span>];									<span class="hljs-comment">//Load in the GameBoy Color BOOT ROM.</span>
				<span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);							<span class="hljs-comment">//Decode the ROM binary for the switch out.</span>
			}
			<span class="hljs-keyword">this</span>.usedGBCBootROM = <span class="hljs-literal">true</span>;
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-570">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-570">&#182;</a>
              </div>
              <p>Patch in the GBC boot ROM into the memory map:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x100</span>; ++romIndex) {
				<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.GBBOOTROM[romIndex];											<span class="hljs-comment">//Load in the GameBoy Color BOOT ROM.</span>
				<span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);							<span class="hljs-comment">//Decode the ROM binary for the switch out.</span>
			}
		}
		<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x4000</span>; ++romIndex) {
			<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);	<span class="hljs-comment">//Load in the game ROM.</span>
		}
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-571">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-571">&#182;</a>
              </div>
              <p>Don’t load in the boot ROM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span> (; romIndex &lt; <span class="hljs-number">0x4000</span>; ++romIndex) {
			<span class="hljs-keyword">this</span>.memory[romIndex] = <span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);	<span class="hljs-comment">//Load in the game ROM.</span>
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-572">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-572">&#182;</a>
              </div>
              <p>Finish the decoding of the ROM binary:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (; romIndex &lt; maxLength; ++romIndex) {
		<span class="hljs-keyword">this</span>.ROM[romIndex] = (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(romIndex) &amp; <span class="hljs-number">0xFF</span>);
	}
	<span class="hljs-keyword">this</span>.ROMBankEdge = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.ROM.length / <span class="hljs-number">0x4000</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-573">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-573">&#182;</a>
              </div>
              <p>Set up the emulator for the cartidge specifics:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.interpretCartridge();</pre></div></div>
            
        </li>
        
        
        <li id="section-574">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-574">&#182;</a>
              </div>
              <p>Check for IRQ matching upon initialization:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.checkIRQMatching();
}
GameBoyCore.prototype.getROMImage = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-575">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-575">&#182;</a>
              </div>
              <p>Return the binary version of the ROM image currently running:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ROMImage.length &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ROMImage.length;
	}
	<span class="hljs-keyword">var</span> length = <span class="hljs-keyword">this</span>.ROM.length;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; length; index++) {
		<span class="hljs-keyword">this</span>.ROMImage += <span class="hljs-built_in">String</span>.fromCharCode(<span class="hljs-keyword">this</span>.ROM[index]);
	}
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ROMImage;
}
GameBoyCore.prototype.interpretCartridge = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-576">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-576">&#182;</a>
              </div>
              <p>ROM name</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0x134</span>; index &lt; <span class="hljs-number">0x13F</span>; index++) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(index) &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.name += <span class="hljs-keyword">this</span>.ROMImage[index];
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-577">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-577">&#182;</a>
              </div>
              <p>ROM game code (for newer games)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0x13F</span>; index &lt; <span class="hljs-number">0x143</span>; index++) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ROMImage.charCodeAt(index) &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.gameCode += <span class="hljs-keyword">this</span>.ROMImage[index];
		}
	}
	cout(<span class="hljs-string">"Game Title: "</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"["</span> + <span class="hljs-keyword">this</span>.gameCode + <span class="hljs-string">"]["</span> + <span class="hljs-keyword">this</span>.ROMImage[<span class="hljs-number">0x143</span>] + <span class="hljs-string">"]"</span>, <span class="hljs-number">0</span>);
	cout(<span class="hljs-string">"Game Code: "</span> + <span class="hljs-keyword">this</span>.gameCode, <span class="hljs-number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-578">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-578">&#182;</a>
              </div>
              <p>Cartridge type</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.cartridgeType = <span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x147</span>];
	cout(<span class="hljs-string">"Cartridge type #"</span> + <span class="hljs-keyword">this</span>.cartridgeType, <span class="hljs-number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-579">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-579">&#182;</a>
              </div>
              <p>Map out ROM cartridge sub-types.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> MBCType = <span class="hljs-string">""</span>;
	<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.cartridgeType) {
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-580">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-580">&#182;</a>
              </div>
              <p>ROM w/o bank switching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span> (!settings[<span class="hljs-number">9</span>]) {
				MBCType = <span class="hljs-string">"ROM"</span>;
				<span class="hljs-keyword">break</span>;
			}
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x01</span>:
			<span class="hljs-keyword">this</span>.cMBC1 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC1"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x02</span>:
			<span class="hljs-keyword">this</span>.cMBC1 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC1 + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x03</span>:
			<span class="hljs-keyword">this</span>.cMBC1 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC1 + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x05</span>:
			<span class="hljs-keyword">this</span>.cMBC2 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC2"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x06</span>:
			<span class="hljs-keyword">this</span>.cMBC2 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC2 + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x08</span>:
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"ROM + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x09</span>:
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"ROM + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x0B</span>:
			<span class="hljs-keyword">this</span>.cMMMO1 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MMMO1"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x0C</span>:
			<span class="hljs-keyword">this</span>.cMMMO1 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MMMO1 + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x0D</span>:
			<span class="hljs-keyword">this</span>.cMMMO1 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MMMO1 + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x0F</span>:
			<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cTIMER = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC3 + TIMER + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x10</span>:
			<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cTIMER = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC3 + TIMER + BATT + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x11</span>:
			<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC3"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x12</span>:
			<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC3 + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x13</span>:
			<span class="hljs-keyword">this</span>.cMBC3 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC3 + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x19</span>:
			<span class="hljs-keyword">this</span>.cMBC5 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC5"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1A</span>:
			<span class="hljs-keyword">this</span>.cMBC5 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC5 + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1B</span>:
			<span class="hljs-keyword">this</span>.cMBC5 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC5 + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1C</span>:
			<span class="hljs-keyword">this</span>.cRUMBLE = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"RUMBLE"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1D</span>:
			<span class="hljs-keyword">this</span>.cRUMBLE = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"RUMBLE + SRAM"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1E</span>:
			<span class="hljs-keyword">this</span>.cRUMBLE = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"RUMBLE + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x1F</span>:
			<span class="hljs-keyword">this</span>.cCamera = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"GameBoy Camera"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x22</span>:
			<span class="hljs-keyword">this</span>.cMBC7 = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cSRAM = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.cBATT = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"MBC7 + SRAM + BATT"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0xFD</span>:
			<span class="hljs-keyword">this</span>.cTAMA5 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"TAMA5"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0xFE</span>:
			<span class="hljs-keyword">this</span>.cHuC3 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"HuC3"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF</span>:
			<span class="hljs-keyword">this</span>.cHuC1 = <span class="hljs-literal">true</span>;
			MBCType = <span class="hljs-string">"HuC1"</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">default</span>:
			MBCType = <span class="hljs-string">"Unknown"</span>;
			cout(<span class="hljs-string">"Cartridge type is unknown."</span>, <span class="hljs-number">2</span>);
			pause();
	}
	cout(<span class="hljs-string">"Cartridge Type: "</span> + MBCType + <span class="hljs-string">"."</span>, <span class="hljs-number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-581">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-581">&#182;</a>
              </div>
              <p>ROM and RAM banks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.numROMBanks = <span class="hljs-keyword">this</span>.ROMBanks[<span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x148</span>]];
	cout(<span class="hljs-keyword">this</span>.numROMBanks + <span class="hljs-string">" ROM banks."</span>, <span class="hljs-number">0</span>);
	<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.RAMBanks[<span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x149</span>]]) {
		<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
			cout(<span class="hljs-string">"No RAM banking requested for allocation or MBC is of type 2."</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
			cout(<span class="hljs-string">"1 RAM bank requested for allocation."</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
			cout(<span class="hljs-string">"4 RAM banks requested for allocation."</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
			cout(<span class="hljs-string">"16 RAM banks requested for allocation."</span>, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">default</span>:
			cout(<span class="hljs-string">"RAM bank amount requested is unknown, will use maximum allowed by specified MBC type."</span>, <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-582">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-582">&#182;</a>
              </div>
              <p>Check the GB/GBC mode byte:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.usedBootROM) {
		<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x143</span>]) {
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:	<span class="hljs-comment">//Only GB mode</span>
				<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">false</span>;
				cout(<span class="hljs-string">"Only GB mode detected."</span>, <span class="hljs-number">0</span>);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x32</span>:	<span class="hljs-comment">//Exception to the GBC identifying code:</span>
				<span class="hljs-keyword">if</span> (!settings[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-keyword">this</span>.name + <span class="hljs-keyword">this</span>.gameCode + <span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x143</span>] == <span class="hljs-string">"Game and Watch 50"</span>) {
					<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">true</span>;
					cout(<span class="hljs-string">"Created a boot exception for Game and Watch Gallery 2 (GBC ID byte is wrong on the cartridge)."</span>, <span class="hljs-number">1</span>);
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">false</span>;
				}
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x80</span>:	<span class="hljs-comment">//Both GB + GBC modes</span>
				<span class="hljs-keyword">this</span>.cGBC = !settings[<span class="hljs-number">2</span>];
				cout(<span class="hljs-string">"GB and GBC mode detected."</span>, <span class="hljs-number">0</span>);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xC0</span>:	<span class="hljs-comment">//Only GBC mode</span>
				<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">true</span>;
				cout(<span class="hljs-string">"Only GBC mode detected."</span>, <span class="hljs-number">0</span>);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">default</span>:
				<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-literal">false</span>;
				cout(<span class="hljs-string">"Unknown GameBoy game type code #"</span> + <span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x143</span>] + <span class="hljs-string">", defaulting to GB mode (Old games don't have a type code)."</span>, <span class="hljs-number">1</span>);
		}
		<span class="hljs-keyword">this</span>.inBootstrap = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">this</span>.setupRAM();	<span class="hljs-comment">//CPU/(V)RAM initialization.</span>
		<span class="hljs-keyword">this</span>.initSkipBootstrap();
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.cGBC = <span class="hljs-keyword">this</span>.usedGBCBootROM;	<span class="hljs-comment">//Allow the GBC boot ROM to run in GBC mode...</span>
		<span class="hljs-keyword">this</span>.setupRAM();	<span class="hljs-comment">//CPU/(V)RAM initialization.</span>
		<span class="hljs-keyword">this</span>.initBootstrap();
	}
	<span class="hljs-keyword">this</span>.initializeModeSpecificArrays();</pre></div></div>
            
        </li>
        
        
        <li id="section-583">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-583">&#182;</a>
              </div>
              <p>License Code Lookup:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> cOldLicense = <span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x14B</span>];
	<span class="hljs-keyword">var</span> cNewLicense = (<span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x144</span>] &amp; <span class="hljs-number">0xFF00</span>) | (<span class="hljs-keyword">this</span>.ROM[<span class="hljs-number">0x145</span>] &amp; <span class="hljs-number">0xFF</span>);
	<span class="hljs-keyword">if</span> (cOldLicense != <span class="hljs-number">0x33</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-584">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-584">&#182;</a>
              </div>
              <p>Old Style License Header</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		cout(<span class="hljs-string">"Old style license code: "</span> + cOldLicense, <span class="hljs-number">0</span>);
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-585">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-585">&#182;</a>
              </div>
              <p>New Style License Header</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		cout(<span class="hljs-string">"New style license code: "</span> + cNewLicense, <span class="hljs-number">0</span>);
	}
	<span class="hljs-keyword">this</span>.ROMImage = <span class="hljs-string">""</span>;	<span class="hljs-comment">//Memory consumption reduction.</span>
}
GameBoyCore.prototype.disableBootROM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-586">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-586">&#182;</a>
              </div>
              <p>Remove any traces of the boot ROM from ROM memory.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">0x100</span>; ++index) {
		<span class="hljs-keyword">this</span>.memory[index] = <span class="hljs-keyword">this</span>.ROM[index];	<span class="hljs-comment">//Replace the GameBoy or GameBoy Color boot ROM with the game ROM.</span>
	}
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.usedGBCBootROM) {</pre></div></div>
            
        </li>
        
        
        <li id="section-587">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-587">&#182;</a>
              </div>
              <p>Remove any traces of the boot ROM from ROM memory.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span> (index = <span class="hljs-number">0x200</span>; index &lt; <span class="hljs-number">0x900</span>; ++index) {
			<span class="hljs-keyword">this</span>.memory[index] = <span class="hljs-keyword">this</span>.ROM[index];	<span class="hljs-comment">//Replace the GameBoy Color boot ROM with the game ROM.</span>
		}
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC) {</pre></div></div>
            
        </li>
        
        
        <li id="section-588">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-588">&#182;</a>
              </div>
              <p>Clean up the post-boot (GB mode only) state:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.GBCtoGBModeAdjust();
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.recompileBootIOWriteHandling();
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.recompileBootIOWriteHandling();
	}
}
GameBoyCore.prototype.initializeTiming = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-589">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-589">&#182;</a>
              </div>
              <p>Emulator Timing:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.clocksPerSecond = <span class="hljs-keyword">this</span>.emulatorSpeed * <span class="hljs-number">0x400000</span>;
	<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration = <span class="hljs-keyword">this</span>.clocksPerSecond / <span class="hljs-number">1000</span> * settings[<span class="hljs-number">6</span>];
	<span class="hljs-keyword">this</span>.CPUCyclesTotalRoundoff = <span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration % <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.CPUCyclesTotalBase = <span class="hljs-keyword">this</span>.CPUCyclesTotal = (<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration - <span class="hljs-keyword">this</span>.CPUCyclesTotalRoundoff) | <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent = <span class="hljs-number">0</span>;
}
GameBoyCore.prototype.setSpeed = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(speed)</span> </span>{
	<span class="hljs-keyword">this</span>.emulatorSpeed = speed;
	<span class="hljs-keyword">this</span>.initializeTiming();
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioHandle) {
		<span class="hljs-keyword">this</span>.initSound();
	}
}
GameBoyCore.prototype.setupRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-590">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-590">&#182;</a>
              </div>
              <p>Setup the auxilliary/switchable RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC2) {
		<span class="hljs-keyword">this</span>.numRAMBanks = <span class="hljs-number">1</span> / <span class="hljs-number">16</span>;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC1 || <span class="hljs-keyword">this</span>.cRUMBLE || <span class="hljs-keyword">this</span>.cMBC3 || <span class="hljs-keyword">this</span>.cHuC3) {
		<span class="hljs-keyword">this</span>.numRAMBanks = <span class="hljs-number">4</span>;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC5) {
		<span class="hljs-keyword">this</span>.numRAMBanks = <span class="hljs-number">16</span>;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cSRAM) {
		<span class="hljs-keyword">this</span>.numRAMBanks = <span class="hljs-number">1</span>;
	}
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.numRAMBanks &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.MBCRAMUtilized()) {</pre></div></div>
            
        </li>
        
        
        <li id="section-591">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-591">&#182;</a>
              </div>
              <p>For ROM and unknown MBC cartridges using the external RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.MBCRAMBanksEnabled = <span class="hljs-literal">true</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-592">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-592">&#182;</a>
              </div>
              <p>Switched RAM Used</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">var</span> MBCRam = (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.openMBC == <span class="hljs-string">"function"</span>) ? <span class="hljs-keyword">this</span>.openMBC(<span class="hljs-keyword">this</span>.name) : [];
		<span class="hljs-keyword">if</span> (MBCRam.length &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-593">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-593">&#182;</a>
              </div>
              <p>Flash the SRAM into memory:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.MBCRam = <span class="hljs-keyword">this</span>.toTypedArray(MBCRam, <span class="hljs-string">"uint8"</span>);
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.MBCRam = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-keyword">this</span>.numRAMBanks * <span class="hljs-number">0x2000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		}
	}
	cout(<span class="hljs-string">"Actual bytes of MBC RAM allocated: "</span> + (<span class="hljs-keyword">this</span>.numRAMBanks * <span class="hljs-number">0x2000</span>), <span class="hljs-number">0</span>);
	<span class="hljs-keyword">this</span>.returnFromRTCState();</pre></div></div>
            
        </li>
        
        
        <li id="section-594">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-594">&#182;</a>
              </div>
              <p>Setup the RAM for GBC mode.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
		<span class="hljs-keyword">this</span>.VRAM = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x2000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.GBCMemory = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x7000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	}
	<span class="hljs-keyword">this</span>.memoryReadJumpCompile();
	<span class="hljs-keyword">this</span>.memoryWriteJumpCompile();
}
GameBoyCore.prototype.MBCRAMUtilized = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cMBC1 || <span class="hljs-keyword">this</span>.cMBC2 || <span class="hljs-keyword">this</span>.cMBC3 || <span class="hljs-keyword">this</span>.cMBC5 || <span class="hljs-keyword">this</span>.cMBC7 || <span class="hljs-keyword">this</span>.cRUMBLE;
}
GameBoyCore.prototype.recomputeDimension = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	initNewCanvas();</pre></div></div>
            
        </li>
        
        
        <li id="section-595">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-595">&#182;</a>
              </div>
              <p>Cache some dimension info:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.onscreenWidth = <span class="hljs-keyword">this</span>.canvas.width;
	<span class="hljs-keyword">this</span>.onscreenHeight = <span class="hljs-keyword">this</span>.canvas.height;
	<span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span> &amp;&amp; <span class="hljs-built_in">window</span>.mozRequestAnimationFrame) {</pre></div></div>
            
        </li>
        
        
        <li id="section-596">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-596">&#182;</a>
              </div>
              <p>Firefox slowness hack:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.canvas.width = <span class="hljs-keyword">this</span>.onscreenWidth = (!settings[<span class="hljs-number">12</span>]) ? <span class="hljs-number">160</span> : <span class="hljs-keyword">this</span>.canvas.width;
		<span class="hljs-keyword">this</span>.canvas.height = <span class="hljs-keyword">this</span>.onscreenHeight = (!settings[<span class="hljs-number">12</span>]) ? <span class="hljs-number">144</span> : <span class="hljs-keyword">this</span>.canvas.height;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.onscreenWidth = <span class="hljs-keyword">this</span>.canvas.width;
		<span class="hljs-keyword">this</span>.onscreenHeight = <span class="hljs-keyword">this</span>.canvas.height;
	}
	<span class="hljs-keyword">this</span>.offscreenWidth = (!settings[<span class="hljs-number">12</span>]) ? <span class="hljs-number">160</span> : <span class="hljs-keyword">this</span>.canvas.width;
	<span class="hljs-keyword">this</span>.offscreenHeight = (!settings[<span class="hljs-number">12</span>]) ? <span class="hljs-number">144</span> : <span class="hljs-keyword">this</span>.canvas.height;
	<span class="hljs-keyword">this</span>.offscreenRGBCount = <span class="hljs-keyword">this</span>.offscreenWidth * <span class="hljs-keyword">this</span>.offscreenHeight * <span class="hljs-number">4</span>;
}
GameBoyCore.prototype.initLCD = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.recomputeDimension();
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.offscreenRGBCount != <span class="hljs-number">92160</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-597">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-597">&#182;</a>
              </div>
              <p>Only create the resizer handle if we need it:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.compileResizeFrameBufferFunction();
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-598">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-598">&#182;</a>
              </div>
              <p>Resizer not needed:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.resizer = <span class="hljs-literal">null</span>;
	}
	<span class="hljs-keyword">try</span> {
		<span class="hljs-keyword">this</span>.canvasOffscreen = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"canvas"</span>);
		<span class="hljs-keyword">this</span>.canvasOffscreen.width = <span class="hljs-keyword">this</span>.offscreenWidth;
		<span class="hljs-keyword">this</span>.canvasOffscreen.height = <span class="hljs-keyword">this</span>.offscreenHeight;
		<span class="hljs-keyword">this</span>.drawContextOffscreen = <span class="hljs-keyword">this</span>.canvasOffscreen.getContext(<span class="hljs-string">"2d"</span>);
		<span class="hljs-keyword">this</span>.drawContextOnscreen = <span class="hljs-keyword">this</span>.canvas.getContext(<span class="hljs-string">"2d"</span>);
		<span class="hljs-keyword">this</span>.canvas.setAttribute(<span class="hljs-string">"style"</span>, (<span class="hljs-keyword">this</span>.canvas.getAttribute(<span class="hljs-string">"style"</span>) || <span class="hljs-string">""</span>) + <span class="hljs-string">"; image-rendering: "</span> + ((settings[<span class="hljs-number">13</span>]) ? <span class="hljs-string">"auto"</span> : <span class="hljs-string">"-webkit-optimize-contrast"</span>) + <span class="hljs-string">";"</span> + 
		<span class="hljs-string">"image-rendering: "</span> + ((settings[<span class="hljs-number">13</span>]) ? <span class="hljs-string">"optimizeQuality"</span> : <span class="hljs-string">"-o-crisp-edges"</span>) + <span class="hljs-string">";"</span> +
		<span class="hljs-string">"image-rendering: "</span> + ((settings[<span class="hljs-number">13</span>]) ? <span class="hljs-string">"optimizeQuality"</span> : <span class="hljs-string">"-moz-crisp-edges"</span>) + <span class="hljs-string">";"</span> +
		<span class="hljs-string">"-ms-interpolation-mode: "</span> + ((settings[<span class="hljs-number">13</span>]) ? <span class="hljs-string">"bicubic"</span> : <span class="hljs-string">"nearest-neighbor"</span>) + <span class="hljs-string">";"</span>);
		<span class="hljs-keyword">this</span>.drawContextOffscreen.webkitImageSmoothingEnabled  = settings[<span class="hljs-number">13</span>];
		<span class="hljs-keyword">this</span>.drawContextOffscreen.mozImageSmoothingEnabled = settings[<span class="hljs-number">13</span>];
		<span class="hljs-keyword">this</span>.drawContextOnscreen.webkitImageSmoothingEnabled  = settings[<span class="hljs-number">13</span>];
		<span class="hljs-keyword">this</span>.drawContextOnscreen.mozImageSmoothingEnabled = settings[<span class="hljs-number">13</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-599">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-599">&#182;</a>
              </div>
              <p>Get a CanvasPixelArray buffer:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">try</span> {
			<span class="hljs-keyword">this</span>.canvasBuffer = <span class="hljs-keyword">this</span>.drawContextOffscreen.createImageData(<span class="hljs-keyword">this</span>.offscreenWidth, <span class="hljs-keyword">this</span>.offscreenHeight);
		}
		<span class="hljs-keyword">catch</span> (error) {
			cout(<span class="hljs-string">"Falling back to the getImageData initialization (Error \""</span> + error.message + <span class="hljs-string">"\")."</span>, <span class="hljs-number">1</span>);
			<span class="hljs-keyword">this</span>.canvasBuffer = <span class="hljs-keyword">this</span>.drawContextOffscreen.getImageData(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.offscreenWidth, <span class="hljs-keyword">this</span>.offscreenHeight);
		}
		<span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>.offscreenRGBCount;
		<span class="hljs-keyword">while</span> (index &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.canvasBuffer.data[index -= <span class="hljs-number">4</span>] = <span class="hljs-number">0xF8</span>;
			<span class="hljs-keyword">this</span>.canvasBuffer.data[index + <span class="hljs-number">1</span>] = <span class="hljs-number">0xF8</span>;
			<span class="hljs-keyword">this</span>.canvasBuffer.data[index + <span class="hljs-number">2</span>] = <span class="hljs-number">0xF8</span>;
			<span class="hljs-keyword">this</span>.canvasBuffer.data[index + <span class="hljs-number">3</span>] = <span class="hljs-number">0xFF</span>;
		}
		<span class="hljs-keyword">this</span>.graphicsBlit();
		<span class="hljs-keyword">this</span>.canvas.style.visibility = <span class="hljs-string">"visible"</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.swizzledFrame == <span class="hljs-literal">null</span>) {
			<span class="hljs-keyword">this</span>.swizzledFrame = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">69120</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-string">"uint8"</span>);
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-600">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-600">&#182;</a>
              </div>
              <p>Test the draw system and browser vblank latching:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.drewFrame = <span class="hljs-literal">true</span>;										<span class="hljs-comment">//Copy the latest graphics to buffer.</span>
		<span class="hljs-keyword">this</span>.requestDraw();
	}
	<span class="hljs-keyword">catch</span> (error) {
		<span class="hljs-keyword">throw</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"HTML5 Canvas support required: "</span> + error.message + <span class="hljs-string">"file: "</span> + error.fileName + <span class="hljs-string">", line: "</span> + error.lineNumber));
	}
}
GameBoyCore.prototype.graphicsBlit = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.offscreenWidth == <span class="hljs-keyword">this</span>.onscreenWidth &amp;&amp; <span class="hljs-keyword">this</span>.offscreenHeight == <span class="hljs-keyword">this</span>.onscreenHeight) {
		<span class="hljs-keyword">this</span>.drawContextOnscreen.putImageData(<span class="hljs-keyword">this</span>.canvasBuffer, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.drawContextOffscreen.putImageData(<span class="hljs-keyword">this</span>.canvasBuffer, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
		<span class="hljs-keyword">this</span>.drawContextOnscreen.drawImage(<span class="hljs-keyword">this</span>.canvasOffscreen, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.onscreenWidth, <span class="hljs-keyword">this</span>.onscreenHeight);
	}
}
GameBoyCore.prototype.JoyPadEvent = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key, down)</span> </span>{
	<span class="hljs-keyword">if</span> (down) {
		<span class="hljs-keyword">this</span>.JoyPad &amp;= <span class="hljs-number">0xFF</span> ^ (<span class="hljs-number">1</span> &lt;&lt; key);
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC &amp;&amp; (!<span class="hljs-keyword">this</span>.usedBootROM || !<span class="hljs-keyword">this</span>.usedGBCBootROM)) {
			<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x10</span>;	<span class="hljs-comment">//A real GBC doesn't set this!</span>
			<span class="hljs-keyword">this</span>.remainingClocks = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">this</span>.checkIRQMatching();
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.JoyPad |= (<span class="hljs-number">1</span> &lt;&lt; key);
	}
	<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span>] = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span>] &amp; <span class="hljs-number">0x30</span>) + ((((<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span>] &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>) ? (<span class="hljs-keyword">this</span>.JoyPad &gt;&gt; <span class="hljs-number">4</span>) : <span class="hljs-number">0xF</span>) &amp; (((<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF00</span>] &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>) ? (<span class="hljs-keyword">this</span>.JoyPad &amp; <span class="hljs-number">0xF</span>) : <span class="hljs-number">0xF</span>));
	<span class="hljs-keyword">this</span>.CPUStopped = <span class="hljs-literal">false</span>;
}
GameBoyCore.prototype.GyroEvent = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x, y)</span> </span>{
	x *= -<span class="hljs-number">100</span>;
	x += <span class="hljs-number">2047</span>;
	<span class="hljs-keyword">this</span>.highX = x &gt;&gt; <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.lowX = x &amp; <span class="hljs-number">0xFF</span>;
	y *= -<span class="hljs-number">100</span>;
	y += <span class="hljs-number">2047</span>;
	<span class="hljs-keyword">this</span>.highY = y &gt;&gt; <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.lowY = y &amp; <span class="hljs-number">0xFF</span>;
}
GameBoyCore.prototype.initSound = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor = <span class="hljs-built_in">Math</span>.max(<span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.clocksPerSecond / <span class="hljs-number">44100</span>), <span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">0xFFFF</span> / <span class="hljs-number">0x1E0</span>)), <span class="hljs-number">1</span>);
	<span class="hljs-keyword">this</span>.downSampleInputDivider = <span class="hljs-number">1</span> / (<span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor * <span class="hljs-number">0xF0</span>);
	<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">0</span>]) {
		<span class="hljs-keyword">this</span>.audioHandle = <span class="hljs-keyword">new</span> XAudioServer(<span class="hljs-number">2</span>, <span class="hljs-keyword">this</span>.clocksPerSecond / <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration * settings[<span class="hljs-number">8</span>] / <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor, <span class="hljs-number">8192</span>) &lt;&lt; <span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, settings[<span class="hljs-number">3</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
			settings[<span class="hljs-number">0</span>] = <span class="hljs-literal">false</span>;
		});
		<span class="hljs-keyword">this</span>.initAudioBuffer();
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioHandle) {</pre></div></div>
            
        </li>
        
        
        <li id="section-601">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-601">&#182;</a>
              </div>
              <p>Mute the audio output, as it has an immediate silencing effect:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.audioHandle.changeVolume(<span class="hljs-number">0</span>);
	}
}
GameBoyCore.prototype.changeVolume = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.audioHandle) {
		<span class="hljs-keyword">this</span>.audioHandle.changeVolume(settings[<span class="hljs-number">3</span>]);
	}
}
GameBoyCore.prototype.initAudioBuffer = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.audioIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.audioDestinationPosition = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.downsampleInput = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.bufferContainAmount = <span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration * settings[<span class="hljs-number">7</span>] / <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor, <span class="hljs-number">4096</span>) &lt;&lt; <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.numSamplesTotal = (<span class="hljs-keyword">this</span>.baseCPUCyclesPerIteration / <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor) &lt;&lt; <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.audioBuffer = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-keyword">this</span>.numSamplesTotal, <span class="hljs-number">0</span>, <span class="hljs-string">"float32"</span>);
}
GameBoyCore.prototype.intializeWhiteNoise = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-602">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-602">&#182;</a>
              </div>
              <p>Noise Sample Tables:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> randomFactor = <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-603">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-603">&#182;</a>
              </div>
              <p>15-bit LSFR Cache Generation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.LSFR15Table = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x80000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int8"</span>);
	<span class="hljs-keyword">var</span> LSFR = <span class="hljs-number">0x7FFF</span>;	<span class="hljs-comment">//Seed value has all its bits set.</span>
	<span class="hljs-keyword">var</span> LSFRShifted = <span class="hljs-number">0x3FFF</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">0x8000</span>; ++index) {</pre></div></div>
            
        </li>
        
        
        <li id="section-604">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-604">&#182;</a>
              </div>
              <p>Normalize the last LSFR value for usage:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		randomFactor = <span class="hljs-number">1</span> - (LSFR &amp; <span class="hljs-number">1</span>);	<span class="hljs-comment">//Docs say it's the inverse.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-605">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-605">&#182;</a>
              </div>
              <p>Cache the different volume level results:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x08000</span> | index] = randomFactor;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x10000</span> | index] = randomFactor * <span class="hljs-number">0x2</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x18000</span> | index] = randomFactor * <span class="hljs-number">0x3</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x20000</span> | index] = randomFactor * <span class="hljs-number">0x4</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x28000</span> | index] = randomFactor * <span class="hljs-number">0x5</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x30000</span> | index] = randomFactor * <span class="hljs-number">0x6</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x38000</span> | index] = randomFactor * <span class="hljs-number">0x7</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x40000</span> | index] = randomFactor * <span class="hljs-number">0x8</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x48000</span> | index] = randomFactor * <span class="hljs-number">0x9</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x50000</span> | index] = randomFactor * <span class="hljs-number">0xA</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x58000</span> | index] = randomFactor * <span class="hljs-number">0xB</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x60000</span> | index] = randomFactor * <span class="hljs-number">0xC</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x68000</span> | index] = randomFactor * <span class="hljs-number">0xD</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x70000</span> | index] = randomFactor * <span class="hljs-number">0xE</span>;
		<span class="hljs-keyword">this</span>.LSFR15Table[<span class="hljs-number">0x78000</span> | index] = randomFactor * <span class="hljs-number">0xF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-606">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-606">&#182;</a>
              </div>
              <p>Recompute the LSFR algorithm:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		LSFRShifted = LSFR &gt;&gt; <span class="hljs-number">1</span>;
		LSFR = LSFRShifted | (((LSFRShifted ^ LSFR) &amp; <span class="hljs-number">0x1</span>) &lt;&lt; <span class="hljs-number">14</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-607">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-607">&#182;</a>
              </div>
              <p>7-bit LSFR Cache Generation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.LSFR7Table = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x800</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int8"</span>);
	LSFR = <span class="hljs-number">0x7F</span>;	<span class="hljs-comment">//Seed value has all its bits set.</span>
	<span class="hljs-keyword">for</span> (index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">0x80</span>; ++index) {</pre></div></div>
            
        </li>
        
        
        <li id="section-608">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-608">&#182;</a>
              </div>
              <p>Normalize the last LSFR value for usage:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		randomFactor = <span class="hljs-number">1</span> - (LSFR &amp; <span class="hljs-number">1</span>);	<span class="hljs-comment">//Docs say it's the inverse.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-609">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-609">&#182;</a>
              </div>
              <p>Cache the different volume level results:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x080</span> | index] = randomFactor;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x100</span> | index] = randomFactor * <span class="hljs-number">0x2</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x180</span> | index] = randomFactor * <span class="hljs-number">0x3</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x200</span> | index] = randomFactor * <span class="hljs-number">0x4</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x280</span> | index] = randomFactor * <span class="hljs-number">0x5</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x300</span> | index] = randomFactor * <span class="hljs-number">0x6</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x380</span> | index] = randomFactor * <span class="hljs-number">0x7</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x400</span> | index] = randomFactor * <span class="hljs-number">0x8</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x480</span> | index] = randomFactor * <span class="hljs-number">0x9</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x500</span> | index] = randomFactor * <span class="hljs-number">0xA</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x580</span> | index] = randomFactor * <span class="hljs-number">0xB</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x600</span> | index] = randomFactor * <span class="hljs-number">0xC</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x680</span> | index] = randomFactor * <span class="hljs-number">0xD</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x700</span> | index] = randomFactor * <span class="hljs-number">0xE</span>;
		<span class="hljs-keyword">this</span>.LSFR7Table[<span class="hljs-number">0x780</span> | index] = randomFactor * <span class="hljs-number">0xF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-610">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-610">&#182;</a>
              </div>
              <p>Recompute the LSFR algorithm:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		LSFRShifted = LSFR &gt;&gt; <span class="hljs-number">1</span>;
		LSFR = LSFRShifted | (((LSFRShifted ^ LSFR) &amp; <span class="hljs-number">0x1</span>) &lt;&lt; <span class="hljs-number">6</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-611">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-611">&#182;</a>
              </div>
              <p>Set the default noise table:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.noiseSampleTable = <span class="hljs-keyword">this</span>.LSFR15Table;
}
GameBoyCore.prototype.audioUnderrunAdjustment = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">0</span>]) {
		<span class="hljs-keyword">var</span> underrunAmount = <span class="hljs-keyword">this</span>.audioHandle.remainingBuffer();
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> underrunAmount == <span class="hljs-string">"number"</span>) {
			underrunAmount = <span class="hljs-keyword">this</span>.bufferContainAmount - <span class="hljs-built_in">Math</span>.max(underrunAmount, <span class="hljs-number">0</span>);
			<span class="hljs-keyword">if</span> (underrunAmount &gt; <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.recalculateIterationClockLimitForAudio((underrunAmount &gt;&gt; <span class="hljs-number">1</span>) * <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor);
			}
		}
	}
}
GameBoyCore.prototype.initializeAudioStartState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel1FrequencyTracker = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel1DutyTracker = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1CachedDuty = <span class="hljs-keyword">this</span>.dutyLookup[<span class="hljs-number">2</span>];
	<span class="hljs-keyword">this</span>.channel1totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel1frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1ShadowFrequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1timeSweep = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.channel1lastTimeSweep = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1Swept = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1frequencySweepDivider = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1decreaseSweep = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2FrequencyTracker = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel2DutyTracker = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2CachedDuty = <span class="hljs-keyword">this</span>.dutyLookup[<span class="hljs-number">2</span>];
	<span class="hljs-keyword">this</span>.channel2totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel2frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3canPlay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel3totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3patternType = <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.channel3frequency = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel3Counter = <span class="hljs-number">0x800</span>;
	<span class="hljs-keyword">this</span>.channel4FrequencyPeriod = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.channel4totalLength = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentVolume = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeType = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeSweeps = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4consecutive = <span class="hljs-literal">true</span>;
	<span class="hljs-keyword">this</span>.channel4BitRange = <span class="hljs-number">0x7FFF</span>;
	<span class="hljs-keyword">this</span>.noiseSampleTable = <span class="hljs-keyword">this</span>.LSFR15Table;
	<span class="hljs-keyword">this</span>.channel4VolumeShifter = <span class="hljs-number">15</span>;
	<span class="hljs-keyword">this</span>.channel1FrequencyCounter = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel2FrequencyCounter = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.channel3Counter = <span class="hljs-number">0x800</span>;
	<span class="hljs-keyword">this</span>.channel3FrequencyPeriod = <span class="hljs-number">0x800</span>;
	<span class="hljs-keyword">this</span>.channel3lastSampleLookup = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4lastSampleLookup = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.VinRightChannelMasterVolume = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.mixerOutputCache = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.sequencerClocks = <span class="hljs-number">0x2000</span>;
	<span class="hljs-keyword">this</span>.sequencePosition = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4FrequencyPeriod = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.channel4Counter = <span class="hljs-number">8</span>;
	<span class="hljs-keyword">this</span>.cachedChannel3Sample = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.cachedChannel4Sample = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1Enabled = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2Enabled = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel3Enabled = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel4Enabled = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel1canPlay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel2canPlay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.channel4canPlay = <span class="hljs-literal">false</span>;
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEvent = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.channel1OutputLevelCache();
	<span class="hljs-keyword">this</span>.channel2OutputLevelCache();
	<span class="hljs-keyword">this</span>.channel3OutputLevelCache();
	<span class="hljs-keyword">this</span>.channel4OutputLevelCache();
	<span class="hljs-keyword">this</span>.noiseSampleTable = <span class="hljs-keyword">this</span>.LSFR15Table;
}
GameBoyCore.prototype.outputAudio = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.audioBuffer[<span class="hljs-keyword">this</span>.audioDestinationPosition++] = (<span class="hljs-keyword">this</span>.downsampleInput &gt;&gt;&gt; <span class="hljs-number">16</span>) * <span class="hljs-keyword">this</span>.downSampleInputDivider - <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.audioBuffer[<span class="hljs-keyword">this</span>.audioDestinationPosition++] = (<span class="hljs-keyword">this</span>.downsampleInput &amp; <span class="hljs-number">0xFFFF</span>) * <span class="hljs-keyword">this</span>.downSampleInputDivider - <span class="hljs-number">1</span>;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioDestinationPosition == <span class="hljs-keyword">this</span>.numSamplesTotal) {
		<span class="hljs-keyword">this</span>.audioHandle.writeAudioNoCallback(<span class="hljs-keyword">this</span>.audioBuffer);
		<span class="hljs-keyword">this</span>.audioDestinationPosition = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.downsampleInput = <span class="hljs-number">0</span>;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-612">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-612">&#182;</a>
              </div>
              <p>Below are the audio generation functions timed against the CPU:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateAudio = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(numSamples)</span> </span>{
	<span class="hljs-keyword">var</span> multiplier = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.soundMasterEnabled &amp;&amp; !<span class="hljs-keyword">this</span>.CPUStopped) {
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> clockUpTo = <span class="hljs-number">0</span>; numSamples &gt; <span class="hljs-number">0</span>;) {
			clockUpTo = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter, <span class="hljs-keyword">this</span>.sequencerClocks, numSamples);
			<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter -= clockUpTo;
			<span class="hljs-keyword">this</span>.sequencerClocks -= clockUpTo;
			numSamples -= clockUpTo;
			<span class="hljs-keyword">while</span> (clockUpTo &gt; <span class="hljs-number">0</span>) {
				multiplier = <span class="hljs-built_in">Math</span>.min(clockUpTo, <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor - <span class="hljs-keyword">this</span>.audioIndex);
				clockUpTo -= multiplier;
				<span class="hljs-keyword">this</span>.audioIndex += multiplier;
				<span class="hljs-keyword">this</span>.downsampleInput += <span class="hljs-keyword">this</span>.mixerOutputCache * multiplier;
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioIndex == <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor) {
					<span class="hljs-keyword">this</span>.audioIndex = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">this</span>.outputAudio();
				}
			}
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sequencerClocks == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.audioComputeSequencer();
				<span class="hljs-keyword">this</span>.sequencerClocks = <span class="hljs-number">0x2000</span>;
			}
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.computeAudioChannels();
			}
		}
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-613">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-613">&#182;</a>
              </div>
              <p>SILENT OUTPUT:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">while</span> (numSamples &gt; <span class="hljs-number">0</span>) {
			multiplier = <span class="hljs-built_in">Math</span>.min(numSamples, <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor - <span class="hljs-keyword">this</span>.audioIndex);
			numSamples -= multiplier;
			<span class="hljs-keyword">this</span>.audioIndex += multiplier;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioIndex == <span class="hljs-keyword">this</span>.audioResamplerFirstPassFactor) {
				<span class="hljs-keyword">this</span>.audioIndex = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">this</span>.outputAudio();
			}
		}
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-614">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-614">&#182;</a>
              </div>
              <p>Generate audio, but don’t actually output it (Used for when sound is disabled by user/browser):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateAudioFake = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(numSamples)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.soundMasterEnabled &amp;&amp; !<span class="hljs-keyword">this</span>.CPUStopped) {
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> clockUpTo = <span class="hljs-number">0</span>; numSamples &gt; <span class="hljs-number">0</span>;) {
			clockUpTo = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter, <span class="hljs-keyword">this</span>.sequencerClocks, numSamples);
			<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter -= clockUpTo;
			<span class="hljs-keyword">this</span>.sequencerClocks -= clockUpTo;
			numSamples -= clockUpTo;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sequencerClocks == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.audioComputeSequencer();
				<span class="hljs-keyword">this</span>.sequencerClocks = <span class="hljs-number">0x2000</span>;
			}
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.computeAudioChannels();
			}
		}
	}
}
GameBoyCore.prototype.audioJIT = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-615">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-615">&#182;</a>
              </div>
              <p>Audio Sample Generation Timing:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">0</span>]) {
		<span class="hljs-keyword">this</span>.generateAudio(<span class="hljs-keyword">this</span>.audioTicks);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.generateAudioFake(<span class="hljs-keyword">this</span>.audioTicks);
	}
	<span class="hljs-keyword">this</span>.audioTicks = <span class="hljs-number">0</span>;
}
GameBoyCore.prototype.audioComputeSequencer = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.sequencePosition++) {
		<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
			<span class="hljs-keyword">this</span>.clockAudioLength();
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
			<span class="hljs-keyword">this</span>.clockAudioLength();
			<span class="hljs-keyword">this</span>.clockAudioSweep();
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
			<span class="hljs-keyword">this</span>.clockAudioLength();
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
			<span class="hljs-keyword">this</span>.clockAudioLength();
			<span class="hljs-keyword">this</span>.clockAudioSweep();
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
			<span class="hljs-keyword">this</span>.clockAudioEnvelope();
			<span class="hljs-keyword">this</span>.sequencePosition = <span class="hljs-number">0</span>;
	}
}
GameBoyCore.prototype.clockAudioLength = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-616">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-616">&#182;</a>
              </div>
              <p>Channel 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1totalLength &gt; <span class="hljs-number">1</span>) {
		--<span class="hljs-keyword">this</span>.channel1totalLength;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1totalLength == <span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.channel1totalLength = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel1EnableCheck();
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;	<span class="hljs-comment">//Channel #1 On Flag Off</span>
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-617">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-617">&#182;</a>
              </div>
              <p>Channel 2:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2totalLength &gt; <span class="hljs-number">1</span>) {
		--<span class="hljs-keyword">this</span>.channel2totalLength;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2totalLength == <span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.channel2totalLength = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel2EnableCheck();
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFD</span>;	<span class="hljs-comment">//Channel #2 On Flag Off</span>
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-618">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-618">&#182;</a>
              </div>
              <p>Channel 3:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3totalLength &gt; <span class="hljs-number">1</span>) {
		--<span class="hljs-keyword">this</span>.channel3totalLength;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3totalLength == <span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.channel3totalLength = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel3EnableCheck();
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFB</span>;	<span class="hljs-comment">//Channel #3 On Flag Off</span>
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-619">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-619">&#182;</a>
              </div>
              <p>Channel 4:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4totalLength &gt; <span class="hljs-number">1</span>) {
		--<span class="hljs-keyword">this</span>.channel4totalLength;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4totalLength == <span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.channel4totalLength = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel4EnableCheck();
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xF7</span>;	<span class="hljs-comment">//Channel #4 On Flag Off</span>
	}
}
GameBoyCore.prototype.clockAudioSweep = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-620">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-620">&#182;</a>
              </div>
              <p>Channel 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.channel1SweepFault &amp;&amp; <span class="hljs-keyword">this</span>.channel1timeSweep &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (--<span class="hljs-keyword">this</span>.channel1timeSweep == <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.runAudioSweep();
		}
	}
}
GameBoyCore.prototype.runAudioSweep = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-621">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-621">&#182;</a>
              </div>
              <p>Channel 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1lastTimeSweep &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1frequencySweepDivider &gt; <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.channel1Swept = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1decreaseSweep) {
				<span class="hljs-keyword">this</span>.channel1ShadowFrequency -= <span class="hljs-keyword">this</span>.channel1ShadowFrequency &gt;&gt; <span class="hljs-keyword">this</span>.channel1frequencySweepDivider;
				<span class="hljs-keyword">this</span>.channel1frequency = <span class="hljs-keyword">this</span>.channel1ShadowFrequency &amp; <span class="hljs-number">0x7FF</span>;
				<span class="hljs-keyword">this</span>.channel1FrequencyTracker = (<span class="hljs-number">0x800</span> - <span class="hljs-keyword">this</span>.channel1frequency) &lt;&lt; <span class="hljs-number">2</span>;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.channel1ShadowFrequency += <span class="hljs-keyword">this</span>.channel1ShadowFrequency &gt;&gt; <span class="hljs-keyword">this</span>.channel1frequencySweepDivider;
				<span class="hljs-keyword">this</span>.channel1frequency = <span class="hljs-keyword">this</span>.channel1ShadowFrequency;
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1ShadowFrequency &lt;= <span class="hljs-number">0x7FF</span>) {
					<span class="hljs-keyword">this</span>.channel1FrequencyTracker = (<span class="hljs-number">0x800</span> - <span class="hljs-keyword">this</span>.channel1frequency) &lt;&lt; <span class="hljs-number">2</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-622">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-622">&#182;</a>
              </div>
              <p>Run overflow check twice:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.channel1ShadowFrequency + (<span class="hljs-keyword">this</span>.channel1ShadowFrequency &gt;&gt; <span class="hljs-keyword">this</span>.channel1frequencySweepDivider)) &gt; <span class="hljs-number">0x7FF</span>) {
						<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
						<span class="hljs-keyword">this</span>.channel1EnableCheck();
						<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;	<span class="hljs-comment">//Channel #1 On Flag Off</span>
					}
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.channel1frequency &amp;= <span class="hljs-number">0x7FF</span>;
					<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
					<span class="hljs-keyword">this</span>.channel1EnableCheck();
					<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;	<span class="hljs-comment">//Channel #1 On Flag Off</span>
				}
			}
			<span class="hljs-keyword">this</span>.channel1timeSweep = <span class="hljs-keyword">this</span>.channel1lastTimeSweep;
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-623">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-623">&#182;</a>
              </div>
              <p>Channel has sweep disabled and timer becomes a length counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
			<span class="hljs-keyword">this</span>.channel1EnableCheck();
		}
	}
}
GameBoyCore.prototype.channel1AudioSweepPerformDummy = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-624">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-624">&#182;</a>
              </div>
              <p>Channel 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1frequencySweepDivider &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.channel1decreaseSweep) {
			<span class="hljs-keyword">var</span> channel1ShadowFrequency = <span class="hljs-keyword">this</span>.channel1ShadowFrequency + (<span class="hljs-keyword">this</span>.channel1ShadowFrequency &gt;&gt; <span class="hljs-keyword">this</span>.channel1frequencySweepDivider);
			<span class="hljs-keyword">if</span> (channel1ShadowFrequency &lt;= <span class="hljs-number">0x7FF</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-625">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-625">&#182;</a>
              </div>
              <p>Run overflow check twice:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> ((channel1ShadowFrequency + (channel1ShadowFrequency &gt;&gt; <span class="hljs-keyword">this</span>.channel1frequencySweepDivider)) &gt; <span class="hljs-number">0x7FF</span>) {
					<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
					<span class="hljs-keyword">this</span>.channel1EnableCheck();
					<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;	<span class="hljs-comment">//Channel #1 On Flag Off</span>
				}
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.channel1SweepFault = <span class="hljs-literal">true</span>;
				<span class="hljs-keyword">this</span>.channel1EnableCheck();
				<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;	<span class="hljs-comment">//Channel #1 On Flag Off</span>
			}
		}
	}
}
GameBoyCore.prototype.clockAudioEnvelope = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-626">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-626">&#182;</a>
              </div>
              <p>Channel 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast &gt; -<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1envelopeSweeps &gt; <span class="hljs-number">0</span>) {
			--<span class="hljs-keyword">this</span>.channel1envelopeSweeps;
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.channel1envelopeType) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1envelopeVolume &gt; <span class="hljs-number">0</span>) {
					--<span class="hljs-keyword">this</span>.channel1envelopeVolume;
					<span class="hljs-keyword">this</span>.channel1envelopeSweeps = <span class="hljs-keyword">this</span>.channel1envelopeSweepsLast;
					<span class="hljs-keyword">this</span>.channel1OutputLevelCache();
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast = -<span class="hljs-number">1</span>;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1envelopeVolume &lt; <span class="hljs-number">0xF</span>) {
				++<span class="hljs-keyword">this</span>.channel1envelopeVolume;
				<span class="hljs-keyword">this</span>.channel1envelopeSweeps = <span class="hljs-keyword">this</span>.channel1envelopeSweepsLast;
				<span class="hljs-keyword">this</span>.channel1OutputLevelCache();
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.channel1envelopeSweepsLast = -<span class="hljs-number">1</span>;
			}
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-627">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-627">&#182;</a>
              </div>
              <p>Channel 2:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast &gt; -<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2envelopeSweeps &gt; <span class="hljs-number">0</span>) {
			--<span class="hljs-keyword">this</span>.channel2envelopeSweeps;
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.channel2envelopeType) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2envelopeVolume &gt; <span class="hljs-number">0</span>) {
					--<span class="hljs-keyword">this</span>.channel2envelopeVolume;
					<span class="hljs-keyword">this</span>.channel2envelopeSweeps = <span class="hljs-keyword">this</span>.channel2envelopeSweepsLast;
					<span class="hljs-keyword">this</span>.channel2OutputLevelCache();
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast = -<span class="hljs-number">1</span>;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2envelopeVolume &lt; <span class="hljs-number">0xF</span>) {
				++<span class="hljs-keyword">this</span>.channel2envelopeVolume;
				<span class="hljs-keyword">this</span>.channel2envelopeSweeps = <span class="hljs-keyword">this</span>.channel2envelopeSweepsLast;
				<span class="hljs-keyword">this</span>.channel2OutputLevelCache();
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.channel2envelopeSweepsLast = -<span class="hljs-number">1</span>;
			}
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-628">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-628">&#182;</a>
              </div>
              <p>Channel 4:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast &gt; -<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4envelopeSweeps &gt; <span class="hljs-number">0</span>) {
			--<span class="hljs-keyword">this</span>.channel4envelopeSweeps;
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.channel4envelopeType) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4envelopeVolume &gt; <span class="hljs-number">0</span>) {
					<span class="hljs-keyword">this</span>.channel4currentVolume = --<span class="hljs-keyword">this</span>.channel4envelopeVolume &lt;&lt; <span class="hljs-keyword">this</span>.channel4VolumeShifter;
					<span class="hljs-keyword">this</span>.channel4envelopeSweeps = <span class="hljs-keyword">this</span>.channel4envelopeSweepsLast;
					<span class="hljs-keyword">this</span>.channel4UpdateCache();
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast = -<span class="hljs-number">1</span>;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4envelopeVolume &lt; <span class="hljs-number">0xF</span>) {
				<span class="hljs-keyword">this</span>.channel4currentVolume = ++<span class="hljs-keyword">this</span>.channel4envelopeVolume &lt;&lt; <span class="hljs-keyword">this</span>.channel4VolumeShifter;
				<span class="hljs-keyword">this</span>.channel4envelopeSweeps = <span class="hljs-keyword">this</span>.channel4envelopeSweepsLast;
				<span class="hljs-keyword">this</span>.channel4UpdateCache();
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.channel4envelopeSweepsLast = -<span class="hljs-number">1</span>;
			}
		}
	}
}
GameBoyCore.prototype.computeAudioChannels = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-629">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-629">&#182;</a>
              </div>
              <p>Clock down the four audio channels to the next closest audio event:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.channel1FrequencyCounter -= <span class="hljs-keyword">this</span>.audioClocksUntilNextEvent;
	<span class="hljs-keyword">this</span>.channel2FrequencyCounter -= <span class="hljs-keyword">this</span>.audioClocksUntilNextEvent;
	<span class="hljs-keyword">this</span>.channel3Counter -= <span class="hljs-keyword">this</span>.audioClocksUntilNextEvent;
	<span class="hljs-keyword">this</span>.channel4Counter -= <span class="hljs-keyword">this</span>.audioClocksUntilNextEvent;</pre></div></div>
            
        </li>
        
        
        <li id="section-630">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-630">&#182;</a>
              </div>
              <p>Channel 1 counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1FrequencyCounter == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.channel1FrequencyCounter = <span class="hljs-keyword">this</span>.channel1FrequencyTracker;
		<span class="hljs-keyword">this</span>.channel1DutyTracker = (<span class="hljs-keyword">this</span>.channel1DutyTracker + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x7</span>;
		<span class="hljs-keyword">this</span>.channel1OutputLevelTrimaryCache();
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-631">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-631">&#182;</a>
              </div>
              <p>Channel 2 counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2FrequencyCounter == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.channel2FrequencyCounter = <span class="hljs-keyword">this</span>.channel2FrequencyTracker;
		<span class="hljs-keyword">this</span>.channel2DutyTracker = (<span class="hljs-keyword">this</span>.channel2DutyTracker + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x7</span>;
		<span class="hljs-keyword">this</span>.channel2OutputLevelTrimaryCache();
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-632">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-632">&#182;</a>
              </div>
              <p>Channel 3 counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3Counter == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3canPlay) {
			<span class="hljs-keyword">this</span>.channel3lastSampleLookup = (<span class="hljs-keyword">this</span>.channel3lastSampleLookup + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x1F</span>;
		}
		<span class="hljs-keyword">this</span>.channel3Counter = <span class="hljs-keyword">this</span>.channel3FrequencyPeriod;
		<span class="hljs-keyword">this</span>.channel3UpdateCache();
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-633">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-633">&#182;</a>
              </div>
              <p>Channel 4 counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4Counter == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.channel4lastSampleLookup = (<span class="hljs-keyword">this</span>.channel4lastSampleLookup + <span class="hljs-number">1</span>) &amp; <span class="hljs-keyword">this</span>.channel4BitRange;
		<span class="hljs-keyword">this</span>.channel4Counter = <span class="hljs-keyword">this</span>.channel4FrequencyPeriod;
		<span class="hljs-keyword">this</span>.channel4UpdateCache();
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-634">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-634">&#182;</a>
              </div>
              <p>Find the number of clocks to next closest counter event:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.audioClocksUntilNextEventCounter = <span class="hljs-keyword">this</span>.audioClocksUntilNextEvent = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.channel1FrequencyCounter, <span class="hljs-keyword">this</span>.channel2FrequencyCounter, <span class="hljs-keyword">this</span>.channel3Counter, <span class="hljs-keyword">this</span>.channel4Counter);
}
GameBoyCore.prototype.channel1EnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel1Enabled = ((<span class="hljs-keyword">this</span>.channel1consecutive || <span class="hljs-keyword">this</span>.channel1totalLength &gt; <span class="hljs-number">0</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.channel1SweepFault &amp;&amp; <span class="hljs-keyword">this</span>.channel1canPlay);
	<span class="hljs-keyword">this</span>.channel1OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel1VolumeEnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel1canPlay = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF12</span>] &gt; <span class="hljs-number">7</span>);
	<span class="hljs-keyword">this</span>.channel1EnableCheck();
	<span class="hljs-keyword">this</span>.channel1OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel1OutputLevelCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel1currentSampleLeft = (<span class="hljs-keyword">this</span>.leftChannel1) ? <span class="hljs-keyword">this</span>.channel1envelopeVolume : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1currentSampleRight = (<span class="hljs-keyword">this</span>.rightChannel1) ? <span class="hljs-keyword">this</span>.channel1envelopeVolume : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel1OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel1OutputLevelSecondaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1Enabled) {
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary = <span class="hljs-keyword">this</span>.channel1currentSampleLeft;
		<span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary = <span class="hljs-keyword">this</span>.channel1currentSampleRight;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.channel1OutputLevelTrimaryCache();
}
GameBoyCore.prototype.channel1OutputLevelTrimaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel1CachedDuty[<span class="hljs-keyword">this</span>.channel1DutyTracker] &amp;&amp; settings[<span class="hljs-number">14</span>][<span class="hljs-number">0</span>]) {
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary = <span class="hljs-keyword">this</span>.channel1currentSampleLeftSecondary;
		<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary = <span class="hljs-keyword">this</span>.channel1currentSampleRightSecondary;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.mixerOutputLevelCache();
}
GameBoyCore.prototype.channel2EnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel2Enabled = ((<span class="hljs-keyword">this</span>.channel2consecutive || <span class="hljs-keyword">this</span>.channel2totalLength &gt; <span class="hljs-number">0</span>) &amp;&amp; <span class="hljs-keyword">this</span>.channel2canPlay);
	<span class="hljs-keyword">this</span>.channel2OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel2VolumeEnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel2canPlay = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF17</span>] &gt; <span class="hljs-number">7</span>);
	<span class="hljs-keyword">this</span>.channel2EnableCheck();
	<span class="hljs-keyword">this</span>.channel2OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel2OutputLevelCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel2currentSampleLeft = (<span class="hljs-keyword">this</span>.leftChannel2) ? <span class="hljs-keyword">this</span>.channel2envelopeVolume : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2currentSampleRight = (<span class="hljs-keyword">this</span>.rightChannel2) ? <span class="hljs-keyword">this</span>.channel2envelopeVolume : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel2OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel2OutputLevelSecondaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2Enabled) {
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary = <span class="hljs-keyword">this</span>.channel2currentSampleLeft;
		<span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary = <span class="hljs-keyword">this</span>.channel2currentSampleRight;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.channel2OutputLevelTrimaryCache();
}
GameBoyCore.prototype.channel2OutputLevelTrimaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel2CachedDuty[<span class="hljs-keyword">this</span>.channel2DutyTracker] &amp;&amp; settings[<span class="hljs-number">14</span>][<span class="hljs-number">1</span>]) {
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary = <span class="hljs-keyword">this</span>.channel2currentSampleLeftSecondary;
		<span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary = <span class="hljs-keyword">this</span>.channel2currentSampleRightSecondary;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.mixerOutputLevelCache();
}
GameBoyCore.prototype.channel3EnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel3Enabled = (<span class="hljs-comment">/*this.channel3canPlay &amp;&amp; */</span>(<span class="hljs-keyword">this</span>.channel3consecutive || <span class="hljs-keyword">this</span>.channel3totalLength &gt; <span class="hljs-number">0</span>));
	<span class="hljs-keyword">this</span>.channel3OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel3OutputLevelCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel3currentSampleLeft = (<span class="hljs-keyword">this</span>.leftChannel3) ? <span class="hljs-keyword">this</span>.cachedChannel3Sample : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3currentSampleRight = (<span class="hljs-keyword">this</span>.rightChannel3) ? <span class="hljs-keyword">this</span>.cachedChannel3Sample : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel3OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel3OutputLevelSecondaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3Enabled &amp;&amp; settings[<span class="hljs-number">14</span>][<span class="hljs-number">2</span>]) {
		<span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary = <span class="hljs-keyword">this</span>.channel3currentSampleLeft;
		<span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary = <span class="hljs-keyword">this</span>.channel3currentSampleRight;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.mixerOutputLevelCache();
}
GameBoyCore.prototype.channel4EnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel4Enabled = ((<span class="hljs-keyword">this</span>.channel4consecutive || <span class="hljs-keyword">this</span>.channel4totalLength &gt; <span class="hljs-number">0</span>) &amp;&amp; <span class="hljs-keyword">this</span>.channel4canPlay);
	<span class="hljs-keyword">this</span>.channel4OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel4VolumeEnableCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel4canPlay = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF21</span>] &gt; <span class="hljs-number">7</span>);
	<span class="hljs-keyword">this</span>.channel4EnableCheck();
	<span class="hljs-keyword">this</span>.channel4OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel4OutputLevelCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.channel4currentSampleLeft = (<span class="hljs-keyword">this</span>.leftChannel4) ? <span class="hljs-keyword">this</span>.cachedChannel4Sample : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4currentSampleRight = (<span class="hljs-keyword">this</span>.rightChannel4) ? <span class="hljs-keyword">this</span>.cachedChannel4Sample : <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.channel4OutputLevelSecondaryCache();
}
GameBoyCore.prototype.channel4OutputLevelSecondaryCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel4Enabled &amp;&amp; settings[<span class="hljs-number">14</span>][<span class="hljs-number">3</span>]) {
		<span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary = <span class="hljs-keyword">this</span>.channel4currentSampleLeft;
		<span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary = <span class="hljs-keyword">this</span>.channel4currentSampleRight;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary = <span class="hljs-number">0</span>;
	}
	<span class="hljs-keyword">this</span>.mixerOutputLevelCache();
}
GameBoyCore.prototype.mixerOutputLevelCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.mixerOutputCache = ((((<span class="hljs-keyword">this</span>.channel1currentSampleLeftTrimary + <span class="hljs-keyword">this</span>.channel2currentSampleLeftTrimary + <span class="hljs-keyword">this</span>.channel3currentSampleLeftSecondary + <span class="hljs-keyword">this</span>.channel4currentSampleLeftSecondary) * <span class="hljs-keyword">this</span>.VinLeftChannelMasterVolume) &lt;&lt; <span class="hljs-number">16</span>) |
	((<span class="hljs-keyword">this</span>.channel1currentSampleRightTrimary + <span class="hljs-keyword">this</span>.channel2currentSampleRightTrimary + <span class="hljs-keyword">this</span>.channel3currentSampleRightSecondary + <span class="hljs-keyword">this</span>.channel4currentSampleRightSecondary) * <span class="hljs-keyword">this</span>.VinRightChannelMasterVolume));
}
GameBoyCore.prototype.channel3UpdateCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.cachedChannel3Sample = <span class="hljs-keyword">this</span>.channel3PCM[<span class="hljs-keyword">this</span>.channel3lastSampleLookup] &gt;&gt; <span class="hljs-keyword">this</span>.channel3patternType;
	<span class="hljs-keyword">this</span>.channel3OutputLevelCache();
}
GameBoyCore.prototype.channel3WriteRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.channel3canPlay) {
		<span class="hljs-keyword">this</span>.audioJIT();</pre></div></div>
            
        </li>
        
        
        <li id="section-635">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-635">&#182;</a>
              </div>
              <p>address = this.channel3lastSampleLookup &gt;&gt; 1;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	}
	<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF30</span> | address] = data;
	address &lt;&lt;= <span class="hljs-number">1</span>;
	<span class="hljs-keyword">this</span>.channel3PCM[address] = data &gt;&gt; <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.channel3PCM[address | <span class="hljs-number">1</span>] = data &amp; <span class="hljs-number">0xF</span>;
}
GameBoyCore.prototype.channel4UpdateCache = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.cachedChannel4Sample = <span class="hljs-keyword">this</span>.noiseSampleTable[<span class="hljs-keyword">this</span>.channel4currentVolume | <span class="hljs-keyword">this</span>.channel4lastSampleLookup];
	<span class="hljs-keyword">this</span>.channel4OutputLevelCache();
}
GameBoyCore.prototype.run = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-636">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-636">&#182;</a>
              </div>
              <p>The preprocessing before the actual iteration loop:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.stopEmulator &amp; <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.stopEmulator &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.CPUStopped) {
				<span class="hljs-keyword">this</span>.stopEmulator = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">this</span>.audioUnderrunAdjustment();
				<span class="hljs-keyword">this</span>.clockUpdate();			<span class="hljs-comment">//RTC clocking.</span>
				<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.halt) {
					<span class="hljs-keyword">this</span>.executeIteration();
				}
				<span class="hljs-keyword">else</span> {						<span class="hljs-comment">//Finish the HALT rundown execution.</span>
					<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">this</span>.calculateHALTPeriod();
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.halt) {
						<span class="hljs-keyword">this</span>.updateCore();
						<span class="hljs-keyword">this</span>.iterationEndRoutine();
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.executeIteration();
					}
				}</pre></div></div>
            
        </li>
        
        
        <li id="section-637">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-637">&#182;</a>
              </div>
              <p>Request the graphics target to be updated:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">this</span>.requestDraw();
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.audioUnderrunAdjustment();
				<span class="hljs-keyword">this</span>.audioTicks += <span class="hljs-keyword">this</span>.CPUCyclesTotal;
				<span class="hljs-keyword">this</span>.audioJIT();
				<span class="hljs-keyword">this</span>.stopEmulator |= <span class="hljs-number">1</span>;			<span class="hljs-comment">//End current loop.</span>
			}
		}
		<span class="hljs-keyword">else</span> {		<span class="hljs-comment">//We can only get here if there was an internal error, but the loop was restarted.</span>
			cout(<span class="hljs-string">"Iterator restarted a faulted core."</span>, <span class="hljs-number">2</span>);
			pause();
		}
	}
}
GameBoyCore.prototype.executeIteration = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-638">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-638">&#182;</a>
              </div>
              <p>Iterate the interpreter loop:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> opcodeToExecute = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> timedTicks = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.stopEmulator == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-639">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-639">&#182;</a>
              </div>
              <p>Interrupt Arming:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.IRQEnableDelay) {
			<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
				<span class="hljs-keyword">this</span>.IME = <span class="hljs-literal">true</span>;
				<span class="hljs-keyword">this</span>.checkIRQMatching();
			<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
				--<span class="hljs-keyword">this</span>.IRQEnableDelay;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-640">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-640">&#182;</a>
              </div>
              <p>Is an IRQ set to fire?:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IRQLineMatched &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-641">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-641">&#182;</a>
              </div>
              <p>IME is true and and interrupt was matched:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.launchIRQ();
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-642">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-642">&#182;</a>
              </div>
              <p>Fetch the current opcode:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		opcodeToExecute = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-keyword">this</span>.programCounter](<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.programCounter);</pre></div></div>
            
        </li>
        
        
        <li id="section-643">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-643">&#182;</a>
              </div>
              <p>Increment the program counter to the next instruction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.programCounter = (<span class="hljs-keyword">this</span>.programCounter + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-644">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-644">&#182;</a>
              </div>
              <p>Check for the program counter quirk:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.skipPCIncrement) {
			<span class="hljs-keyword">this</span>.programCounter = (<span class="hljs-keyword">this</span>.programCounter - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			<span class="hljs-keyword">this</span>.skipPCIncrement = <span class="hljs-literal">false</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-645">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-645">&#182;</a>
              </div>
              <p>Get how many CPU cycles the current instruction counts for:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-keyword">this</span>.TICKTable[opcodeToExecute];</pre></div></div>
            
        </li>
        
        
        <li id="section-646">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-646">&#182;</a>
              </div>
              <p>Execute the current instruction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.OPCODE[opcodeToExecute](<span class="hljs-keyword">this</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-647">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-647">&#182;</a>
              </div>
              <p>Update the state (Inlined updateCoreFull manually here):
Update the clocking for the LCD emulation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.LCDTicks += <span class="hljs-keyword">this</span>.CPUTicks &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;	<span class="hljs-comment">//LCD Timing</span>
		<span class="hljs-keyword">this</span>.LCDCONTROL[<span class="hljs-keyword">this</span>.actualScanLine](<span class="hljs-keyword">this</span>);					<span class="hljs-comment">//Scan Line and STAT Mode Control</span></pre></div></div>
            
        </li>
        
        
        <li id="section-648">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-648">&#182;</a>
              </div>
              <p>Single-speed relative timing for A/V emulation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		timedTicks = <span class="hljs-keyword">this</span>.CPUTicks &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;		<span class="hljs-comment">//CPU clocking can be updated from the LCD handling.</span>
		<span class="hljs-keyword">this</span>.audioTicks += timedTicks;								<span class="hljs-comment">//Audio Timing</span>
		<span class="hljs-keyword">this</span>.emulatorTicks += timedTicks;							<span class="hljs-comment">//Emulator Timing</span></pre></div></div>
            
        </li>
        
        
        <li id="section-649">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-649">&#182;</a>
              </div>
              <p>CPU Timers:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.DIVTicks += <span class="hljs-keyword">this</span>.CPUTicks;								<span class="hljs-comment">//DIV Timing</span>
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.TIMAEnabled) {										<span class="hljs-comment">//TIMA Timing</span>
			<span class="hljs-keyword">this</span>.timerTicks += <span class="hljs-keyword">this</span>.CPUTicks;
			<span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.timerTicks &gt;= <span class="hljs-keyword">this</span>.TACClocker) {
				<span class="hljs-keyword">this</span>.timerTicks -= <span class="hljs-keyword">this</span>.TACClocker;
				<span class="hljs-keyword">if</span> (++<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF05</span>] == <span class="hljs-number">0x100</span>) {
					<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF05</span>] = <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF06</span>];
					<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x4</span>;
					<span class="hljs-keyword">this</span>.checkIRQMatching();
				}
			}
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &gt; <span class="hljs-number">0</span>) {										<span class="hljs-comment">//Serial Timing</span></pre></div></div>
            
        </li>
        
        
        <li id="section-650">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-650">&#182;</a>
              </div>
              <p>IRQ Counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.serialTimer -= <span class="hljs-keyword">this</span>.CPUTicks;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &lt;= <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x8</span>;
				<span class="hljs-keyword">this</span>.checkIRQMatching();
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-651">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-651">&#182;</a>
              </div>
              <p>Bit Shit Counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.serialShiftTimer -= <span class="hljs-keyword">this</span>.CPUTicks;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialShiftTimer &lt;= <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">this</span>.serialShiftTimer = <span class="hljs-keyword">this</span>.serialShiftTimerAllocated;
				<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF01</span>] = ((<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF01</span>] &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFE</span>) | <span class="hljs-number">0x01</span>;	<span class="hljs-comment">//We could shift in actual link data here if we were to implement such!!!</span>
			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-652">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-652">&#182;</a>
              </div>
              <p>End of iteration routine:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.emulatorTicks &gt;= <span class="hljs-keyword">this</span>.CPUCyclesTotal) {
			<span class="hljs-keyword">this</span>.iterationEndRoutine();
		}
	}
}
GameBoyCore.prototype.iterationEndRoutine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.stopEmulator &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.audioJIT();	<span class="hljs-comment">//Make sure we at least output once per iteration.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-653">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-653">&#182;</a>
              </div>
              <p>Update DIV Alignment (Integer overflow safety):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF04</span>] = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF04</span>] + (<span class="hljs-keyword">this</span>.DIVTicks &gt;&gt; <span class="hljs-number">8</span>)) &amp; <span class="hljs-number">0xFF</span>;
		<span class="hljs-keyword">this</span>.DIVTicks &amp;= <span class="hljs-number">0xFF</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-654">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-654">&#182;</a>
              </div>
              <p>Update emulator flags:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.stopEmulator |= <span class="hljs-number">1</span>;			<span class="hljs-comment">//End current loop.</span>
		<span class="hljs-keyword">this</span>.emulatorTicks -= <span class="hljs-keyword">this</span>.CPUCyclesTotal;
		<span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent += <span class="hljs-keyword">this</span>.CPUCyclesTotalRoundoff;
		<span class="hljs-keyword">this</span>.recalculateIterationClockLimit();
	}
}
GameBoyCore.prototype.handleSTOP = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.CPUStopped = <span class="hljs-literal">true</span>;						<span class="hljs-comment">//Stop CPU until joypad input changes.</span>
	<span class="hljs-keyword">this</span>.iterationEndRoutine();
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.emulatorTicks &lt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.audioTicks -= <span class="hljs-keyword">this</span>.emulatorTicks;
		<span class="hljs-keyword">this</span>.audioJIT();
	}
}
GameBoyCore.prototype.recalculateIterationClockLimit = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">var</span> endModulus = <span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent % <span class="hljs-number">4</span>;
	<span class="hljs-keyword">this</span>.CPUCyclesTotal = <span class="hljs-keyword">this</span>.CPUCyclesTotalBase + <span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent - endModulus;
	<span class="hljs-keyword">this</span>.CPUCyclesTotalCurrent = endModulus;
}
GameBoyCore.prototype.recalculateIterationClockLimitForAudio = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(audioClocking)</span> </span>{
	<span class="hljs-keyword">this</span>.CPUCyclesTotal += <span class="hljs-built_in">Math</span>.min((audioClocking &gt;&gt; <span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-number">2</span>, <span class="hljs-keyword">this</span>.CPUCyclesTotalBase &lt;&lt; <span class="hljs-number">1</span>);
}
GameBoyCore.prototype.scanLineMode2 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{	<span class="hljs-comment">//OAM Search Period</span>
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.STATTracker != <span class="hljs-number">1</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode2TriggerSTAT) {
			<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x2</span>;
			<span class="hljs-keyword">this</span>.checkIRQMatching();
		}
		<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">1</span>;
		<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">2</span>;
	}
}
GameBoyCore.prototype.scanLineMode3 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{	<span class="hljs-comment">//Scan Line Drawing Period</span>
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.modeSTAT != <span class="hljs-number">3</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.STATTracker == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.mode2TriggerSTAT) {
			<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x2</span>;
			<span class="hljs-keyword">this</span>.checkIRQMatching();
		}
		<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">1</span>;
		<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">3</span>;
	}
}
GameBoyCore.prototype.scanLineMode0 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{	<span class="hljs-comment">//Horizontal Blanking Period</span>
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.modeSTAT != <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.STATTracker != <span class="hljs-number">2</span>) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.STATTracker == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode2TriggerSTAT) {
					<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x2</span>;
					<span class="hljs-keyword">this</span>.checkIRQMatching();
				}
				<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">3</span>;
			}
			<span class="hljs-keyword">this</span>.incrementScanLineQueue();
			<span class="hljs-keyword">this</span>.updateSpriteCount(<span class="hljs-keyword">this</span>.actualScanLine);
			<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">2</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LCDTicks &gt;= <span class="hljs-keyword">this</span>.spriteCount) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hdmaRunning) {
				<span class="hljs-keyword">this</span>.executeHDMA();
			}
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode0TriggerSTAT) {
				<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x2</span>;
				<span class="hljs-keyword">this</span>.checkIRQMatching();
			}
			<span class="hljs-keyword">this</span>.STATTracker = <span class="hljs-number">3</span>;
			<span class="hljs-keyword">this</span>.modeSTAT = <span class="hljs-number">0</span>;
		}
	}
}
GameBoyCore.prototype.clocksUntilLYCMatch = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>] != <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>] &gt; <span class="hljs-keyword">this</span>.actualScanLine) {
			<span class="hljs-keyword">return</span> <span class="hljs-number">456</span> * (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>] - <span class="hljs-keyword">this</span>.actualScanLine);
		}
		<span class="hljs-keyword">return</span> <span class="hljs-number">456</span> * (<span class="hljs-number">154</span> - <span class="hljs-keyword">this</span>.actualScanLine + <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>]);
	}
	<span class="hljs-keyword">return</span> (<span class="hljs-number">456</span> * ((<span class="hljs-keyword">this</span>.actualScanLine == <span class="hljs-number">153</span> &amp;&amp; <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF44</span>] == <span class="hljs-number">0</span>) ? <span class="hljs-number">154</span> : (<span class="hljs-number">153</span> - <span class="hljs-keyword">this</span>.actualScanLine))) + <span class="hljs-number">8</span>;
}
GameBoyCore.prototype.clocksUntilMode0 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.modeSTAT) {
		<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.actualScanLine == <span class="hljs-number">143</span>) {
				<span class="hljs-keyword">this</span>.updateSpriteCount(<span class="hljs-number">0</span>);
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.spriteCount + <span class="hljs-number">5016</span>;
			}
			<span class="hljs-keyword">this</span>.updateSpriteCount(<span class="hljs-keyword">this</span>.actualScanLine + <span class="hljs-number">1</span>);
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.spriteCount + <span class="hljs-number">456</span>;
		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
			<span class="hljs-keyword">this</span>.updateSpriteCount(<span class="hljs-keyword">this</span>.actualScanLine);
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.spriteCount;
		<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
			<span class="hljs-keyword">this</span>.updateSpriteCount(<span class="hljs-number">0</span>);
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.spriteCount + (<span class="hljs-number">456</span> * (<span class="hljs-number">154</span> - <span class="hljs-keyword">this</span>.actualScanLine));
	}
}
GameBoyCore.prototype.updateSpriteCount = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(line)</span> </span>{
	<span class="hljs-keyword">this</span>.spriteCount = <span class="hljs-number">252</span>;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC &amp;&amp; <span class="hljs-keyword">this</span>.gfxSpriteShow) {										<span class="hljs-comment">//Is the window enabled and are we in CGB mode?</span>
		<span class="hljs-keyword">var</span> lineAdjusted = line + <span class="hljs-number">0x10</span>;
		<span class="hljs-keyword">var</span> yoffset = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> yCap = (<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight) ? <span class="hljs-number">0x8</span> : <span class="hljs-number">0x10</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> OAMAddress = <span class="hljs-number">0xFE00</span>; OAMAddress &lt; <span class="hljs-number">0xFEA0</span> &amp;&amp; <span class="hljs-keyword">this</span>.spriteCount &lt; <span class="hljs-number">312</span>; OAMAddress += <span class="hljs-number">4</span>) {
			yoffset = lineAdjusted - <span class="hljs-keyword">this</span>.memory[OAMAddress];
			<span class="hljs-keyword">if</span> (yoffset &gt; -<span class="hljs-number">1</span> &amp;&amp; yoffset &lt; yCap) {
				<span class="hljs-keyword">this</span>.spriteCount += <span class="hljs-number">6</span>;
			}
		}
	}
}
GameBoyCore.prototype.matchLYC = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{	<span class="hljs-comment">//LYC Register Compare</span>
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF44</span>] == <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>]) {
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF41</span>] |= <span class="hljs-number">0x04</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT) {
			<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x2</span>;
			<span class="hljs-keyword">this</span>.checkIRQMatching();
		}
	} 
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x7B</span>;
	}
}
GameBoyCore.prototype.updateCore = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-655">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-655">&#182;</a>
              </div>
              <p>Update the clocking for the LCD emulation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.LCDTicks += <span class="hljs-keyword">this</span>.CPUTicks &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;	<span class="hljs-comment">//LCD Timing</span>
	<span class="hljs-keyword">this</span>.LCDCONTROL[<span class="hljs-keyword">this</span>.actualScanLine](<span class="hljs-keyword">this</span>);					<span class="hljs-comment">//Scan Line and STAT Mode Control</span></pre></div></div>
            
        </li>
        
        
        <li id="section-656">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-656">&#182;</a>
              </div>
              <p>Single-speed relative timing for A/V emulation:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> timedTicks = <span class="hljs-keyword">this</span>.CPUTicks &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;	<span class="hljs-comment">//CPU clocking can be updated from the LCD handling.</span>
	<span class="hljs-keyword">this</span>.audioTicks += timedTicks;								<span class="hljs-comment">//Audio Timing</span>
	<span class="hljs-keyword">this</span>.emulatorTicks += timedTicks;							<span class="hljs-comment">//Emulator Timing</span></pre></div></div>
            
        </li>
        
        
        <li id="section-657">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-657">&#182;</a>
              </div>
              <p>CPU Timers:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.DIVTicks += <span class="hljs-keyword">this</span>.CPUTicks;								<span class="hljs-comment">//DIV Timing</span>
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.TIMAEnabled) {										<span class="hljs-comment">//TIMA Timing</span>
		<span class="hljs-keyword">this</span>.timerTicks += <span class="hljs-keyword">this</span>.CPUTicks;
		<span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.timerTicks &gt;= <span class="hljs-keyword">this</span>.TACClocker) {
			<span class="hljs-keyword">this</span>.timerTicks -= <span class="hljs-keyword">this</span>.TACClocker;
			<span class="hljs-keyword">if</span> (++<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF05</span>] == <span class="hljs-number">0x100</span>) {
				<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF05</span>] = <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF06</span>];
				<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x4</span>;
				<span class="hljs-keyword">this</span>.checkIRQMatching();
			}
		}
	}
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &gt; <span class="hljs-number">0</span>) {										<span class="hljs-comment">//Serial Timing</span></pre></div></div>
            
        </li>
        
        
        <li id="section-658">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-658">&#182;</a>
              </div>
              <p>IRQ Counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.serialTimer -= <span class="hljs-keyword">this</span>.CPUTicks;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &lt;= <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.interruptsRequested |= <span class="hljs-number">0x8</span>;
			<span class="hljs-keyword">this</span>.checkIRQMatching();
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-659">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-659">&#182;</a>
              </div>
              <p>Bit Shit Counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.serialShiftTimer -= <span class="hljs-keyword">this</span>.CPUTicks;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialShiftTimer &lt;= <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">this</span>.serialShiftTimer = <span class="hljs-keyword">this</span>.serialShiftTimerAllocated;
			<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF01</span>] = ((<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF01</span>] &lt;&lt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFE</span>) | <span class="hljs-number">0x01</span>;	<span class="hljs-comment">//We could shift in actual link data here if we were to implement such!!!</span>
		}
	}
}
GameBoyCore.prototype.updateCoreFull = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-660">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-660">&#182;</a>
              </div>
              <p>Update the state machine:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.updateCore();</pre></div></div>
            
        </li>
        
        
        <li id="section-661">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-661">&#182;</a>
              </div>
              <p>End of iteration routine:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.emulatorTicks &gt;= <span class="hljs-keyword">this</span>.CPUCyclesTotal) {
		<span class="hljs-keyword">this</span>.iterationEndRoutine();
	}
}
GameBoyCore.prototype.initializeLCDController = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-662">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-662">&#182;</a>
              </div>
              <p>Display on hanlding:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> line = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span> (line &lt; <span class="hljs-number">154</span>) {
		<span class="hljs-keyword">if</span> (line &lt; <span class="hljs-number">143</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-663">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-663">&#182;</a>
              </div>
              <p>We’re on a normal scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.LINECONTROL[line] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
				<span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">80</span>) {
					parentObj.scanLineMode2();
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">252</span>) {
					parentObj.scanLineMode3();
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">456</span>) {
					parentObj.scanLineMode0();
				}
				<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-664">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-664">&#182;</a>
              </div>
              <p>We’re on a new scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.LCDTicks -= <span class="hljs-number">456</span>;
					<span class="hljs-keyword">if</span> (parentObj.STATTracker != <span class="hljs-number">3</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-665">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-665">&#182;</a>
              </div>
              <p>Make sure the mode 0 handler was run at least once per scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="hljs-keyword">if</span> (parentObj.STATTracker != <span class="hljs-number">2</span>) {
							<span class="hljs-keyword">if</span> (parentObj.STATTracker == <span class="hljs-number">0</span> &amp;&amp; parentObj.mode2TriggerSTAT) {
								parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
							}
							parentObj.incrementScanLineQueue();
						}
						<span class="hljs-keyword">if</span> (parentObj.hdmaRunning) {
							parentObj.executeHDMA();
						}
						<span class="hljs-keyword">if</span> (parentObj.mode0TriggerSTAT) {
							parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
						}
					}</pre></div></div>
            
        </li>
        
        
        <li id="section-666">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-666">&#182;</a>
              </div>
              <p>Update the scanline registers and assert the LYC counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.actualScanLine = ++parentObj.memory[<span class="hljs-number">0xFF44</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-667">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-667">&#182;</a>
              </div>
              <p>Perform a LYC counter assert:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (parentObj.actualScanLine == parentObj.memory[<span class="hljs-number">0xFF45</span>]) {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] |= <span class="hljs-number">0x04</span>;
						<span class="hljs-keyword">if</span> (parentObj.LYCMatchTriggerSTAT) {
							parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
						}
					} 
					<span class="hljs-keyword">else</span> {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x7B</span>;
					}
					parentObj.checkIRQMatching();</pre></div></div>
            
        </li>
        
        
        <li id="section-668">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-668">&#182;</a>
              </div>
              <p>Reset our mode contingency variables:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.STATTracker = <span class="hljs-number">0</span>;
					parentObj.modeSTAT = <span class="hljs-number">2</span>;
					parentObj.LINECONTROL[parentObj.actualScanLine](parentObj);	<span class="hljs-comment">//Scan Line and STAT Mode Control.</span>
				}
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line == <span class="hljs-number">143</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-669">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-669">&#182;</a>
              </div>
              <p>We’re on the last visible scan line of the LCD screen:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.LINECONTROL[<span class="hljs-number">143</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
				<span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">80</span>) {
					parentObj.scanLineMode2();
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">252</span>) {
					parentObj.scanLineMode3();
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.LCDTicks &lt; <span class="hljs-number">456</span>) {
					parentObj.scanLineMode0();
				}
				<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-670">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-670">&#182;</a>
              </div>
              <p>Starting V-Blank:
Just finished the last visible scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.LCDTicks -= <span class="hljs-number">456</span>;
					<span class="hljs-keyword">if</span> (parentObj.STATTracker != <span class="hljs-number">3</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-671">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-671">&#182;</a>
              </div>
              <p>Make sure the mode 0 handler was run at least once per scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="hljs-keyword">if</span> (parentObj.STATTracker != <span class="hljs-number">2</span>) {
							<span class="hljs-keyword">if</span> (parentObj.STATTracker == <span class="hljs-number">0</span> &amp;&amp; parentObj.mode2TriggerSTAT) {
								parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
							}
							parentObj.incrementScanLineQueue();
						}
						<span class="hljs-keyword">if</span> (parentObj.hdmaRunning) {
							parentObj.executeHDMA();
						}
						<span class="hljs-keyword">if</span> (parentObj.mode0TriggerSTAT) {
							parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
						}
					}</pre></div></div>
            
        </li>
        
        
        <li id="section-672">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-672">&#182;</a>
              </div>
              <p>Update the scanline registers and assert the LYC counter:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.actualScanLine = parentObj.memory[<span class="hljs-number">0xFF44</span>] = <span class="hljs-number">144</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-673">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-673">&#182;</a>
              </div>
              <p>Perform a LYC counter assert:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF45</span>] == <span class="hljs-number">144</span>) {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] |= <span class="hljs-number">0x04</span>;
						<span class="hljs-keyword">if</span> (parentObj.LYCMatchTriggerSTAT) {
							parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
						}
					} 
					<span class="hljs-keyword">else</span> {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x7B</span>;
					}</pre></div></div>
            
        </li>
        
        
        <li id="section-674">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-674">&#182;</a>
              </div>
              <p>Reset our mode contingency variables:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.STATTracker = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-675">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-675">&#182;</a>
              </div>
              <p>Update our state for v-blank:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.modeSTAT = <span class="hljs-number">1</span>;
					parentObj.interruptsRequested |= (parentObj.mode1TriggerSTAT) ? <span class="hljs-number">0x3</span> : <span class="hljs-number">0x1</span>;
					parentObj.checkIRQMatching();</pre></div></div>
            
        </li>
        
        
        <li id="section-676">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-676">&#182;</a>
              </div>
              <p>Attempt to blit out to our canvas:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (parentObj.drewBlank == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-677">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-677">&#182;</a>
              </div>
              <p>Ensure JIT framing alignment:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="hljs-keyword">if</span> (parentObj.totalLinesPassed &lt; <span class="hljs-number">144</span> || (parentObj.totalLinesPassed == <span class="hljs-number">144</span> &amp;&amp; parentObj.midScanlineOffset &gt; -<span class="hljs-number">1</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-678">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-678">&#182;</a>
              </div>
              <p>Make sure our gfx are up-to-date:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>							parentObj.graphicsJITVBlank();</pre></div></div>
            
        </li>
        
        
        <li id="section-679">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-679">&#182;</a>
              </div>
              <p>Draw the frame:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>							parentObj.prepareFrame();
						}
					}
					<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-680">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-680">&#182;</a>
              </div>
              <p>LCD off takes at least 2 frames:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						--parentObj.drewBlank;
					}
					parentObj.LINECONTROL[<span class="hljs-number">144</span>](parentObj);	<span class="hljs-comment">//Scan Line and STAT Mode Control.</span>
				}
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line &lt; <span class="hljs-number">153</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-681">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-681">&#182;</a>
              </div>
              <p>In VBlank</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.LINECONTROL[line] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
				<span class="hljs-keyword">if</span> (parentObj.LCDTicks &gt;= <span class="hljs-number">456</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-682">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-682">&#182;</a>
              </div>
              <p>We’re on a new scan line:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.LCDTicks -= <span class="hljs-number">456</span>;
					parentObj.actualScanLine = ++parentObj.memory[<span class="hljs-number">0xFF44</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-683">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-683">&#182;</a>
              </div>
              <p>Perform a LYC counter assert:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (parentObj.actualScanLine == parentObj.memory[<span class="hljs-number">0xFF45</span>]) {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] |= <span class="hljs-number">0x04</span>;
						<span class="hljs-keyword">if</span> (parentObj.LYCMatchTriggerSTAT) {
							parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
							parentObj.checkIRQMatching();
						}
					} 
					<span class="hljs-keyword">else</span> {
						parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x7B</span>;
					}
					parentObj.LINECONTROL[parentObj.actualScanLine](parentObj);	<span class="hljs-comment">//Scan Line and STAT Mode Control.</span>
				}
			}
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-684">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-684">&#182;</a>
              </div>
              <p>VBlank Ending (We’re on the last actual scan line)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.LINECONTROL[<span class="hljs-number">153</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj)</span> </span>{
				<span class="hljs-keyword">if</span> (parentObj.LCDTicks &gt;= <span class="hljs-number">8</span>) {
					<span class="hljs-keyword">if</span> (parentObj.STATTracker != <span class="hljs-number">4</span> &amp;&amp; parentObj.memory[<span class="hljs-number">0xFF44</span>] == <span class="hljs-number">153</span>) {
						parentObj.memory[<span class="hljs-number">0xFF44</span>] = <span class="hljs-number">0</span>;	<span class="hljs-comment">//LY register resets to 0 early.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-685">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-685">&#182;</a>
              </div>
              <p>Perform a LYC counter assert:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF45</span>] == <span class="hljs-number">0</span>) {
							parentObj.memory[<span class="hljs-number">0xFF41</span>] |= <span class="hljs-number">0x04</span>;
							<span class="hljs-keyword">if</span> (parentObj.LYCMatchTriggerSTAT) {
								parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
								parentObj.checkIRQMatching();
							}
						} 
						<span class="hljs-keyword">else</span> {
							parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x7B</span>;
						}
						parentObj.STATTracker = <span class="hljs-number">4</span>;
					}
					<span class="hljs-keyword">if</span> (parentObj.LCDTicks &gt;= <span class="hljs-number">456</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-686">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-686">&#182;</a>
              </div>
              <p>We reset back to the beginning:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						parentObj.LCDTicks -= <span class="hljs-number">456</span>;
						parentObj.STATTracker = parentObj.actualScanLine = <span class="hljs-number">0</span>;
						parentObj.LINECONTROL[<span class="hljs-number">0</span>](parentObj);	<span class="hljs-comment">//Scan Line and STAT Mode Control.</span>
					}
				}
			}
		}
		++line;
	}
}
GameBoyCore.prototype.DisplayShowOff = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.drewBlank == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-687">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-687">&#182;</a>
              </div>
              <p>Output a blank screen to the output framebuffer:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.clearFrameBuffer();
		<span class="hljs-keyword">this</span>.drewFrame = <span class="hljs-literal">true</span>;
	}
	<span class="hljs-keyword">this</span>.drewBlank = <span class="hljs-number">2</span>;
}
GameBoyCore.prototype.executeHDMA = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.DMAWrite(<span class="hljs-number">1</span>);
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.halt) {
		<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.LCDTicks - <span class="hljs-keyword">this</span>.spriteCount) &lt; ((<span class="hljs-number">4</span> &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter) | <span class="hljs-number">0x20</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-688">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-688">&#182;</a>
              </div>
              <p>HALT clocking correction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">4</span> + ((<span class="hljs-number">0x20</span> + <span class="hljs-keyword">this</span>.spriteCount) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter);
			<span class="hljs-keyword">this</span>.LCDTicks = <span class="hljs-keyword">this</span>.spriteCount + ((<span class="hljs-number">4</span> &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter) | <span class="hljs-number">0x20</span>);
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.LCDTicks += (<span class="hljs-number">4</span> &gt;&gt; <span class="hljs-keyword">this</span>.doubleSpeedShifter) | <span class="hljs-number">0x20</span>;			<span class="hljs-comment">//LCD Timing Update For HDMA.</span>
	}
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF55</span>] == <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.hdmaRunning = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF55</span>] = <span class="hljs-number">0xFF</span>;	<span class="hljs-comment">//Transfer completed ("Hidden last step," since some ROMs don't imply this, but most do).</span>
	}
	<span class="hljs-keyword">else</span> {
		--<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF55</span>];
	}
}
GameBoyCore.prototype.clockUpdate = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cTIMER) {
		<span class="hljs-keyword">var</span> dateObj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
		<span class="hljs-keyword">var</span> newTime = dateObj.getTime();
		<span class="hljs-keyword">var</span> timeElapsed = newTime - <span class="hljs-keyword">this</span>.lastIteration;	<span class="hljs-comment">//Get the numnber of milliseconds since this last executed.</span>
		<span class="hljs-keyword">this</span>.lastIteration = newTime;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cTIMER &amp;&amp; !<span class="hljs-keyword">this</span>.RTCHALT) {</pre></div></div>
            
        </li>
        
        
        <li id="section-689">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-689">&#182;</a>
              </div>
              <p>Update the MBC3 RTC:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.RTCSeconds += timeElapsed / <span class="hljs-number">1000</span>;
			<span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.RTCSeconds &gt;= <span class="hljs-number">60</span>) {	<span class="hljs-comment">//System can stutter, so the seconds difference can get large, thus the "while".</span>
				<span class="hljs-keyword">this</span>.RTCSeconds -= <span class="hljs-number">60</span>;
				++<span class="hljs-keyword">this</span>.RTCMinutes;
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.RTCMinutes &gt;= <span class="hljs-number">60</span>) {
					<span class="hljs-keyword">this</span>.RTCMinutes -= <span class="hljs-number">60</span>;
					++<span class="hljs-keyword">this</span>.RTCHours;
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.RTCHours &gt;= <span class="hljs-number">24</span>) {
						<span class="hljs-keyword">this</span>.RTCHours -= <span class="hljs-number">24</span>
						++<span class="hljs-keyword">this</span>.RTCDays;
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.RTCDays &gt;= <span class="hljs-number">512</span>) {
							<span class="hljs-keyword">this</span>.RTCDays -= <span class="hljs-number">512</span>;
							<span class="hljs-keyword">this</span>.RTCDayOverFlow = <span class="hljs-literal">true</span>;
						}
					}
				}
			}
		}
	}
}
GameBoyCore.prototype.prepareFrame = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-690">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-690">&#182;</a>
              </div>
              <p>Copy the internal frame buffer to the output buffer:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.swizzleFrameBuffer();
	<span class="hljs-keyword">this</span>.drewFrame = <span class="hljs-literal">true</span>;
}
GameBoyCore.prototype.requestDraw = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.drewFrame) {
		<span class="hljs-keyword">this</span>.dispatchDraw();
	}
}
GameBoyCore.prototype.dispatchDraw = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.offscreenRGBCount &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-691">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-691">&#182;</a>
              </div>
              <p>We actually updated the graphics internally, so copy out:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.offscreenRGBCount == <span class="hljs-number">92160</span>) {
			<span class="hljs-keyword">this</span>.processDraw(<span class="hljs-keyword">this</span>.swizzledFrame);
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.resizeFrameBuffer();
		}
	}
}
GameBoyCore.prototype.processDraw = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(frameBuffer)</span> </span>{
	<span class="hljs-keyword">var</span> canvasRGBALength = <span class="hljs-keyword">this</span>.offscreenRGBCount;
	<span class="hljs-keyword">var</span> canvasData = <span class="hljs-keyword">this</span>.canvasBuffer.data;
	<span class="hljs-keyword">var</span> bufferIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> canvasIndex = <span class="hljs-number">0</span>; canvasIndex &lt; canvasRGBALength; ++canvasIndex) {
		canvasData[canvasIndex++] = frameBuffer[bufferIndex++];
		canvasData[canvasIndex++] = frameBuffer[bufferIndex++];
		canvasData[canvasIndex++] = frameBuffer[bufferIndex++];
	}
	<span class="hljs-keyword">this</span>.graphicsBlit();
	<span class="hljs-keyword">this</span>.drewFrame = <span class="hljs-literal">false</span>;
}
GameBoyCore.prototype.swizzleFrameBuffer = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-692">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-692">&#182;</a>
              </div>
              <p>Convert our dirty 24-bit (24-bit, with internal render flags above it) framebuffer to an 8-bit buffer with separate indices for the RGB channels:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> frameBuffer = <span class="hljs-keyword">this</span>.frameBuffer;
	<span class="hljs-keyword">var</span> swizzledFrame = <span class="hljs-keyword">this</span>.swizzledFrame;
	<span class="hljs-keyword">var</span> bufferIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> canvasIndex = <span class="hljs-number">0</span>; canvasIndex &lt; <span class="hljs-number">69120</span>;) {
		swizzledFrame[canvasIndex++] = (frameBuffer[bufferIndex] &gt;&gt; <span class="hljs-number">16</span>) &amp; <span class="hljs-number">0xFF</span>;		<span class="hljs-comment">//Red</span>
		swizzledFrame[canvasIndex++] = (frameBuffer[bufferIndex] &gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>;		<span class="hljs-comment">//Green</span>
		swizzledFrame[canvasIndex++] = frameBuffer[bufferIndex++] &amp; <span class="hljs-number">0xFF</span>;			<span class="hljs-comment">//Blue</span>
	}
}
GameBoyCore.prototype.clearFrameBuffer = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">var</span> bufferIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> frameBuffer = <span class="hljs-keyword">this</span>.swizzledFrame;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC || <span class="hljs-keyword">this</span>.colorizedGBPalettes) {
		<span class="hljs-keyword">while</span> (bufferIndex &lt; <span class="hljs-number">69120</span>) {
			frameBuffer[bufferIndex++] = <span class="hljs-number">248</span>;
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">while</span> (bufferIndex &lt; <span class="hljs-number">69120</span>) {
			frameBuffer[bufferIndex++] = <span class="hljs-number">239</span>;
			frameBuffer[bufferIndex++] = <span class="hljs-number">255</span>;
			frameBuffer[bufferIndex++] = <span class="hljs-number">222</span>;
		}
	}
}
GameBoyCore.prototype.resizeFrameBuffer = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-693">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-693">&#182;</a>
              </div>
              <p>Resize in javascript with resize.js:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.resizePathClear) {
		<span class="hljs-keyword">this</span>.resizePathClear = <span class="hljs-literal">false</span>;
		<span class="hljs-keyword">this</span>.resizer.resize(<span class="hljs-keyword">this</span>.swizzledFrame);
	}
}
GameBoyCore.prototype.compileResizeFrameBufferFunction = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.offscreenRGBCount &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">var</span> parentObj = <span class="hljs-keyword">this</span>;
		<span class="hljs-keyword">this</span>.resizer = <span class="hljs-keyword">new</span> Resize(<span class="hljs-number">160</span>, <span class="hljs-number">144</span>, <span class="hljs-keyword">this</span>.offscreenWidth, <span class="hljs-keyword">this</span>.offscreenHeight, <span class="hljs-literal">false</span>, settings[<span class="hljs-number">13</span>], <span class="hljs-literal">false</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(buffer)</span> </span>{
			<span class="hljs-keyword">if</span> ((buffer.length / <span class="hljs-number">3</span> * <span class="hljs-number">4</span>) == parentObj.offscreenRGBCount) {
				parentObj.processDraw(buffer);
			}
			parentObj.resizePathClear = <span class="hljs-literal">true</span>;
		});
	}
}
GameBoyCore.prototype.renderScanLine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">this</span>.pixelStart = scanlineToRender * <span class="hljs-number">160</span>;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.bgEnabled) {
		<span class="hljs-keyword">this</span>.pixelEnd = <span class="hljs-number">160</span>;
		<span class="hljs-keyword">this</span>.BGLayerRender(scanlineToRender);
		<span class="hljs-keyword">this</span>.WindowLayerRender(scanlineToRender);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">var</span> pixelLine = (scanlineToRender + <span class="hljs-number">1</span>) * <span class="hljs-number">160</span>;
		<span class="hljs-keyword">var</span> defaultColor = (<span class="hljs-keyword">this</span>.cGBC || <span class="hljs-keyword">this</span>.colorizedGBPalettes) ? <span class="hljs-number">0xF8F8F8</span> : <span class="hljs-number">0xEFFFDE</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> pixelPosition = (scanlineToRender * <span class="hljs-number">160</span>) + <span class="hljs-keyword">this</span>.currentX; pixelPosition &lt; pixelLine; pixelPosition++) {
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = defaultColor;
		}
	}
	<span class="hljs-keyword">this</span>.SpriteLayerRender(scanlineToRender);
	<span class="hljs-keyword">this</span>.currentX = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">this</span>.midScanlineOffset = -<span class="hljs-number">1</span>;
}
GameBoyCore.prototype.renderMidScanLine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.actualScanLine &lt; <span class="hljs-number">144</span> &amp;&amp; <span class="hljs-keyword">this</span>.modeSTAT == <span class="hljs-number">3</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-694">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-694">&#182;</a>
              </div>
              <p>TODO: Get this accurate:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.midScanlineOffset == -<span class="hljs-number">1</span>) {
			<span class="hljs-keyword">this</span>.midScanlineOffset = <span class="hljs-keyword">this</span>.backgroundX &amp; <span class="hljs-number">0x7</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LCDTicks &gt;= <span class="hljs-number">82</span>) {
			<span class="hljs-keyword">this</span>.pixelEnd = <span class="hljs-keyword">this</span>.LCDTicks - <span class="hljs-number">74</span>;
			<span class="hljs-keyword">this</span>.pixelEnd = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.pixelEnd - <span class="hljs-keyword">this</span>.midScanlineOffset - (<span class="hljs-keyword">this</span>.pixelEnd % <span class="hljs-number">0x8</span>), <span class="hljs-number">160</span>);
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.bgEnabled) {
				<span class="hljs-keyword">this</span>.pixelStart = <span class="hljs-keyword">this</span>.lastUnrenderedLine * <span class="hljs-number">160</span>;
				<span class="hljs-keyword">this</span>.BGLayerRender(<span class="hljs-keyword">this</span>.lastUnrenderedLine);
				<span class="hljs-keyword">this</span>.WindowLayerRender(<span class="hljs-keyword">this</span>.lastUnrenderedLine);</pre></div></div>
            
        </li>
        
        
        <li id="section-695">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-695">&#182;</a>
              </div>
              <p>TODO: Do midscanline JIT for sprites…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">var</span> pixelLine = (<span class="hljs-keyword">this</span>.lastUnrenderedLine * <span class="hljs-number">160</span>) + <span class="hljs-keyword">this</span>.pixelEnd;
				<span class="hljs-keyword">var</span> defaultColor = (<span class="hljs-keyword">this</span>.cGBC || <span class="hljs-keyword">this</span>.colorizedGBPalettes) ? <span class="hljs-number">0xF8F8F8</span> : <span class="hljs-number">0xEFFFDE</span>;
				<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> pixelPosition = (<span class="hljs-keyword">this</span>.lastUnrenderedLine * <span class="hljs-number">160</span>) + <span class="hljs-keyword">this</span>.currentX; pixelPosition &lt; pixelLine; pixelPosition++) {
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = defaultColor;
				}
			}
			<span class="hljs-keyword">this</span>.currentX = <span class="hljs-keyword">this</span>.pixelEnd;
		}
	}
}
GameBoyCore.prototype.initializeModeSpecificArrays = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.LCDCONTROL = (<span class="hljs-keyword">this</span>.LCDisOn) ? <span class="hljs-keyword">this</span>.LINECONTROL : <span class="hljs-keyword">this</span>.DISPLAYOFFCONTROL;
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
		<span class="hljs-keyword">this</span>.gbcOBJRawPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x40</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.gbcBGRawPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x40</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.gbcOBJPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x20</span>, <span class="hljs-number">0x1000000</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.gbcBGPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x40</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.BGCHRBank2 = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x800</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.BGCHRCurrentBank = (<span class="hljs-keyword">this</span>.currVRAMBank &gt; <span class="hljs-number">0</span>) ? <span class="hljs-keyword">this</span>.BGCHRBank2 : <span class="hljs-keyword">this</span>.BGCHRBank1;
		<span class="hljs-keyword">this</span>.tileCache = <span class="hljs-keyword">this</span>.generateCacheArray(<span class="hljs-number">0xF80</span>);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.gbOBJPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.gbBGPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-keyword">this</span>.gbBGPalette;
		<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-keyword">this</span>.gbOBJPalette;
		<span class="hljs-keyword">this</span>.tileCache = <span class="hljs-keyword">this</span>.generateCacheArray(<span class="hljs-number">0x700</span>);
		<span class="hljs-keyword">this</span>.sortBuffer = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x100</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.OAMAddressCache = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
	}
	<span class="hljs-keyword">this</span>.renderPathBuild();
}
GameBoyCore.prototype.GBCtoGBModeAdjust = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	cout(<span class="hljs-string">"Stepping down from GBC mode."</span>, <span class="hljs-number">0</span>);
	<span class="hljs-keyword">this</span>.VRAM = <span class="hljs-keyword">this</span>.GBCMemory = <span class="hljs-keyword">this</span>.BGCHRCurrentBank = <span class="hljs-keyword">this</span>.BGCHRBank2 = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">this</span>.tileCache.length = <span class="hljs-number">0x700</span>;
	<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">4</span>]) {
		<span class="hljs-keyword">this</span>.gbBGColorizedPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.gbOBJColorizedPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.cachedBGPaletteConversion = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-keyword">this</span>.gbBGColorizedPalette;
		<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-keyword">this</span>.gbOBJColorizedPalette;
		<span class="hljs-keyword">this</span>.gbOBJPalette = <span class="hljs-keyword">this</span>.gbBGPalette = <span class="hljs-literal">null</span>;
		<span class="hljs-keyword">this</span>.getGBCColor();
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.gbOBJPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.gbBGPalette = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
		<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-keyword">this</span>.gbBGPalette;
		<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-keyword">this</span>.gbOBJPalette;
	}
	<span class="hljs-keyword">this</span>.sortBuffer = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x100</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
	<span class="hljs-keyword">this</span>.OAMAddressCache = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
	<span class="hljs-keyword">this</span>.renderPathBuild();
	<span class="hljs-keyword">this</span>.memoryReadJumpCompile();
	<span class="hljs-keyword">this</span>.memoryWriteJumpCompile();
}
GameBoyCore.prototype.renderPathBuild = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC) {
		<span class="hljs-keyword">this</span>.BGLayerRender = <span class="hljs-keyword">this</span>.BGGBLayerRender;
		<span class="hljs-keyword">this</span>.WindowLayerRender = <span class="hljs-keyword">this</span>.WindowGBLayerRender;
		<span class="hljs-keyword">this</span>.SpriteLayerRender = <span class="hljs-keyword">this</span>.SpriteGBLayerRender;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.priorityFlaggingPathRebuild();
		<span class="hljs-keyword">this</span>.SpriteLayerRender = <span class="hljs-keyword">this</span>.SpriteGBCLayerRender;
	}
}
GameBoyCore.prototype.priorityFlaggingPathRebuild = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.BGPriorityEnabled) {
		<span class="hljs-keyword">this</span>.BGLayerRender = <span class="hljs-keyword">this</span>.BGGBCLayerRender;
		<span class="hljs-keyword">this</span>.WindowLayerRender = <span class="hljs-keyword">this</span>.WindowGBCLayerRender;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.BGLayerRender = <span class="hljs-keyword">this</span>.BGGBCLayerRenderNoPriorityFlagging;
		<span class="hljs-keyword">this</span>.WindowLayerRender = <span class="hljs-keyword">this</span>.WindowGBCLayerRenderNoPriorityFlagging;
	}
}
GameBoyCore.prototype.initializeReferencesFromSaveState = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.LCDCONTROL = (<span class="hljs-keyword">this</span>.LCDisOn) ? <span class="hljs-keyword">this</span>.LINECONTROL : <span class="hljs-keyword">this</span>.DISPLAYOFFCONTROL;
	<span class="hljs-keyword">var</span> tileIndex = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC) {
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.colorizedGBPalettes) {
			<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-keyword">this</span>.gbBGColorizedPalette;
			<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-keyword">this</span>.gbOBJColorizedPalette;
			<span class="hljs-keyword">this</span>.updateGBBGPalette = <span class="hljs-keyword">this</span>.updateGBColorizedBGPalette;
			<span class="hljs-keyword">this</span>.updateGBOBJPalette = <span class="hljs-keyword">this</span>.updateGBColorizedOBJPalette;
			
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.BGPalette = <span class="hljs-keyword">this</span>.gbBGPalette;
			<span class="hljs-keyword">this</span>.OBJPalette = <span class="hljs-keyword">this</span>.gbOBJPalette;
		}
		<span class="hljs-keyword">this</span>.tileCache = <span class="hljs-keyword">this</span>.generateCacheArray(<span class="hljs-number">0x700</span>);
		<span class="hljs-keyword">for</span> (tileIndex = <span class="hljs-number">0x8000</span>; tileIndex &lt; <span class="hljs-number">0x9000</span>; tileIndex += <span class="hljs-number">2</span>) {
			<span class="hljs-keyword">this</span>.generateGBOAMTileLine(tileIndex);
		}
		<span class="hljs-keyword">for</span> (tileIndex = <span class="hljs-number">0x9000</span>; tileIndex &lt; <span class="hljs-number">0x9800</span>; tileIndex += <span class="hljs-number">2</span>) {
			<span class="hljs-keyword">this</span>.generateGBTileLine(tileIndex);
		}
		<span class="hljs-keyword">this</span>.sortBuffer = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">0x100</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"uint8"</span>);
		<span class="hljs-keyword">this</span>.OAMAddressCache = <span class="hljs-keyword">this</span>.getTypedArray(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-string">"int32"</span>);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.BGCHRCurrentBank = (<span class="hljs-keyword">this</span>.currVRAMBank &gt; <span class="hljs-number">0</span>) ? <span class="hljs-keyword">this</span>.BGCHRBank2 : <span class="hljs-keyword">this</span>.BGCHRBank1;
		<span class="hljs-keyword">this</span>.tileCache = <span class="hljs-keyword">this</span>.generateCacheArray(<span class="hljs-number">0xF80</span>);
		<span class="hljs-keyword">for</span> (; tileIndex &lt; <span class="hljs-number">0x1800</span>; tileIndex += <span class="hljs-number">0x10</span>) {
			<span class="hljs-keyword">this</span>.generateGBCTileBank1(tileIndex);
			<span class="hljs-keyword">this</span>.generateGBCTileBank2(tileIndex);
		}
	}
	<span class="hljs-keyword">this</span>.renderPathBuild();
}
GameBoyCore.prototype.RGBTint = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(value)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-696">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-696">&#182;</a>
              </div>
              <p>Adjustment for the GBC’s tinting (According to Gambatte):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> r = value &amp; <span class="hljs-number">0x1F</span>;
	<span class="hljs-keyword">var</span> g = (value &gt;&gt; <span class="hljs-number">5</span>) &amp; <span class="hljs-number">0x1F</span>;
	<span class="hljs-keyword">var</span> b = (value &gt;&gt; <span class="hljs-number">10</span>) &amp; <span class="hljs-number">0x1F</span>;
	<span class="hljs-keyword">return</span> ((r * <span class="hljs-number">13</span> + g * <span class="hljs-number">2</span> + b) &gt;&gt; <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">16</span> | (g * <span class="hljs-number">3</span> + b) &lt;&lt; <span class="hljs-number">9</span> | (r * <span class="hljs-number">3</span> + g * <span class="hljs-number">2</span> + b * <span class="hljs-number">11</span>) &gt;&gt; <span class="hljs-number">1</span>;
}
GameBoyCore.prototype.getGBCColor = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-697">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-697">&#182;</a>
              </div>
              <p>GBC Colorization of DMG ROMs:
BG</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>; counter &lt; <span class="hljs-number">4</span>; counter++) {
		<span class="hljs-keyword">var</span> adjustedIndex = counter &lt;&lt; <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-698">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-698">&#182;</a>
              </div>
              <p>BG</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.cachedBGPaletteConversion[counter] = <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcBGRawPalette[adjustedIndex | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcBGRawPalette[adjustedIndex]);</pre></div></div>
            
        </li>
        
        
        <li id="section-699">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-699">&#182;</a>
              </div>
              <p>OBJ 1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion[counter] = <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcOBJRawPalette[adjustedIndex | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcOBJRawPalette[adjustedIndex]);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-700">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-700">&#182;</a>
              </div>
              <p>OBJ 2</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (counter = <span class="hljs-number">4</span>; counter &lt; <span class="hljs-number">8</span>; counter++) {
		adjustedIndex = counter &lt;&lt; <span class="hljs-number">1</span>;
		<span class="hljs-keyword">this</span>.cachedOBJPaletteConversion[counter] = <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcOBJRawPalette[adjustedIndex | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcOBJRawPalette[adjustedIndex]);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-701">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-701">&#182;</a>
              </div>
              <p>Update the palette entries:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.updateGBBGPalette = <span class="hljs-keyword">this</span>.updateGBColorizedBGPalette;
	<span class="hljs-keyword">this</span>.updateGBOBJPalette = <span class="hljs-keyword">this</span>.updateGBColorizedOBJPalette;
	<span class="hljs-keyword">this</span>.updateGBBGPalette(<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF47</span>]);
	<span class="hljs-keyword">this</span>.updateGBOBJPalette(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF48</span>]);
	<span class="hljs-keyword">this</span>.updateGBOBJPalette(<span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF49</span>]);
	<span class="hljs-keyword">this</span>.colorizedGBPalettes = <span class="hljs-literal">true</span>;
}
GameBoyCore.prototype.updateGBRegularBGPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
	<span class="hljs-keyword">this</span>.gbBGPalette[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.colors[data &amp; <span class="hljs-number">0x03</span>] | <span class="hljs-number">0x2000000</span>;
	<span class="hljs-keyword">this</span>.gbBGPalette[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.colors[(data &gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbBGPalette[<span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.colors[(data &gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbBGPalette[<span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.colors[data &gt;&gt; <span class="hljs-number">6</span>];
}
GameBoyCore.prototype.updateGBColorizedBGPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-702">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-702">&#182;</a>
              </div>
              <p>GB colorization:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.gbBGColorizedPalette[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.cachedBGPaletteConversion[data &amp; <span class="hljs-number">0x03</span>] | <span class="hljs-number">0x2000000</span>;
	<span class="hljs-keyword">this</span>.gbBGColorizedPalette[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.cachedBGPaletteConversion[(data &gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbBGColorizedPalette[<span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.cachedBGPaletteConversion[(data &gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbBGColorizedPalette[<span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.cachedBGPaletteConversion[data &gt;&gt; <span class="hljs-number">6</span>];
}
GameBoyCore.prototype.updateGBRegularOBJPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(index, data)</span> </span>{
	<span class="hljs-keyword">this</span>.gbOBJPalette[index | <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.colors[(data &gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbOBJPalette[index | <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.colors[(data &gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0x03</span>];
	<span class="hljs-keyword">this</span>.gbOBJPalette[index | <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.colors[data &gt;&gt; <span class="hljs-number">6</span>];
}
GameBoyCore.prototype.updateGBColorizedOBJPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(index, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-703">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-703">&#182;</a>
              </div>
              <p>GB colorization:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.gbOBJColorizedPalette[index | <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.cachedOBJPaletteConversion[index | ((data &gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x03</span>)];
	<span class="hljs-keyword">this</span>.gbOBJColorizedPalette[index | <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.cachedOBJPaletteConversion[index | ((data &gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0x03</span>)];
	<span class="hljs-keyword">this</span>.gbOBJColorizedPalette[index | <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.cachedOBJPaletteConversion[index | (data &gt;&gt; <span class="hljs-number">6</span>)];
}
GameBoyCore.prototype.updateGBCBGPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(index, data)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gbcBGRawPalette[index] != data) {
		<span class="hljs-keyword">this</span>.midScanLineJIT();</pre></div></div>
            
        </li>
        
        
        <li id="section-704">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-704">&#182;</a>
              </div>
              <p>Update the color palette for BG tiles since it changed:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.gbcBGRawPalette[index] = data;
		<span class="hljs-keyword">if</span> ((index &amp; <span class="hljs-number">0x06</span>) == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-705">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-705">&#182;</a>
              </div>
              <p>Palette 0 (Special tile Priority stuff)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			data = <span class="hljs-number">0x2000000</span> | <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcBGRawPalette[index | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcBGRawPalette[index &amp; <span class="hljs-number">0x3E</span>]);
			index &gt;&gt;= <span class="hljs-number">1</span>;
			<span class="hljs-keyword">this</span>.gbcBGPalette[index] = data;
			<span class="hljs-keyword">this</span>.gbcBGPalette[<span class="hljs-number">0x20</span> | index] = <span class="hljs-number">0x1000000</span> | data;
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-706">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-706">&#182;</a>
              </div>
              <p>Regular Palettes (No special crap)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			data = <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcBGRawPalette[index | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcBGRawPalette[index &amp; <span class="hljs-number">0x3E</span>]);
			index &gt;&gt;= <span class="hljs-number">1</span>;
			<span class="hljs-keyword">this</span>.gbcBGPalette[index] = data;
			<span class="hljs-keyword">this</span>.gbcBGPalette[<span class="hljs-number">0x20</span> | index] = <span class="hljs-number">0x1000000</span> | data;
		}
	}
}
GameBoyCore.prototype.updateGBCOBJPalette = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(index, data)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gbcOBJRawPalette[index] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-707">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-707">&#182;</a>
              </div>
              <p>Update the color palette for OBJ tiles since it changed:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.gbcOBJRawPalette[index] = data;
		<span class="hljs-keyword">if</span> ((index &amp; <span class="hljs-number">0x06</span>) &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-708">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-708">&#182;</a>
              </div>
              <p>Regular Palettes (No special crap)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.midScanLineJIT();
			<span class="hljs-keyword">this</span>.gbcOBJPalette[index &gt;&gt; <span class="hljs-number">1</span>] = <span class="hljs-number">0x1000000</span> | <span class="hljs-keyword">this</span>.RGBTint((<span class="hljs-keyword">this</span>.gbcOBJRawPalette[index | <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.gbcOBJRawPalette[index &amp; <span class="hljs-number">0x3E</span>]);
		}
	}
}
GameBoyCore.prototype.BGGBLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">var</span> scrollYAdjusted = (<span class="hljs-keyword">this</span>.backgroundY + scanlineToRender) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The line of the BG we're at.</span>
	<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-number">3</span>;
	<span class="hljs-keyword">var</span> tileYDown = <span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>);	<span class="hljs-comment">//The row of cached tiles we're fetching from.</span>
	<span class="hljs-keyword">var</span> scrollXAdjusted = (<span class="hljs-keyword">this</span>.backgroundX + <span class="hljs-keyword">this</span>.currentX) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The scroll amount of the BG.</span>
	<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.currentX;									<span class="hljs-comment">//Current pixel we're working on.</span>
	<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + ((<span class="hljs-keyword">this</span>.gfxWindowDisplay &amp;&amp; (scanlineToRender - <span class="hljs-keyword">this</span>.windowY) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.windowX, <span class="hljs-number">0</span>) + <span class="hljs-keyword">this</span>.currentX, <span class="hljs-keyword">this</span>.pixelEnd) : <span class="hljs-keyword">this</span>.pixelEnd);	<span class="hljs-comment">//Make sure we do at most 160 pixels a scanline.</span>
	<span class="hljs-keyword">var</span> tileNumber = tileYDown + (scrollXAdjusted &gt;&gt; <span class="hljs-number">3</span>);
	<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
	<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
		chrCode |= <span class="hljs-number">0x100</span>;
	}
	<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> texel = (scrollXAdjusted &amp; <span class="hljs-number">0x7</span>); texel &lt; <span class="hljs-number">8</span> &amp;&amp; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | texel++]];
	}
	<span class="hljs-keyword">var</span> scrollXAdjustedAligned = <span class="hljs-built_in">Math</span>.min(pixelPositionEnd - pixelPosition, <span class="hljs-number">0x100</span> - scrollXAdjusted) &gt;&gt; <span class="hljs-number">3</span>;
	scrollXAdjusted += scrollXAdjustedAligned &lt;&lt; <span class="hljs-number">3</span>;
	scrollXAdjustedAligned += tileNumber;
	<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXAdjustedAligned) {
		chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
		<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
			chrCode |= <span class="hljs-number">0x100</span>;
		}
		tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
		texel = tileYLine;
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel]];
	}
	<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
		<span class="hljs-keyword">if</span> (scrollXAdjusted &lt; <span class="hljs-number">0x100</span>) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
			<span class="hljs-keyword">for</span> (texel = tileYLine - <span class="hljs-number">1</span>; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
				<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[++texel]];
			}
		}
		scrollXAdjustedAligned = ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>) + tileYDown;
		<span class="hljs-keyword">while</span> (tileYDown &lt; scrollXAdjustedAligned) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown++];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
			texel = tileYLine;
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel]];
		}
		<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
			<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
				<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">6</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">5</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">4</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">3</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">2</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">1</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine]];
			}
		}
	}
}
GameBoyCore.prototype.BGGBCLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">var</span> scrollYAdjusted = (<span class="hljs-keyword">this</span>.backgroundY + scanlineToRender) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The line of the BG we're at.</span>
	<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-number">3</span>;
	<span class="hljs-keyword">var</span> tileYDown = <span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>);	<span class="hljs-comment">//The row of cached tiles we're fetching from.</span>
	<span class="hljs-keyword">var</span> scrollXAdjusted = (<span class="hljs-keyword">this</span>.backgroundX + <span class="hljs-keyword">this</span>.currentX) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The scroll amount of the BG.</span>
	<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.currentX;									<span class="hljs-comment">//Current pixel we're working on.</span>
	<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + ((<span class="hljs-keyword">this</span>.gfxWindowDisplay &amp;&amp; (scanlineToRender - <span class="hljs-keyword">this</span>.windowY) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.windowX, <span class="hljs-number">0</span>) + <span class="hljs-keyword">this</span>.currentX, <span class="hljs-keyword">this</span>.pixelEnd) : <span class="hljs-keyword">this</span>.pixelEnd);	<span class="hljs-comment">//Make sure we do at most 160 pixels a scanline.</span>
	<span class="hljs-keyword">var</span> tileNumber = tileYDown + (scrollXAdjusted &gt;&gt; <span class="hljs-number">3</span>);
	<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
	<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
		chrCode |= <span class="hljs-number">0x100</span>;
	}
	<span class="hljs-keyword">var</span> attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
	<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
	<span class="hljs-keyword">var</span> palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> texel = (scrollXAdjusted &amp; <span class="hljs-number">0x7</span>); texel &lt; <span class="hljs-number">8</span> &amp;&amp; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | texel++]];
	}
	<span class="hljs-keyword">var</span> scrollXAdjustedAligned = <span class="hljs-built_in">Math</span>.min(pixelPositionEnd - pixelPosition, <span class="hljs-number">0x100</span> - scrollXAdjusted) &gt;&gt; <span class="hljs-number">3</span>;
	scrollXAdjusted += scrollXAdjustedAligned &lt;&lt; <span class="hljs-number">3</span>;
	scrollXAdjustedAligned += tileNumber;
	<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXAdjustedAligned) {
		chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
		<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
			chrCode |= <span class="hljs-number">0x100</span>;
		}
		attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
		tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
		palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
		texel = tileYLine;
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
	}
	<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
		<span class="hljs-keyword">if</span> (scrollXAdjusted &lt; <span class="hljs-number">0x100</span>) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
			<span class="hljs-keyword">for</span> (texel = tileYLine - <span class="hljs-number">1</span>; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
				<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[++texel]];
			}
		}
		scrollXAdjustedAligned = ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>) + tileYDown;
		<span class="hljs-keyword">while</span> (tileYDown &lt; scrollXAdjustedAligned) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileYDown++];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
			texel = tileYLine;
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
		}
		<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileYDown];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
			<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
				<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">6</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">5</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">4</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">3</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">2</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">1</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine]];
			}
		}
	}
}
GameBoyCore.prototype.BGGBCLayerRenderNoPriorityFlagging = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">var</span> scrollYAdjusted = (<span class="hljs-keyword">this</span>.backgroundY + scanlineToRender) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The line of the BG we're at.</span>
	<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-number">3</span>;
	<span class="hljs-keyword">var</span> tileYDown = <span class="hljs-keyword">this</span>.gfxBackgroundCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>);	<span class="hljs-comment">//The row of cached tiles we're fetching from.</span>
	<span class="hljs-keyword">var</span> scrollXAdjusted = (<span class="hljs-keyword">this</span>.backgroundX + <span class="hljs-keyword">this</span>.currentX) &amp; <span class="hljs-number">0xFF</span>;						<span class="hljs-comment">//The scroll amount of the BG.</span>
	<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.currentX;									<span class="hljs-comment">//Current pixel we're working on.</span>
	<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + ((<span class="hljs-keyword">this</span>.gfxWindowDisplay &amp;&amp; (scanlineToRender - <span class="hljs-keyword">this</span>.windowY) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.windowX, <span class="hljs-number">0</span>) + <span class="hljs-keyword">this</span>.currentX, <span class="hljs-keyword">this</span>.pixelEnd) : <span class="hljs-keyword">this</span>.pixelEnd);	<span class="hljs-comment">//Make sure we do at most 160 pixels a scanline.</span>
	<span class="hljs-keyword">var</span> tileNumber = tileYDown + (scrollXAdjusted &gt;&gt; <span class="hljs-number">3</span>);
	<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
	<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
		chrCode |= <span class="hljs-number">0x100</span>;
	}
	<span class="hljs-keyword">var</span> attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
	<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
	<span class="hljs-keyword">var</span> palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> texel = (scrollXAdjusted &amp; <span class="hljs-number">0x7</span>); texel &lt; <span class="hljs-number">8</span> &amp;&amp; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | texel++]];
	}
	<span class="hljs-keyword">var</span> scrollXAdjustedAligned = <span class="hljs-built_in">Math</span>.min(pixelPositionEnd - pixelPosition, <span class="hljs-number">0x100</span> - scrollXAdjusted) &gt;&gt; <span class="hljs-number">3</span>;
	scrollXAdjusted += scrollXAdjustedAligned &lt;&lt; <span class="hljs-number">3</span>;
	scrollXAdjustedAligned += tileNumber;
	<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXAdjustedAligned) {
		chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
		<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
			chrCode |= <span class="hljs-number">0x100</span>;
		}
		attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
		tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
		palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
		texel = tileYLine;
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
		<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
	}
	<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
		<span class="hljs-keyword">if</span> (scrollXAdjusted &lt; <span class="hljs-number">0x100</span>) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
			<span class="hljs-keyword">for</span> (texel = tileYLine - <span class="hljs-number">1</span>; pixelPosition &lt; pixelPositionEnd &amp;&amp; scrollXAdjusted &lt; <span class="hljs-number">0x100</span>; ++scrollXAdjusted) {
				<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[++texel]];
			}
		}
		scrollXAdjustedAligned = ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>) + tileYDown;
		<span class="hljs-keyword">while</span> (tileYDown &lt; scrollXAdjustedAligned) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileYDown++];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
			texel = tileYLine;
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
			<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
		}
		<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
			chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileYDown];
			<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
				chrCode |= <span class="hljs-number">0x100</span>;
			}
			attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileYDown];
			tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
			palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
			<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
				<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">6</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">5</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">4</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">3</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">2</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">1</span>]];
				<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine]];
			}
		}
	}
}
GameBoyCore.prototype.WindowGBLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxWindowDisplay) {									<span class="hljs-comment">//Is the window enabled?</span>
		<span class="hljs-keyword">var</span> scrollYAdjusted = scanlineToRender - <span class="hljs-keyword">this</span>.windowY;		<span class="hljs-comment">//The line of the BG we're at.</span>
		<span class="hljs-keyword">if</span> (scrollYAdjusted &gt;= <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">var</span> scrollXRangeAdjusted = (<span class="hljs-keyword">this</span>.windowX &gt; <span class="hljs-number">0</span>) ? (<span class="hljs-keyword">this</span>.windowX + <span class="hljs-keyword">this</span>.currentX) : <span class="hljs-keyword">this</span>.currentX;
			<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + scrollXRangeAdjusted;
			<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.pixelEnd;
			<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
				<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">3</span>;
				<span class="hljs-keyword">var</span> tileNumber = (<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>)) + (<span class="hljs-keyword">this</span>.currentX &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
				<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
					chrCode |= <span class="hljs-number">0x100</span>;
				}
				<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
				<span class="hljs-keyword">var</span> texel = (scrollXRangeAdjusted - <span class="hljs-keyword">this</span>.windowX) &amp; <span class="hljs-number">0x7</span>;
				scrollXRangeAdjusted = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">8</span>, texel + pixelPositionEnd - pixelPosition);
				<span class="hljs-keyword">while</span> (texel &lt; scrollXRangeAdjusted) {
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | texel++]];
				}
				scrollXRangeAdjusted = tileNumber + ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXRangeAdjusted) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
					texel = tileYLine;
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.BGPalette[tile[texel]];
				}
				<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					tile = <span class="hljs-keyword">this</span>.tileCache[chrCode];
					<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
						<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">6</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">5</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">4</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">3</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">2</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine | <span class="hljs-number">1</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.BGPalette[tile[tileYLine]];
					}
				}
			}
		}
	}
}
GameBoyCore.prototype.WindowGBCLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxWindowDisplay) {									<span class="hljs-comment">//Is the window enabled?</span>
		<span class="hljs-keyword">var</span> scrollYAdjusted = scanlineToRender - <span class="hljs-keyword">this</span>.windowY;		<span class="hljs-comment">//The line of the BG we're at.</span>
		<span class="hljs-keyword">if</span> (scrollYAdjusted &gt;= <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">var</span> scrollXRangeAdjusted = (<span class="hljs-keyword">this</span>.windowX &gt; <span class="hljs-number">0</span>) ? (<span class="hljs-keyword">this</span>.windowX + <span class="hljs-keyword">this</span>.currentX) : <span class="hljs-keyword">this</span>.currentX;
			<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + scrollXRangeAdjusted;
			<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.pixelEnd;
			<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
				<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">3</span>;
				<span class="hljs-keyword">var</span> tileNumber = (<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>)) + (<span class="hljs-keyword">this</span>.currentX &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
				<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
					chrCode |= <span class="hljs-number">0x100</span>;
				}
				<span class="hljs-keyword">var</span> attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
				<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
				<span class="hljs-keyword">var</span> palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
				<span class="hljs-keyword">var</span> texel = (scrollXRangeAdjusted - <span class="hljs-keyword">this</span>.windowX) &amp; <span class="hljs-number">0x7</span>;
				scrollXRangeAdjusted = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">8</span>, texel + pixelPositionEnd - pixelPosition);
				<span class="hljs-keyword">while</span> (texel &lt; scrollXRangeAdjusted) {
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | texel++]];
				}
				scrollXRangeAdjusted = tileNumber + ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXRangeAdjusted) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
					palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
					texel = tileYLine;
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
				}
				<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
					palette = ((attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>) | ((attrCode &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">2</span>);
					<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
						<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">6</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">5</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">4</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">3</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">2</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">1</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine]];
					}
				}
			}
		}
	}
}
GameBoyCore.prototype.WindowGBCLayerRenderNoPriorityFlagging = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxWindowDisplay) {									<span class="hljs-comment">//Is the window enabled?</span>
		<span class="hljs-keyword">var</span> scrollYAdjusted = scanlineToRender - <span class="hljs-keyword">this</span>.windowY;		<span class="hljs-comment">//The line of the BG we're at.</span>
		<span class="hljs-keyword">if</span> (scrollYAdjusted &gt;= <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">var</span> scrollXRangeAdjusted = (<span class="hljs-keyword">this</span>.windowX &gt; <span class="hljs-number">0</span>) ? (<span class="hljs-keyword">this</span>.windowX + <span class="hljs-keyword">this</span>.currentX) : <span class="hljs-keyword">this</span>.currentX;
			<span class="hljs-keyword">var</span> pixelPosition = <span class="hljs-keyword">this</span>.pixelStart + scrollXRangeAdjusted;
			<span class="hljs-keyword">var</span> pixelPositionEnd = <span class="hljs-keyword">this</span>.pixelStart + <span class="hljs-keyword">this</span>.pixelEnd;
			<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
				<span class="hljs-keyword">var</span> tileYLine = (scrollYAdjusted &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">3</span>;
				<span class="hljs-keyword">var</span> tileNumber = (<span class="hljs-keyword">this</span>.gfxWindowCHRBankPosition | ((scrollYAdjusted &amp; <span class="hljs-number">0xF8</span>) &lt;&lt; <span class="hljs-number">2</span>)) + (<span class="hljs-keyword">this</span>.currentX &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">var</span> chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[tileNumber];
				<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
					chrCode |= <span class="hljs-number">0x100</span>;
				}
				<span class="hljs-keyword">var</span> attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
				<span class="hljs-keyword">var</span> tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
				<span class="hljs-keyword">var</span> palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
				<span class="hljs-keyword">var</span> texel = (scrollXRangeAdjusted - <span class="hljs-keyword">this</span>.windowX) &amp; <span class="hljs-number">0x7</span>;
				scrollXRangeAdjusted = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">8</span>, texel + pixelPositionEnd - pixelPosition);
				<span class="hljs-keyword">while</span> (texel &lt; scrollXRangeAdjusted) {
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | texel++]];
				}
				scrollXRangeAdjusted = tileNumber + ((pixelPositionEnd - pixelPosition) &gt;&gt; <span class="hljs-number">3</span>);
				<span class="hljs-keyword">while</span> (tileNumber &lt; scrollXRangeAdjusted) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
					palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
					texel = tileYLine;
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel++]];
					<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition++] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[texel]];
				}
				<span class="hljs-keyword">if</span> (pixelPosition &lt; pixelPositionEnd) {
					chrCode = <span class="hljs-keyword">this</span>.BGCHRBank1[++tileNumber];
					<span class="hljs-keyword">if</span> (chrCode &lt; <span class="hljs-keyword">this</span>.gfxBackgroundBankOffset) {
						chrCode |= <span class="hljs-number">0x100</span>;
					}
					attrCode = <span class="hljs-keyword">this</span>.BGCHRBank2[tileNumber];
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | chrCode];
					palette = (attrCode &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">2</span>;
					<span class="hljs-keyword">switch</span> (pixelPositionEnd - pixelPosition) {
						<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">6</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">5</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">4</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">3</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">2</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition + <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine | <span class="hljs-number">1</span>]];
						<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
							<span class="hljs-keyword">this</span>.frameBuffer[pixelPosition] = <span class="hljs-keyword">this</span>.gbcBGPalette[palette | tile[tileYLine]];
					}
				}
			}
		}
	}
}
GameBoyCore.prototype.SpriteGBLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxSpriteShow) {										<span class="hljs-comment">//Are sprites enabled?</span>
		<span class="hljs-keyword">var</span> lineAdjusted = scanlineToRender + <span class="hljs-number">0x10</span>;
		<span class="hljs-keyword">var</span> OAMAddress = <span class="hljs-number">0xFE00</span>;
		<span class="hljs-keyword">var</span> yoffset = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> xcoord = <span class="hljs-number">1</span>;
		<span class="hljs-keyword">var</span> xCoordStart = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> xCoordEnd = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> attrCode = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> palette = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> tile = <span class="hljs-literal">null</span>;
		<span class="hljs-keyword">var</span> data = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> spriteCount = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> length = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> currentPixel = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> linePixel = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-709">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-709">&#182;</a>
              </div>
              <p>Clear our x-coord sort buffer:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">while</span> (xcoord &lt; <span class="hljs-number">168</span>) {
			<span class="hljs-keyword">this</span>.sortBuffer[xcoord++] = <span class="hljs-number">0xFF</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight) {</pre></div></div>
            
        </li>
        
        
        <li id="section-710">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-710">&#182;</a>
              </div>
              <p>Draw the visible sprites:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> length = <span class="hljs-keyword">this</span>.findLowestSpriteDrawable(lineAdjusted, <span class="hljs-number">0x7</span>); spriteCount &lt; length; ++spriteCount) {
				OAMAddress = <span class="hljs-keyword">this</span>.OAMAddressCache[spriteCount];
				yoffset = (lineAdjusted - <span class="hljs-keyword">this</span>.memory[OAMAddress]) &lt;&lt; <span class="hljs-number">3</span>;
				attrCode = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">3</span>];
				palette = (attrCode &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">2</span>;
				tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">0x2</span>]];
				linePixel = xCoordStart = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">1</span>];
				xCoordEnd = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">168</span> - linePixel, <span class="hljs-number">8</span>);
				xcoord = (linePixel &gt; <span class="hljs-number">7</span>) ? <span class="hljs-number">0</span> : (<span class="hljs-number">8</span> - linePixel);
				<span class="hljs-keyword">for</span> (currentPixel = <span class="hljs-keyword">this</span>.pixelStart + ((linePixel &gt; <span class="hljs-number">8</span>) ? (linePixel - <span class="hljs-number">8</span>) : <span class="hljs-number">0</span>); xcoord &lt; xCoordEnd; ++xcoord, ++currentPixel, ++linePixel) {	
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sortBuffer[linePixel] &gt; xCoordStart) {
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &gt;= <span class="hljs-number">0x2000000</span>) {
							data = tile[yoffset | xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.OBJPalette[palette | data];
								<span class="hljs-keyword">this</span>.sortBuffer[linePixel] = xCoordStart;
							}
						}
						<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &lt; <span class="hljs-number">0x1000000</span>) {
							data = tile[yoffset | xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span> &amp;&amp; attrCode &lt; <span class="hljs-number">0x80</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.OBJPalette[palette | data];
								<span class="hljs-keyword">this</span>.sortBuffer[linePixel] = xCoordStart;
							}
						}
					}
				}
			}
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-711">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-711">&#182;</a>
              </div>
              <p>Draw the visible sprites:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> length = <span class="hljs-keyword">this</span>.findLowestSpriteDrawable(lineAdjusted, <span class="hljs-number">0xF</span>); spriteCount &lt; length; ++spriteCount) {
				OAMAddress = <span class="hljs-keyword">this</span>.OAMAddressCache[spriteCount];
				yoffset = (lineAdjusted - <span class="hljs-keyword">this</span>.memory[OAMAddress]) &lt;&lt; <span class="hljs-number">3</span>;
				attrCode = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">3</span>];
				palette = (attrCode &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">2</span>;
				<span class="hljs-keyword">if</span> ((attrCode &amp; <span class="hljs-number">0x40</span>) == (<span class="hljs-number">0x40</span> &amp; yoffset)) {
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | (<span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">0x2</span>] &amp; <span class="hljs-number">0xFE</span>)];
				}
				<span class="hljs-keyword">else</span> {
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">0x2</span>] | <span class="hljs-number">1</span>];
				}
				yoffset &amp;= <span class="hljs-number">0x3F</span>;
				linePixel = xCoordStart = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">1</span>];
				xCoordEnd = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">168</span> - linePixel, <span class="hljs-number">8</span>);
				xcoord = (linePixel &gt; <span class="hljs-number">7</span>) ? <span class="hljs-number">0</span> : (<span class="hljs-number">8</span> - linePixel);
				<span class="hljs-keyword">for</span> (currentPixel = <span class="hljs-keyword">this</span>.pixelStart + ((linePixel &gt; <span class="hljs-number">8</span>) ? (linePixel - <span class="hljs-number">8</span>) : <span class="hljs-number">0</span>); xcoord &lt; xCoordEnd; ++xcoord, ++currentPixel, ++linePixel) {	
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sortBuffer[linePixel] &gt; xCoordStart) {
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &gt;= <span class="hljs-number">0x2000000</span>) {
							data = tile[yoffset | xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.OBJPalette[palette | data];
								<span class="hljs-keyword">this</span>.sortBuffer[linePixel] = xCoordStart;
							}
						}
						<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &lt; <span class="hljs-number">0x1000000</span>) {
							data = tile[yoffset | xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span> &amp;&amp; attrCode &lt; <span class="hljs-number">0x80</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.OBJPalette[palette | data];
								<span class="hljs-keyword">this</span>.sortBuffer[linePixel] = xCoordStart;
							}
						}
					}
				}
			}
		}
	}
}
GameBoyCore.prototype.findLowestSpriteDrawable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender, drawableRange)</span> </span>{
	<span class="hljs-keyword">var</span> address = <span class="hljs-number">0xFE00</span>;
	<span class="hljs-keyword">var</span> spriteCount = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> diff = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span> (address &lt; <span class="hljs-number">0xFEA0</span> &amp;&amp; spriteCount &lt; <span class="hljs-number">10</span>) {
		diff = scanlineToRender - <span class="hljs-keyword">this</span>.memory[address];
		<span class="hljs-keyword">if</span> ((diff &amp; drawableRange) == diff) {
			<span class="hljs-keyword">this</span>.OAMAddressCache[spriteCount++] = address;
		}
		address += <span class="hljs-number">4</span>;
	}
	<span class="hljs-keyword">return</span> spriteCount;
}
GameBoyCore.prototype.SpriteGBCLayerRender = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scanlineToRender)</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxSpriteShow) {										<span class="hljs-comment">//Are sprites enabled?</span>
		<span class="hljs-keyword">var</span> OAMAddress = <span class="hljs-number">0xFE00</span>;
		<span class="hljs-keyword">var</span> lineAdjusted = scanlineToRender + <span class="hljs-number">0x10</span>;
		<span class="hljs-keyword">var</span> yoffset = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> xcoord = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> endX = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> xCounter = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> attrCode = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> palette = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> tile = <span class="hljs-literal">null</span>;
		<span class="hljs-keyword">var</span> data = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> currentPixel = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">var</span> spriteCount = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gfxSpriteNormalHeight) {
			<span class="hljs-keyword">for</span> (; OAMAddress &lt; <span class="hljs-number">0xFEA0</span> &amp;&amp; spriteCount &lt; <span class="hljs-number">10</span>; OAMAddress += <span class="hljs-number">4</span>) {
				yoffset = lineAdjusted - <span class="hljs-keyword">this</span>.memory[OAMAddress];
				<span class="hljs-keyword">if</span> ((yoffset &amp; <span class="hljs-number">0x7</span>) == yoffset) {
					xcoord = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">1</span>] - <span class="hljs-number">8</span>;
					endX = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">160</span>, xcoord + <span class="hljs-number">8</span>);
					attrCode = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">3</span>];
					palette = (attrCode &amp; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-number">2</span>;
					tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">2</span>]];
					xCounter = (xcoord &gt; <span class="hljs-number">0</span>) ? xcoord : <span class="hljs-number">0</span>;
					xcoord -= yoffset &lt;&lt; <span class="hljs-number">3</span>;
					<span class="hljs-keyword">for</span> (currentPixel = <span class="hljs-keyword">this</span>.pixelStart + xCounter; xCounter &lt; endX; ++xCounter, ++currentPixel) {
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &gt;= <span class="hljs-number">0x2000000</span>) {
							data = tile[xCounter - xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.gbcOBJPalette[palette | data];
							}
						}
						<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &lt; <span class="hljs-number">0x1000000</span>) {
							data = tile[xCounter - xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span> &amp;&amp; attrCode &lt; <span class="hljs-number">0x80</span>) {		<span class="hljs-comment">//Don't optimize for attrCode, as LICM-capable JITs should optimize its checks.</span>
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.gbcOBJPalette[palette | data];
							}
						}
					}
					++spriteCount;
				}
			}
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">for</span> (; OAMAddress &lt; <span class="hljs-number">0xFEA0</span> &amp;&amp; spriteCount &lt; <span class="hljs-number">10</span>; OAMAddress += <span class="hljs-number">4</span>) {
				yoffset = lineAdjusted - <span class="hljs-keyword">this</span>.memory[OAMAddress];
				<span class="hljs-keyword">if</span> ((yoffset &amp; <span class="hljs-number">0xF</span>) == yoffset) {
					xcoord = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">1</span>] - <span class="hljs-number">8</span>;
					endX = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">160</span>, xcoord + <span class="hljs-number">8</span>);
					attrCode = <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">3</span>];
					palette = (attrCode &amp; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-number">2</span>;
					<span class="hljs-keyword">if</span> ((attrCode &amp; <span class="hljs-number">0x40</span>) == (<span class="hljs-number">0x40</span> &amp; (yoffset &lt;&lt; <span class="hljs-number">3</span>))) {
						tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | (<span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">0x2</span>] &amp; <span class="hljs-number">0xFE</span>)];
					}
					<span class="hljs-keyword">else</span> {
						tile = <span class="hljs-keyword">this</span>.tileCache[((attrCode &amp; <span class="hljs-number">0x08</span>) &lt;&lt; <span class="hljs-number">8</span>) | ((attrCode &amp; <span class="hljs-number">0x60</span>) &lt;&lt; <span class="hljs-number">4</span>) | <span class="hljs-keyword">this</span>.memory[OAMAddress | <span class="hljs-number">0x2</span>] | <span class="hljs-number">1</span>];
					}
					xCounter = (xcoord &gt; <span class="hljs-number">0</span>) ? xcoord : <span class="hljs-number">0</span>;
					xcoord -= (yoffset &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">3</span>;
					<span class="hljs-keyword">for</span> (currentPixel = <span class="hljs-keyword">this</span>.pixelStart + xCounter; xCounter &lt; endX; ++xCounter, ++currentPixel) {
						<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &gt;= <span class="hljs-number">0x2000000</span>) {
							data = tile[xCounter - xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span>) {
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.gbcOBJPalette[palette | data];
							}
						}
						<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] &lt; <span class="hljs-number">0x1000000</span>) {
							data = tile[xCounter - xcoord];
							<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0</span> &amp;&amp; attrCode &lt; <span class="hljs-number">0x80</span>) {		<span class="hljs-comment">//Don't optimize for attrCode, as LICM-capable JITs should optimize its checks.</span>
								<span class="hljs-keyword">this</span>.frameBuffer[currentPixel] = <span class="hljs-keyword">this</span>.gbcOBJPalette[palette | data];
							}
						}
					}
					++spriteCount;
				}
			}
		}
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-712">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-712">&#182;</a>
              </div>
              <p>Generate only a single tile line for the GB tile cache mode:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBTileLine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{
	<span class="hljs-keyword">var</span> lineCopy = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x1</span> | address] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x9FFE</span> &amp; address];
	<span class="hljs-keyword">var</span> tileBlock = <span class="hljs-keyword">this</span>.tileCache[(address &amp; <span class="hljs-number">0x1FF0</span>) &gt;&gt; <span class="hljs-number">4</span>];
	address = (address &amp; <span class="hljs-number">0xE</span>) &lt;&lt; <span class="hljs-number">2</span>;
	tileBlock[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
	tileBlock[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
	tileBlock[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
	tileBlock[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
	tileBlock[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
	tileBlock[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
	tileBlock[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
	tileBlock[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-713">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-713">&#182;</a>
              </div>
              <p>Generate only a single tile line for the GBC tile cache mode (Bank 1):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBCTileLineBank1 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{
	<span class="hljs-keyword">var</span> lineCopy = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x1</span> | address] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x9FFE</span> &amp; address];
	address &amp;= <span class="hljs-number">0x1FFE</span>;
	<span class="hljs-keyword">var</span> tileBlock1 = <span class="hljs-keyword">this</span>.tileCache[address &gt;&gt; <span class="hljs-number">4</span>];
	<span class="hljs-keyword">var</span> tileBlock2 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x200</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock3 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x400</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock4 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x600</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	address = (address &amp; <span class="hljs-number">0xE</span>) &lt;&lt; <span class="hljs-number">2</span>;
	<span class="hljs-keyword">var</span> addressFlipped = <span class="hljs-number">0x38</span> - address;
	tileBlock4[addressFlipped] = tileBlock2[address] = tileBlock3[addressFlipped | <span class="hljs-number">7</span>] = tileBlock1[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">1</span>] = tileBlock2[address | <span class="hljs-number">1</span>] = tileBlock3[addressFlipped | <span class="hljs-number">6</span>] = tileBlock1[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">2</span>] = tileBlock2[address | <span class="hljs-number">2</span>] = tileBlock3[addressFlipped | <span class="hljs-number">5</span>] = tileBlock1[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">3</span>] = tileBlock2[address | <span class="hljs-number">3</span>] = tileBlock3[addressFlipped | <span class="hljs-number">4</span>] = tileBlock1[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">4</span>] = tileBlock2[address | <span class="hljs-number">4</span>] = tileBlock3[addressFlipped | <span class="hljs-number">3</span>] = tileBlock1[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">5</span>] = tileBlock2[address | <span class="hljs-number">5</span>] = tileBlock3[addressFlipped | <span class="hljs-number">2</span>] = tileBlock1[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">6</span>] = tileBlock2[address | <span class="hljs-number">6</span>] = tileBlock3[addressFlipped | <span class="hljs-number">1</span>] = tileBlock1[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">7</span>] = tileBlock2[address | <span class="hljs-number">7</span>] = tileBlock3[addressFlipped] = tileBlock1[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-714">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-714">&#182;</a>
              </div>
              <p>Generate all the flip combinations for a full GBC VRAM bank 1 tile:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBCTileBank1 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(vramAddress)</span> </span>{
	<span class="hljs-keyword">var</span> address = vramAddress &gt;&gt; <span class="hljs-number">4</span>;
	<span class="hljs-keyword">var</span> tileBlock1 = <span class="hljs-keyword">this</span>.tileCache[address];
	<span class="hljs-keyword">var</span> tileBlock2 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x200</span> | address];
	<span class="hljs-keyword">var</span> tileBlock3 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x400</span> | address];
	<span class="hljs-keyword">var</span> tileBlock4 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x600</span> | address];
	<span class="hljs-keyword">var</span> lineCopy = <span class="hljs-number">0</span>;
	vramAddress |= <span class="hljs-number">0x8000</span>;
	address = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> addressFlipped = <span class="hljs-number">56</span>;
	<span class="hljs-keyword">do</span> {
		lineCopy = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x1</span> | vramAddress] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[vramAddress];
		tileBlock4[addressFlipped] = tileBlock2[address] = tileBlock3[addressFlipped | <span class="hljs-number">7</span>] = tileBlock1[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">1</span>] = tileBlock2[address | <span class="hljs-number">1</span>] = tileBlock3[addressFlipped | <span class="hljs-number">6</span>] = tileBlock1[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">2</span>] = tileBlock2[address | <span class="hljs-number">2</span>] = tileBlock3[addressFlipped | <span class="hljs-number">5</span>] = tileBlock1[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">3</span>] = tileBlock2[address | <span class="hljs-number">3</span>] = tileBlock3[addressFlipped | <span class="hljs-number">4</span>] = tileBlock1[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">4</span>] = tileBlock2[address | <span class="hljs-number">4</span>] = tileBlock3[addressFlipped | <span class="hljs-number">3</span>] = tileBlock1[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">5</span>] = tileBlock2[address | <span class="hljs-number">5</span>] = tileBlock3[addressFlipped | <span class="hljs-number">2</span>] = tileBlock1[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">6</span>] = tileBlock2[address | <span class="hljs-number">6</span>] = tileBlock3[addressFlipped | <span class="hljs-number">1</span>] = tileBlock1[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">7</span>] = tileBlock2[address | <span class="hljs-number">7</span>] = tileBlock3[addressFlipped] = tileBlock1[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
		address += <span class="hljs-number">8</span>;
		addressFlipped -= <span class="hljs-number">8</span>;
		vramAddress += <span class="hljs-number">2</span>;
	} <span class="hljs-keyword">while</span> (addressFlipped &gt; -<span class="hljs-number">1</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-715">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-715">&#182;</a>
              </div>
              <p>Generate only a single tile line for the GBC tile cache mode (Bank 2):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBCTileLineBank2 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{
	<span class="hljs-keyword">var</span> lineCopy = (<span class="hljs-keyword">this</span>.VRAM[<span class="hljs-number">0x1</span> | address] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.VRAM[<span class="hljs-number">0x1FFE</span> &amp; address];
	<span class="hljs-keyword">var</span> tileBlock1 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x800</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock2 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xA00</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock3 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xC00</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock4 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xE00</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	address = (address &amp; <span class="hljs-number">0xE</span>) &lt;&lt; <span class="hljs-number">2</span>;
	<span class="hljs-keyword">var</span> addressFlipped = <span class="hljs-number">0x38</span> - address;
	tileBlock4[addressFlipped] = tileBlock2[address] = tileBlock3[addressFlipped | <span class="hljs-number">7</span>] = tileBlock1[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">1</span>] = tileBlock2[address | <span class="hljs-number">1</span>] = tileBlock3[addressFlipped | <span class="hljs-number">6</span>] = tileBlock1[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">2</span>] = tileBlock2[address | <span class="hljs-number">2</span>] = tileBlock3[addressFlipped | <span class="hljs-number">5</span>] = tileBlock1[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">3</span>] = tileBlock2[address | <span class="hljs-number">3</span>] = tileBlock3[addressFlipped | <span class="hljs-number">4</span>] = tileBlock1[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">4</span>] = tileBlock2[address | <span class="hljs-number">4</span>] = tileBlock3[addressFlipped | <span class="hljs-number">3</span>] = tileBlock1[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">5</span>] = tileBlock2[address | <span class="hljs-number">5</span>] = tileBlock3[addressFlipped | <span class="hljs-number">2</span>] = tileBlock1[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">6</span>] = tileBlock2[address | <span class="hljs-number">6</span>] = tileBlock3[addressFlipped | <span class="hljs-number">1</span>] = tileBlock1[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">7</span>] = tileBlock2[address | <span class="hljs-number">7</span>] = tileBlock3[addressFlipped] = tileBlock1[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-716">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-716">&#182;</a>
              </div>
              <p>Generate all the flip combinations for a full GBC VRAM bank 2 tile:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBCTileBank2 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(vramAddress)</span> </span>{
	<span class="hljs-keyword">var</span> address = vramAddress &gt;&gt; <span class="hljs-number">4</span>;	
	<span class="hljs-keyword">var</span> tileBlock1 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x800</span> | address];
	<span class="hljs-keyword">var</span> tileBlock2 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xA00</span> | address];
	<span class="hljs-keyword">var</span> tileBlock3 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xC00</span> | address];
	<span class="hljs-keyword">var</span> tileBlock4 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0xE00</span> | address];
	<span class="hljs-keyword">var</span> lineCopy = <span class="hljs-number">0</span>;
	address = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> addressFlipped = <span class="hljs-number">56</span>;
	<span class="hljs-keyword">do</span> {
		lineCopy = (<span class="hljs-keyword">this</span>.VRAM[<span class="hljs-number">0x1</span> | vramAddress] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.VRAM[vramAddress];
		tileBlock4[addressFlipped] = tileBlock2[address] = tileBlock3[addressFlipped | <span class="hljs-number">7</span>] = tileBlock1[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">1</span>] = tileBlock2[address | <span class="hljs-number">1</span>] = tileBlock3[addressFlipped | <span class="hljs-number">6</span>] = tileBlock1[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">2</span>] = tileBlock2[address | <span class="hljs-number">2</span>] = tileBlock3[addressFlipped | <span class="hljs-number">5</span>] = tileBlock1[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">3</span>] = tileBlock2[address | <span class="hljs-number">3</span>] = tileBlock3[addressFlipped | <span class="hljs-number">4</span>] = tileBlock1[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">4</span>] = tileBlock2[address | <span class="hljs-number">4</span>] = tileBlock3[addressFlipped | <span class="hljs-number">3</span>] = tileBlock1[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">5</span>] = tileBlock2[address | <span class="hljs-number">5</span>] = tileBlock3[addressFlipped | <span class="hljs-number">2</span>] = tileBlock1[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">6</span>] = tileBlock2[address | <span class="hljs-number">6</span>] = tileBlock3[addressFlipped | <span class="hljs-number">1</span>] = tileBlock1[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
		tileBlock4[addressFlipped | <span class="hljs-number">7</span>] = tileBlock2[address | <span class="hljs-number">7</span>] = tileBlock3[addressFlipped] = tileBlock1[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
		address += <span class="hljs-number">8</span>;
		addressFlipped -= <span class="hljs-number">8</span>;
		vramAddress += <span class="hljs-number">2</span>;
	} <span class="hljs-keyword">while</span> (addressFlipped &gt; -<span class="hljs-number">1</span>);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-717">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-717">&#182;</a>
              </div>
              <p>Generate only a single tile line for the GB tile cache mode (OAM accessible range):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.generateGBOAMTileLine = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{
	<span class="hljs-keyword">var</span> lineCopy = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x1</span> | address] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0x9FFE</span> &amp; address];
	address &amp;= <span class="hljs-number">0x1FFE</span>;
	<span class="hljs-keyword">var</span> tileBlock1 = <span class="hljs-keyword">this</span>.tileCache[address &gt;&gt; <span class="hljs-number">4</span>];
	<span class="hljs-keyword">var</span> tileBlock2 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x200</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock3 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x400</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	<span class="hljs-keyword">var</span> tileBlock4 = <span class="hljs-keyword">this</span>.tileCache[<span class="hljs-number">0x600</span> | (address &gt;&gt; <span class="hljs-number">4</span>)];
	address = (address &amp; <span class="hljs-number">0xE</span>) &lt;&lt; <span class="hljs-number">2</span>;
	<span class="hljs-keyword">var</span> addressFlipped = <span class="hljs-number">0x38</span> - address;
	tileBlock4[addressFlipped] = tileBlock2[address] = tileBlock3[addressFlipped | <span class="hljs-number">7</span>] = tileBlock1[address | <span class="hljs-number">7</span>] = ((lineCopy &amp; <span class="hljs-number">0x100</span>) &gt;&gt; <span class="hljs-number">7</span>) | (lineCopy &amp; <span class="hljs-number">0x1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">1</span>] = tileBlock2[address | <span class="hljs-number">1</span>] = tileBlock3[addressFlipped | <span class="hljs-number">6</span>] = tileBlock1[address | <span class="hljs-number">6</span>] = ((lineCopy &amp; <span class="hljs-number">0x200</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((lineCopy &amp; <span class="hljs-number">0x2</span>) &gt;&gt; <span class="hljs-number">1</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">2</span>] = tileBlock2[address | <span class="hljs-number">2</span>] = tileBlock3[addressFlipped | <span class="hljs-number">5</span>] = tileBlock1[address | <span class="hljs-number">5</span>] = ((lineCopy &amp; <span class="hljs-number">0x400</span>) &gt;&gt; <span class="hljs-number">9</span>) | ((lineCopy &amp; <span class="hljs-number">0x4</span>) &gt;&gt; <span class="hljs-number">2</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">3</span>] = tileBlock2[address | <span class="hljs-number">3</span>] = tileBlock3[addressFlipped | <span class="hljs-number">4</span>] = tileBlock1[address | <span class="hljs-number">4</span>] = ((lineCopy &amp; <span class="hljs-number">0x800</span>) &gt;&gt; <span class="hljs-number">10</span>) | ((lineCopy &amp; <span class="hljs-number">0x8</span>) &gt;&gt; <span class="hljs-number">3</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">4</span>] = tileBlock2[address | <span class="hljs-number">4</span>] = tileBlock3[addressFlipped | <span class="hljs-number">3</span>] = tileBlock1[address | <span class="hljs-number">3</span>] = ((lineCopy &amp; <span class="hljs-number">0x1000</span>) &gt;&gt; <span class="hljs-number">11</span>) | ((lineCopy &amp; <span class="hljs-number">0x10</span>) &gt;&gt; <span class="hljs-number">4</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">5</span>] = tileBlock2[address | <span class="hljs-number">5</span>] = tileBlock3[addressFlipped | <span class="hljs-number">2</span>] = tileBlock1[address | <span class="hljs-number">2</span>] = ((lineCopy &amp; <span class="hljs-number">0x2000</span>) &gt;&gt; <span class="hljs-number">12</span>) | ((lineCopy &amp; <span class="hljs-number">0x20</span>) &gt;&gt; <span class="hljs-number">5</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">6</span>] = tileBlock2[address | <span class="hljs-number">6</span>] = tileBlock3[addressFlipped | <span class="hljs-number">1</span>] = tileBlock1[address | <span class="hljs-number">1</span>] = ((lineCopy &amp; <span class="hljs-number">0x4000</span>) &gt;&gt; <span class="hljs-number">13</span>) | ((lineCopy &amp; <span class="hljs-number">0x40</span>) &gt;&gt; <span class="hljs-number">6</span>);
	tileBlock4[addressFlipped | <span class="hljs-number">7</span>] = tileBlock2[address | <span class="hljs-number">7</span>] = tileBlock3[addressFlipped] = tileBlock1[address] = ((lineCopy &amp; <span class="hljs-number">0x8000</span>) &gt;&gt; <span class="hljs-number">14</span>) | ((lineCopy &amp; <span class="hljs-number">0x80</span>) &gt;&gt; <span class="hljs-number">7</span>);
}
GameBoyCore.prototype.graphicsJIT = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LCDisOn) {
		<span class="hljs-keyword">this</span>.totalLinesPassed = <span class="hljs-number">0</span>;			<span class="hljs-comment">//Mark frame for ensuring a JIT pass for the next framebuffer output.</span>
		<span class="hljs-keyword">this</span>.graphicsJITScanlineGroup();
	}
}
GameBoyCore.prototype.graphicsJITVBlank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-718">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-718">&#182;</a>
              </div>
              <p>JIT the graphics to v-blank framing:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.totalLinesPassed += <span class="hljs-keyword">this</span>.queuedScanLines;
	<span class="hljs-keyword">this</span>.graphicsJITScanlineGroup();
}
GameBoyCore.prototype.graphicsJITScanlineGroup = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-719">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-719">&#182;</a>
              </div>
              <p>Normal rendering JIT, where we try to do groups of scanlines at once:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.queuedScanLines &gt; <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">this</span>.renderScanLine(<span class="hljs-keyword">this</span>.lastUnrenderedLine);
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastUnrenderedLine &lt; <span class="hljs-number">143</span>) {
			++<span class="hljs-keyword">this</span>.lastUnrenderedLine;
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.lastUnrenderedLine = <span class="hljs-number">0</span>;
		}
		--<span class="hljs-keyword">this</span>.queuedScanLines;
	}
}
GameBoyCore.prototype.incrementScanLineQueue = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.queuedScanLines &lt; <span class="hljs-number">144</span>) {
		++<span class="hljs-keyword">this</span>.queuedScanLines;
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.currentX = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.midScanlineOffset = -<span class="hljs-number">1</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastUnrenderedLine &lt; <span class="hljs-number">143</span>) {
			++<span class="hljs-keyword">this</span>.lastUnrenderedLine;
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.lastUnrenderedLine = <span class="hljs-number">0</span>;
		}
	}
}
GameBoyCore.prototype.midScanLineJIT = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">this</span>.graphicsJIT();
	<span class="hljs-keyword">this</span>.renderMidScanLine();
}</pre></div></div>
            
        </li>
        
        
        <li id="section-720">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-720">&#182;</a>
              </div>
              <p>Check for the highest priority IRQ to fire:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.launchIRQ = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">var</span> bitShift = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">var</span> testbit = <span class="hljs-number">1</span>;
	<span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-721">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-721">&#182;</a>
              </div>
              <p>Check to see if an interrupt is enabled AND requested.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> ((testbit &amp; <span class="hljs-keyword">this</span>.IRQLineMatched) == testbit) {
			<span class="hljs-keyword">this</span>.IME = <span class="hljs-literal">false</span>;						<span class="hljs-comment">//Reset the interrupt enabling.</span>
			<span class="hljs-keyword">this</span>.interruptsRequested -= testbit;	<span class="hljs-comment">//Reset the interrupt request.</span>
			<span class="hljs-keyword">this</span>.IRQLineMatched = <span class="hljs-number">0</span>;				<span class="hljs-comment">//Reset the IRQ assertion.</span></pre></div></div>
            
        </li>
        
        
        <li id="section-722">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-722">&#182;</a>
              </div>
              <p>Interrupts have a certain clock cycle length:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">20</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-723">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-723">&#182;</a>
              </div>
              <p>Set the stack pointer to the current program counter value:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.stackPointer = (<span class="hljs-keyword">this</span>.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			<span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-keyword">this</span>.stackPointer](<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.stackPointer, <span class="hljs-keyword">this</span>.programCounter &gt;&gt; <span class="hljs-number">8</span>);
			<span class="hljs-keyword">this</span>.stackPointer = (<span class="hljs-keyword">this</span>.stackPointer - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFFFF</span>;
			<span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-keyword">this</span>.stackPointer](<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.stackPointer, <span class="hljs-keyword">this</span>.programCounter &amp; <span class="hljs-number">0xFF</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-724">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-724">&#182;</a>
              </div>
              <p>Set the program counter to the interrupt’s address:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.programCounter = <span class="hljs-number">0x40</span> | (bitShift &lt;&lt; <span class="hljs-number">3</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-725">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-725">&#182;</a>
              </div>
              <p>Clock the core for mid-instruction updates:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.updateCore();
			<span class="hljs-keyword">return</span>;									<span class="hljs-comment">//We only want the highest priority interrupt.</span>
		}
		testbit = <span class="hljs-number">1</span> &lt;&lt; ++bitShift;
	} <span class="hljs-keyword">while</span> (bitShift &lt; <span class="hljs-number">5</span>);
}
<span class="hljs-comment">/*
	Check for IRQs to be fired while not in HALT:
*/</span>
GameBoyCore.prototype.checkIRQMatching = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IME) {
		<span class="hljs-keyword">this</span>.IRQLineMatched = <span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-keyword">this</span>.interruptsRequested &amp; <span class="hljs-number">0x1F</span>;
	}
}
<span class="hljs-comment">/*
	Handle the HALT opcode by predicting all IRQ cases correctly,
	then selecting the next closest IRQ firing from the prediction to
	clock up to. This prevents hacky looping that doesn't predict, but
	instead just clocks through the core update procedure by one which
	is very slow. Not many emulators do this because they have to cover
	all the IRQ prediction cases and they usually get them wrong.
*/</span>
GameBoyCore.prototype.calculateHALTPeriod = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-726">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-726">&#182;</a>
              </div>
              <p>Initialize our variables and start our prediction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.halt) {
		<span class="hljs-keyword">this</span>.halt = <span class="hljs-literal">true</span>;
		<span class="hljs-keyword">var</span> currentClocks = -<span class="hljs-number">1</span>;
		<span class="hljs-keyword">var</span> temp_var = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LCDisOn) {</pre></div></div>
            
        </li>
        
        
        <li id="section-727">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-727">&#182;</a>
              </div>
              <p>If the LCD is enabled, then predict the LCD IRQs enabled:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0x1</span>) {
				currentClocks = ((<span class="hljs-number">456</span> * (((<span class="hljs-keyword">this</span>.modeSTAT == <span class="hljs-number">1</span>) ? <span class="hljs-number">298</span> : <span class="hljs-number">144</span>) - <span class="hljs-keyword">this</span>.actualScanLine)) - <span class="hljs-keyword">this</span>.LCDTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
			}
			<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-number">0x2</span>) == <span class="hljs-number">0x2</span>) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode0TriggerSTAT) {
					temp_var = (<span class="hljs-keyword">this</span>.clocksUntilMode0() - <span class="hljs-keyword">this</span>.LCDTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
					<span class="hljs-keyword">if</span> (temp_var &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
						currentClocks = temp_var;
					}
				}
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode1TriggerSTAT &amp;&amp; (<span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0</span>) {
					temp_var = ((<span class="hljs-number">456</span> * (((<span class="hljs-keyword">this</span>.modeSTAT == <span class="hljs-number">1</span>) ? <span class="hljs-number">298</span> : <span class="hljs-number">144</span>) - <span class="hljs-keyword">this</span>.actualScanLine)) - <span class="hljs-keyword">this</span>.LCDTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
					<span class="hljs-keyword">if</span> (temp_var &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
						currentClocks = temp_var;
					}
				}
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode2TriggerSTAT) {
					temp_var = (((<span class="hljs-keyword">this</span>.actualScanLine &gt;= <span class="hljs-number">143</span>) ? (<span class="hljs-number">456</span> * (<span class="hljs-number">154</span> - <span class="hljs-keyword">this</span>.actualScanLine)) : <span class="hljs-number">456</span>) - <span class="hljs-keyword">this</span>.LCDTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
					<span class="hljs-keyword">if</span> (temp_var &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
						currentClocks = temp_var;
					}
				}
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.LYCMatchTriggerSTAT &amp;&amp; <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF45</span>] &lt;= <span class="hljs-number">153</span>) {
					temp_var = (<span class="hljs-keyword">this</span>.clocksUntilLYCMatch() - <span class="hljs-keyword">this</span>.LCDTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
					<span class="hljs-keyword">if</span> (temp_var &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
						currentClocks = temp_var;
					}
				}
			}
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.TIMAEnabled &amp;&amp; (<span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-number">0x4</span>) == <span class="hljs-number">0x4</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-728">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-728">&#182;</a>
              </div>
              <p>CPU timer IRQ prediction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			temp_var = ((<span class="hljs-number">0x100</span> - <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF05</span>]) * <span class="hljs-keyword">this</span>.TACClocker) - <span class="hljs-keyword">this</span>.timerTicks;
			<span class="hljs-keyword">if</span> (temp_var &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
				currentClocks = temp_var;
			}
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &gt; <span class="hljs-number">0</span> &amp;&amp; (<span class="hljs-keyword">this</span>.interruptsEnabled &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0x8</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-729">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-729">&#182;</a>
              </div>
              <p>Serial IRQ prediction:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.serialTimer &lt;= currentClocks || currentClocks == -<span class="hljs-number">1</span>) {
				currentClocks = <span class="hljs-keyword">this</span>.serialTimer;
			}
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">var</span> currentClocks = <span class="hljs-keyword">this</span>.remainingClocks;
	}
	<span class="hljs-keyword">var</span> maxClocks = (<span class="hljs-keyword">this</span>.CPUCyclesTotal - <span class="hljs-keyword">this</span>.emulatorTicks) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter;
	<span class="hljs-keyword">if</span> (currentClocks &gt;= <span class="hljs-number">0</span>) {
		<span class="hljs-keyword">if</span> (currentClocks &lt;= maxClocks) {</pre></div></div>
            
        </li>
        
        
        <li id="section-730">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-730">&#182;</a>
              </div>
              <p>Exit out of HALT normally:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-built_in">Math</span>.max(currentClocks, <span class="hljs-keyword">this</span>.CPUTicks);
			<span class="hljs-keyword">this</span>.updateCoreFull();
			<span class="hljs-keyword">this</span>.halt = <span class="hljs-literal">false</span>;
			<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-number">0</span>;
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-731">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-731">&#182;</a>
              </div>
              <p>Still in HALT, clock only up to the clocks specified per iteration:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.CPUTicks = <span class="hljs-built_in">Math</span>.max(maxClocks, <span class="hljs-keyword">this</span>.CPUTicks);
			<span class="hljs-keyword">this</span>.remainingClocks = currentClocks - <span class="hljs-keyword">this</span>.CPUTicks;
		}
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-732">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-732">&#182;</a>
              </div>
              <p>Still in HALT, clock only up to the clocks specified per iteration:
Will stay in HALT forever (Stuck in HALT forever), but the APU and LCD are still clocked, so don’t pause:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.CPUTicks += maxClocks;
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-733">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-733">&#182;</a>
              </div>
              <p>Memory Reading:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.memoryRead = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-734">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-734">&#182;</a>
              </div>
              <p>Act as a wrapper for reading the returns from the compiled jumps to memory.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.memoryReader[address](<span class="hljs-keyword">this</span>, address);	<span class="hljs-comment">//This seems to be faster than the usual if/else.</span>
}
GameBoyCore.prototype.memoryHighRead = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-735">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-735">&#182;</a>
              </div>
              <p>Act as a wrapper for reading the returns from the compiled jumps to memory.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.memoryHighReader[address](<span class="hljs-keyword">this</span>, address);	<span class="hljs-comment">//This seems to be faster than the usual if/else.</span>
}
GameBoyCore.prototype.memoryReadJumpCompile = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-736">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-736">&#182;</a>
              </div>
              <p>Faster in some browsers, since we are doing less conditionals overall by implementing them in advance.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0x0000</span>; index &lt;= <span class="hljs-number">0xFFFF</span>; index++) {
		<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x4000</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x8000</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadROM;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x9800</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-keyword">this</span>.VRAMDATAReadCGBCPU : <span class="hljs-keyword">this</span>.VRAMDATAReadDMGCPU;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xA000</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-keyword">this</span>.VRAMCHRReadCGBCPU : <span class="hljs-keyword">this</span>.VRAMCHRReadDMGCPU;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0xA000</span> &amp;&amp; index &lt; <span class="hljs-number">0xC000</span>) {
			<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.numRAMBanks == <span class="hljs-number">1</span> / <span class="hljs-number">16</span> &amp;&amp; index &lt; <span class="hljs-number">0xA200</span>) || <span class="hljs-keyword">this</span>.numRAMBanks &gt;= <span class="hljs-number">1</span>) {
				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC7) {
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadMBC7;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cMBC3) {
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadMBC;
				}
				<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-737">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-737">&#182;</a>
              </div>
              <p>MBC3 RTC + RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadMBC3;
				}
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0xC000</span> &amp;&amp; index &lt; <span class="hljs-number">0xE000</span>) {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC || index &lt; <span class="hljs-number">0xD000</span>) {
				<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadGBCMemory;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0xE000</span> &amp;&amp; index &lt; <span class="hljs-number">0xFE00</span>) {
			<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cGBC || index &lt; <span class="hljs-number">0xF000</span>) {
				<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadECHONormal;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadECHOGBCMemory;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xFEA0</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadOAM;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC &amp;&amp; index &gt;= <span class="hljs-number">0xFEA0</span> &amp;&amp; index &lt; <span class="hljs-number">0xFF00</span>) {
			<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0xFF00</span>) {
			<span class="hljs-keyword">switch</span> (index) {
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF00</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-738">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-738">&#182;</a>
              </div>
              <p>JOYPAD:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF00</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xC0</span> | parentObj.memory[<span class="hljs-number">0xFF00</span>];	<span class="hljs-comment">//Top nibble returns as set.</span>
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF01</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-739">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-739">&#182;</a>
              </div>
              <p>SB</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x01</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF01</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> (parentObj.memory[<span class="hljs-number">0xFF02</span>] &lt; <span class="hljs-number">0x80</span>) ? parentObj.memory[<span class="hljs-number">0xFF01</span>] : <span class="hljs-number">0xFF</span>;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF02</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-740">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-740">&#182;</a>
              </div>
              <p>SC</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x02</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF02</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
							<span class="hljs-keyword">return</span> ((parentObj.serialTimer &lt;= <span class="hljs-number">0</span>) ? <span class="hljs-number">0x7C</span> : <span class="hljs-number">0xFC</span>) | parentObj.memory[<span class="hljs-number">0xFF02</span>];
						}
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x02</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF02</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
							<span class="hljs-keyword">return</span> ((parentObj.serialTimer &lt;= <span class="hljs-number">0</span>) ? <span class="hljs-number">0x7E</span> : <span class="hljs-number">0xFE</span>) | parentObj.memory[<span class="hljs-number">0xFF02</span>];
						}
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF03</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x03</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF03</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF04</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-741">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-741">&#182;</a>
              </div>
              <p>DIV</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x04</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF04</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						parentObj.memory[<span class="hljs-number">0xFF04</span>] = (parentObj.memory[<span class="hljs-number">0xFF04</span>] + (parentObj.DIVTicks &gt;&gt; <span class="hljs-number">8</span>)) &amp; <span class="hljs-number">0xFF</span>;
						parentObj.DIVTicks &amp;= <span class="hljs-number">0xFF</span>;
						<span class="hljs-keyword">return</span> parentObj.memory[<span class="hljs-number">0xFF04</span>];
						
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF05</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF06</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF07</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x07</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF07</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xF8</span> | parentObj.memory[<span class="hljs-number">0xFF07</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF08</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF09</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0B</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0C</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0E</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF0F</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-742">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-742">&#182;</a>
              </div>
              <p>IF</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x0F</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF0F</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xE0</span> | parentObj.interruptsRequested;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF10</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x10</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF10</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x80</span> | parentObj.memory[<span class="hljs-number">0xFF10</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF11</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x11</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF11</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x3F</span> | parentObj.memory[<span class="hljs-number">0xFF11</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF12</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x12</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF12</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF13</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x13</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF13</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF14</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x14</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF14</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xBF</span> | parentObj.memory[<span class="hljs-number">0xFF14</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF15</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x15</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF15</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF16</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x16</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF16</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x3F</span> | parentObj.memory[<span class="hljs-number">0xFF16</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF17</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x17</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF17</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF18</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x18</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF18</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF19</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x19</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF19</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xBF</span> | parentObj.memory[<span class="hljs-number">0xFF19</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1A</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x1A</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF1A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x7F</span> | parentObj.memory[<span class="hljs-number">0xFF1A</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1B</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x1B</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF1B</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1C</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x1C</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF1C</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x9F</span> | parentObj.memory[<span class="hljs-number">0xFF1C</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1D</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x1D</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF1D</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1E</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x1E</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF1E</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xBF</span> | parentObj.memory[<span class="hljs-number">0xFF1E</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF1F</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF20</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF21</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF22</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF23</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x23</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF23</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0xBF</span> | parentObj.memory[<span class="hljs-number">0xFF23</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF24</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF25</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF26</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x26</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF26</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						parentObj.audioJIT();
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x70</span> | parentObj.memory[<span class="hljs-number">0xFF26</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF27</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF28</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF29</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2B</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2C</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2E</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF2F</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF30</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF31</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF32</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF33</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF34</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF35</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF36</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF37</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF38</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF39</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3B</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3C</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3E</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF3F</span>:
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> (parentObj.channel3canPlay) ? parentObj.memory[<span class="hljs-number">0xFF00</span> | (parentObj.channel3lastSampleLookup &gt;&gt; <span class="hljs-number">1</span>)] : parentObj.memory[address];
					}
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> (parentObj.channel3canPlay) ? parentObj.memory[<span class="hljs-number">0xFF00</span> | (parentObj.channel3lastSampleLookup &gt;&gt; <span class="hljs-number">1</span>)] : parentObj.memory[<span class="hljs-number">0xFF00</span> | address];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF40</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x40</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF40</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF41</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x41</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF41</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x80</span> | parentObj.memory[<span class="hljs-number">0xFF41</span>] | parentObj.modeSTAT;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF42</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x42</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF42</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> parentObj.backgroundY;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF43</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x43</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF43</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> parentObj.backgroundX;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF44</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x44</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF44</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> ((parentObj.LCDisOn) ? parentObj.memory[<span class="hljs-number">0xFF44</span>] : <span class="hljs-number">0</span>);
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF45</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF46</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF47</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF48</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF49</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4A</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-743">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-743">&#182;</a>
              </div>
              <p>WY</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4A</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> parentObj.windowY;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4B</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4B</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4B</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4C</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4C</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4C</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4D</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4D</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4D</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4E</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4E</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4E</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4F</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x4F</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF4F</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> parentObj.currVRAMBank;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF50</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF51</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF52</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF53</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF54</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF55</span>:
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x55</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF55</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
							<span class="hljs-keyword">if</span> (!parentObj.LCDisOn &amp;&amp; parentObj.hdmaRunning) {	<span class="hljs-comment">//Undocumented behavior alert: HDMA becomes GDMA when LCD is off (Worms Armageddon Fix).</span></pre></div></div>
            
        </li>
        
        
        <li id="section-744">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-744">&#182;</a>
              </div>
              <p>DMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>								parentObj.DMAWrite((parentObj.memory[<span class="hljs-number">0xFF55</span>] &amp; <span class="hljs-number">0x7F</span>) + <span class="hljs-number">1</span>);
								parentObj.memory[<span class="hljs-number">0xFF55</span>] = <span class="hljs-number">0xFF</span>;	<span class="hljs-comment">//Transfer completed.</span>
								parentObj.hdmaRunning = <span class="hljs-literal">false</span>;
							}
							<span class="hljs-keyword">return</span> parentObj.memory[<span class="hljs-number">0xFF55</span>];
						}
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF55</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x55</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF56</span>:
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x56</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF56</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-745">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-745">&#182;</a>
              </div>
              <p>Return IR “not connected” status:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>							<span class="hljs-keyword">return</span> <span class="hljs-number">0x3C</span> | ((parentObj.memory[<span class="hljs-number">0xFF56</span>] &gt;= <span class="hljs-number">0xC0</span>) ? (<span class="hljs-number">0x2</span> | (parentObj.memory[<span class="hljs-number">0xFF56</span>] &amp; <span class="hljs-number">0xC1</span>)) : (parentObj.memory[<span class="hljs-number">0xFF56</span>] &amp; <span class="hljs-number">0xC3</span>));
						}
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF56</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x56</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF57</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF58</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF59</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5B</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5C</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5E</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5F</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF60</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF61</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF62</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF63</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF64</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF65</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF66</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF67</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF68</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF69</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6B</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6C</span>:
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x6C</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
							<span class="hljs-keyword">return</span> <span class="hljs-number">0xFE</span> | parentObj.memory[<span class="hljs-number">0xFF6C</span>];
						}
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x6C</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6E</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6F</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF70</span>:
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {</pre></div></div>
            
        </li>
        
        
        <li id="section-746">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-746">&#182;</a>
              </div>
              <p>SVBK</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x70</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF70</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
							<span class="hljs-keyword">return</span> <span class="hljs-number">0x40</span> | parentObj.memory[<span class="hljs-number">0xFF70</span>];
						}
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x70</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF70</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF71</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x71</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF71</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF72</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF73</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF74</span>:
					<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x74</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF74</span>] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					}
					<span class="hljs-keyword">else</span> {
						<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x74</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF74</span>] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF75</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0x75</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFF75</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0x8F</span> | parentObj.memory[<span class="hljs-number">0xFF75</span>];
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF76</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF77</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF78</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF79</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7A</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7B</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7C</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7D</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7E</span>:
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7F</span>:
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">case</span> <span class="hljs-number">0xFFFF</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-747">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-747">&#182;</a>
              </div>
              <p>IE</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryHighReader[<span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryReader[<span class="hljs-number">0xFFFF</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
						<span class="hljs-keyword">return</span> parentObj.interruptsEnabled;
					}
					<span class="hljs-keyword">break</span>;
				<span class="hljs-keyword">default</span>:
					<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadNormal;
					<span class="hljs-keyword">this</span>.memoryHighReader[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighReadNormal;
			}
		}
		<span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">this</span>.memoryReader[index] = <span class="hljs-keyword">this</span>.memoryReadBAD;
		}
	}
}
GameBoyCore.prototype.memoryReadNormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.memory[address];
}
GameBoyCore.prototype.memoryHighReadNormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.memory[<span class="hljs-number">0xFF00</span> | address];
}
GameBoyCore.prototype.memoryReadROM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.ROM[parentObj.currentROMBank + address];
}
GameBoyCore.prototype.memoryReadMBC = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-748">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-748">&#182;</a>
              </div>
              <p>Switchable RAM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (parentObj.MBCRAMBanksEnabled || settings[<span class="hljs-number">10</span>]) {
		<span class="hljs-keyword">return</span> parentObj.MBCRam[address + parentObj.currMBCRAMBankPosition];
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-749">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-749">&#182;</a>
              </div>
              <p>cout(“Reading from disabled RAM.”, 1);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-number">0xFF</span>;
}
GameBoyCore.prototype.memoryReadMBC7 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-750">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-750">&#182;</a>
              </div>
              <p>Switchable RAM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (parentObj.MBCRAMBanksEnabled || settings[<span class="hljs-number">10</span>]) {
		<span class="hljs-keyword">switch</span> (address) {
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA000</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA060</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA070</span>:
				<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA080</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-751">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-751">&#182;</a>
              </div>
              <p>TODO: Gyro Control Register</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA050</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-752">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-752">&#182;</a>
              </div>
              <p>Y High Byte</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">return</span> parentObj.highY;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA040</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-753">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-753">&#182;</a>
              </div>
              <p>Y Low Byte</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">return</span> parentObj.lowY;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA030</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-754">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-754">&#182;</a>
              </div>
              <p>X High Byte</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">return</span> parentObj.highX;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0xA020</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-755">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-755">&#182;</a>
              </div>
              <p>X Low Byte:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">return</span> parentObj.lowX;
			<span class="hljs-keyword">default</span>:
				<span class="hljs-keyword">return</span> parentObj.MBCRam[address + parentObj.currMBCRAMBankPosition];
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-756">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-756">&#182;</a>
              </div>
              <p>cout(“Reading from disabled RAM.”, 1);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-number">0xFF</span>;
}
GameBoyCore.prototype.memoryReadMBC3 = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-757">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-757">&#182;</a>
              </div>
              <p>Switchable RAM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (parentObj.MBCRAMBanksEnabled || settings[<span class="hljs-number">10</span>]) {
		<span class="hljs-keyword">switch</span> (parentObj.currMBCRAMBank) {
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x01</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x02</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x03</span>:
				<span class="hljs-keyword">return</span> parentObj.MBCRam[address + parentObj.currMBCRAMBankPosition];
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x08</span>:
				<span class="hljs-keyword">return</span> parentObj.latchedSeconds;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x09</span>:
				<span class="hljs-keyword">return</span> parentObj.latchedMinutes;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>:
				<span class="hljs-keyword">return</span> parentObj.latchedHours;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0B</span>:
				<span class="hljs-keyword">return</span> parentObj.latchedLDays;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0C</span>:
				<span class="hljs-keyword">return</span> (((parentObj.RTCDayOverFlow) ? <span class="hljs-number">0x80</span> : <span class="hljs-number">0</span>) + ((parentObj.RTCHALT) ? <span class="hljs-number">0x40</span> : <span class="hljs-number">0</span>)) + parentObj.latchedHDays;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-758">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-758">&#182;</a>
              </div>
              <p>cout(“Reading from invalid or disabled RAM.”, 1);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> <span class="hljs-number">0xFF</span>;
}
GameBoyCore.prototype.memoryReadGBCMemory = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.GBCMemory[address + parentObj.gbcRamBankPosition];
}
GameBoyCore.prototype.memoryReadOAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> (parentObj.modeSTAT &gt; <span class="hljs-number">1</span>) ?  <span class="hljs-number">0xFF</span> : parentObj.memory[address];
}
GameBoyCore.prototype.memoryReadECHOGBCMemory = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.GBCMemory[address + parentObj.gbcRamBankPositionECHO];
}
GameBoyCore.prototype.memoryReadECHONormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> parentObj.memory[address - <span class="hljs-number">0x2000</span>];
}
GameBoyCore.prototype.memoryReadBAD = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-number">0xFF</span>;
}
GameBoyCore.prototype.VRAMDATAReadCGBCPU = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-759">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-759">&#182;</a>
              </div>
              <p>CPU Side Reading The VRAM (Optimized for GameBoy Color)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> (parentObj.modeSTAT &gt; <span class="hljs-number">2</span>) ? <span class="hljs-number">0xFF</span> : ((parentObj.currVRAMBank == <span class="hljs-number">0</span>) ? parentObj.memory[address] : parentObj.VRAM[address &amp; <span class="hljs-number">0x1FFF</span>]);
}
GameBoyCore.prototype.VRAMDATAReadDMGCPU = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-760">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-760">&#182;</a>
              </div>
              <p>CPU Side Reading The VRAM (Optimized for classic GameBoy)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> (parentObj.modeSTAT &gt; <span class="hljs-number">2</span>) ? <span class="hljs-number">0xFF</span> : parentObj.memory[address];
}
GameBoyCore.prototype.VRAMCHRReadCGBCPU = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-761">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-761">&#182;</a>
              </div>
              <p>CPU Side Reading the Character Data Map:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> (parentObj.modeSTAT &gt; <span class="hljs-number">2</span>) ? <span class="hljs-number">0xFF</span> : parentObj.BGCHRCurrentBank[address &amp; <span class="hljs-number">0x7FF</span>];
}
GameBoyCore.prototype.VRAMCHRReadDMGCPU = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-762">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-762">&#182;</a>
              </div>
              <p>CPU Side Reading the Character Data Map:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">return</span> (parentObj.modeSTAT &gt; <span class="hljs-number">2</span>) ? <span class="hljs-number">0xFF</span> : parentObj.BGCHRBank1[address &amp; <span class="hljs-number">0x7FF</span>];
}
GameBoyCore.prototype.setCurrentMBC1ROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-763">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-763">&#182;</a>
              </div>
              <p>Read the cartridge ROM data from RAM memory:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.ROMBank1offs) {
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x20</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x40</span>:
		<span class="hljs-keyword">case</span> <span class="hljs-number">0x60</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-764">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-764">&#182;</a>
              </div>
              <p>Bank calls for 0x00, 0x20, 0x40, and 0x60 are really for 0x01, 0x21, 0x41, and 0x61.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.currentROMBank = (<span class="hljs-keyword">this</span>.ROMBank1offs % <span class="hljs-keyword">this</span>.ROMBankEdge) &lt;&lt; <span class="hljs-number">14</span>;
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">default</span>:
			<span class="hljs-keyword">this</span>.currentROMBank = ((<span class="hljs-keyword">this</span>.ROMBank1offs % <span class="hljs-keyword">this</span>.ROMBankEdge) - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">14</span>;
	}
}
GameBoyCore.prototype.setCurrentMBC2AND3ROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-765">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-765">&#182;</a>
              </div>
              <p>Read the cartridge ROM data from RAM memory:
Only map bank 0 to bank 1 here (MBC2 is like MBC1, but can only do 16 banks, so only the bank 0 quirk appears for MBC2):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.currentROMBank = <span class="hljs-built_in">Math</span>.max((<span class="hljs-keyword">this</span>.ROMBank1offs % <span class="hljs-keyword">this</span>.ROMBankEdge) - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>) &lt;&lt; <span class="hljs-number">14</span>;
}
GameBoyCore.prototype.setCurrentMBC5ROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-766">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-766">&#182;</a>
              </div>
              <p>Read the cartridge ROM data from RAM memory:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.currentROMBank = ((<span class="hljs-keyword">this</span>.ROMBank1offs % <span class="hljs-keyword">this</span>.ROMBankEdge) - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">14</span>;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-767">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-767">&#182;</a>
              </div>
              <p>Memory Writing:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.memoryWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-768">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-768">&#182;</a>
              </div>
              <p>Act as a wrapper for writing by compiled jumps to specific memory writing functions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryWriter[address](<span class="hljs-keyword">this</span>, address, data);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-769">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-769">&#182;</a>
              </div>
              <p>0xFFXX fast path:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.memoryHighWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-770">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-770">&#182;</a>
              </div>
              <p>Act as a wrapper for writing by compiled jumps to specific memory writing functions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[address](<span class="hljs-keyword">this</span>, address, data);
}
GameBoyCore.prototype.memoryWriteJumpCompile = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-771">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-771">&#182;</a>
              </div>
              <p>Faster in some browsers, since we are doing less conditionals overall by implementing them in advance.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0x0000</span>; index &lt;= <span class="hljs-number">0xFFFF</span>; index++) {
		<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x8000</span>) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC1) {
				<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x2000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBCWriteEnable;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x4000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC1WriteROMBank;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x6000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC1WriteRAMBank;
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC1WriteType;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC2) {
				<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x1000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBCWriteEnable;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0x2100</span> &amp;&amp; index &lt; <span class="hljs-number">0x2200</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC2WriteROMBank;
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC3) {
				<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x2000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBCWriteEnable;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x4000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC3WriteROMBank;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x6000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC3WriteRAMBank;
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC3WriteRTCLatch;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cMBC5 || <span class="hljs-keyword">this</span>.cRUMBLE || <span class="hljs-keyword">this</span>.cMBC7) {
				<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x2000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBCWriteEnable;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x3000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC5WriteROMBankLow;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x4000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC5WriteROMBankHigh;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x6000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = (<span class="hljs-keyword">this</span>.cRUMBLE) ? <span class="hljs-keyword">this</span>.RUMBLEWriteRAMBank : <span class="hljs-keyword">this</span>.MBC5WriteRAMBank;
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cHuC3) {
				<span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x2000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBCWriteEnable;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x4000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.MBC3WriteROMBank;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x6000</span>) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.HuC3WriteRAMBank;
				}
				<span class="hljs-keyword">else</span> {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
				}
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x9000</span>) {
			<span class="hljs-keyword">this</span>.memoryWriter[index] = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-keyword">this</span>.VRAMGBCDATAWrite : <span class="hljs-keyword">this</span>.VRAMGBDATAWrite;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0x9800</span>) {
			<span class="hljs-keyword">this</span>.memoryWriter[index] = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-keyword">this</span>.VRAMGBCDATAWrite : <span class="hljs-keyword">this</span>.VRAMGBDATAUpperWrite;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xA000</span>) {
			<span class="hljs-keyword">this</span>.memoryWriter[index] = (<span class="hljs-keyword">this</span>.cGBC) ? <span class="hljs-keyword">this</span>.VRAMGBCCHRMAPWrite : <span class="hljs-keyword">this</span>.VRAMGBCHRMAPWrite;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xC000</span>) {
			<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.numRAMBanks == <span class="hljs-number">1</span> / <span class="hljs-number">16</span> &amp;&amp; index &lt; <span class="hljs-number">0xA200</span>) || <span class="hljs-keyword">this</span>.numRAMBanks &gt;= <span class="hljs-number">1</span>) {
				<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.cMBC3) {
					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteMBCRAM;
				}
				<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-772">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-772">&#182;</a>
              </div>
              <p>MBC3 RTC + RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteMBC3RAM;
				}
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xE000</span>) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC &amp;&amp; index &gt;= <span class="hljs-number">0xD000</span>) {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteGBCRAM;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteNormal;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xFE00</span>) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC &amp;&amp; index &gt;= <span class="hljs-number">0xF000</span>) {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteECHOGBCRAM;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteECHONormal;
			}
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">0xFEA0</span>) {
			<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteOAMRAM;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0xFF00</span>) {
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {											<span class="hljs-comment">//Only GBC has access to this RAM.</span>
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteNormal;
			}
			<span class="hljs-keyword">else</span> {
				<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
			}
		}
		<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-773">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-773">&#182;</a>
              </div>
              <p>Start the I/O initialization by filling in the slots as normal memory:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">this</span>.memoryWriter[index] = <span class="hljs-keyword">this</span>.memoryWriteNormal;
			<span class="hljs-keyword">this</span>.memoryHighWriter[index &amp; <span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryHighWriteNormal;
		}
	}
	<span class="hljs-keyword">this</span>.registerWriteJumpCompile();				<span class="hljs-comment">//Compile the I/O write functions separately...</span>
}
GameBoyCore.prototype.MBCWriteEnable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-774">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-774">&#182;</a>
              </div>
              <p>MBC RAM Bank Enable/Disable:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.MBCRAMBanksEnabled = ((data &amp; <span class="hljs-number">0x0F</span>) == <span class="hljs-number">0x0A</span>);	<span class="hljs-comment">//If lower nibble is 0x0A, then enable, otherwise disable.</span>
}
GameBoyCore.prototype.MBC1WriteROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-775">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-775">&#182;</a>
              </div>
              <p>MBC1 ROM bank switching:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.ROMBank1offs = (parentObj.ROMBank1offs &amp; <span class="hljs-number">0x60</span>) | (data &amp; <span class="hljs-number">0x1F</span>);
	parentObj.setCurrentMBC1ROMBank();
}
GameBoyCore.prototype.MBC1WriteRAMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-776">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-776">&#182;</a>
              </div>
              <p>MBC1 RAM bank switching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (parentObj.MBC1Mode) {</pre></div></div>
            
        </li>
        
        
        <li id="section-777">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-777">&#182;</a>
              </div>
              <p>4/32 Mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.currMBCRAMBank = data &amp; <span class="hljs-number">0x03</span>;
		parentObj.currMBCRAMBankPosition = (parentObj.currMBCRAMBank &lt;&lt; <span class="hljs-number">13</span>) - <span class="hljs-number">0xA000</span>;
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-778">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-778">&#182;</a>
              </div>
              <p>16/8 Mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.ROMBank1offs = ((data &amp; <span class="hljs-number">0x03</span>) &lt;&lt; <span class="hljs-number">5</span>) | (parentObj.ROMBank1offs &amp; <span class="hljs-number">0x1F</span>);
		parentObj.setCurrentMBC1ROMBank();
	}
}
GameBoyCore.prototype.MBC1WriteType = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-779">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-779">&#182;</a>
              </div>
              <p>MBC1 mode setting:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.MBC1Mode = ((data &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0x1</span>);
	<span class="hljs-keyword">if</span> (parentObj.MBC1Mode) {
		parentObj.ROMBank1offs &amp;= <span class="hljs-number">0x1F</span>;
		parentObj.setCurrentMBC1ROMBank();
	}
	<span class="hljs-keyword">else</span> {
		parentObj.currMBCRAMBank = <span class="hljs-number">0</span>;
		parentObj.currMBCRAMBankPosition = -<span class="hljs-number">0xA000</span>;
	}
}
GameBoyCore.prototype.MBC2WriteROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-780">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-780">&#182;</a>
              </div>
              <p>MBC2 ROM bank switching:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.ROMBank1offs = data &amp; <span class="hljs-number">0x0F</span>;
	parentObj.setCurrentMBC2AND3ROMBank();
}
GameBoyCore.prototype.MBC3WriteROMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-781">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-781">&#182;</a>
              </div>
              <p>MBC3 ROM bank switching:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.ROMBank1offs = data &amp; <span class="hljs-number">0x7F</span>;
	parentObj.setCurrentMBC2AND3ROMBank();
}
GameBoyCore.prototype.MBC3WriteRAMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.currMBCRAMBank = data;
	<span class="hljs-keyword">if</span> (data &lt; <span class="hljs-number">4</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-782">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-782">&#182;</a>
              </div>
              <p>MBC3 RAM bank switching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.currMBCRAMBankPosition = (parentObj.currMBCRAMBank &lt;&lt; <span class="hljs-number">13</span>) - <span class="hljs-number">0xA000</span>;
	}
}
GameBoyCore.prototype.MBC3WriteRTCLatch = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (data == <span class="hljs-number">0</span>) {
		parentObj.RTCisLatched = <span class="hljs-literal">false</span>;
	}
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!parentObj.RTCisLatched) {</pre></div></div>
            
        </li>
        
        
        <li id="section-783">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-783">&#182;</a>
              </div>
              <p>Copy over the current RTC time for reading.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		parentObj.RTCisLatched = <span class="hljs-literal">true</span>;
		parentObj.latchedSeconds = parentObj.RTCSeconds | <span class="hljs-number">0</span>;
		parentObj.latchedMinutes = parentObj.RTCMinutes;
		parentObj.latchedHours = parentObj.RTCHours;
		parentObj.latchedLDays = (parentObj.RTCDays &amp; <span class="hljs-number">0xFF</span>);
		parentObj.latchedHDays = parentObj.RTCDays &gt;&gt; <span class="hljs-number">8</span>;
	}
}
GameBoyCore.prototype.MBC5WriteROMBankLow = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-784">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-784">&#182;</a>
              </div>
              <p>MBC5 ROM bank switching:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.ROMBank1offs = (parentObj.ROMBank1offs &amp; <span class="hljs-number">0x100</span>) | data;
	parentObj.setCurrentMBC5ROMBank();
}
GameBoyCore.prototype.MBC5WriteROMBankHigh = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-785">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-785">&#182;</a>
              </div>
              <p>MBC5 ROM bank switching (by least significant bit):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.ROMBank1offs  = ((data &amp; <span class="hljs-number">0x01</span>) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.ROMBank1offs &amp; <span class="hljs-number">0xFF</span>);
	parentObj.setCurrentMBC5ROMBank();
}
GameBoyCore.prototype.MBC5WriteRAMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-786">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-786">&#182;</a>
              </div>
              <p>MBC5 RAM bank switching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.currMBCRAMBank = data &amp; <span class="hljs-number">0xF</span>;
	parentObj.currMBCRAMBankPosition = (parentObj.currMBCRAMBank &lt;&lt; <span class="hljs-number">13</span>) - <span class="hljs-number">0xA000</span>;
}
GameBoyCore.prototype.RUMBLEWriteRAMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-787">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-787">&#182;</a>
              </div>
              <p>MBC5 RAM bank switching
Like MBC5, but bit 3 of the lower nibble is used for rumbling and bit 2 is ignored.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.currMBCRAMBank = data &amp; <span class="hljs-number">0x03</span>;
	parentObj.currMBCRAMBankPosition = (parentObj.currMBCRAMBank &lt;&lt; <span class="hljs-number">13</span>) - <span class="hljs-number">0xA000</span>;
}
GameBoyCore.prototype.HuC3WriteRAMBank = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-788">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-788">&#182;</a>
              </div>
              <p>HuC3 RAM bank switching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	parentObj.currMBCRAMBank = data &amp; <span class="hljs-number">0x03</span>;
	parentObj.currMBCRAMBankPosition = (parentObj.currMBCRAMBank &lt;&lt; <span class="hljs-number">13</span>) - <span class="hljs-number">0xA000</span>;
}
GameBoyCore.prototype.cartIgnoreWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-789">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-789">&#182;</a>
              </div>
              <p>We might have encountered illegal RAM writing or such, so just do nothing…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>}
GameBoyCore.prototype.memoryWriteNormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.memory[address] = data;
}
GameBoyCore.prototype.memoryHighWriteNormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.memory[<span class="hljs-number">0xFF00</span> | address] = data;
}
GameBoyCore.prototype.memoryWriteMBCRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.MBCRAMBanksEnabled || settings[<span class="hljs-number">10</span>]) {
		parentObj.MBCRam[address + parentObj.currMBCRAMBankPosition] = data;
	}
}
GameBoyCore.prototype.memoryWriteMBC3RAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.MBCRAMBanksEnabled || settings[<span class="hljs-number">10</span>]) {
		<span class="hljs-keyword">switch</span> (parentObj.currMBCRAMBank) {
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x00</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x01</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x02</span>:
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x03</span>:
				parentObj.MBCRam[address + parentObj.currMBCRAMBankPosition] = data;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x08</span>:
				<span class="hljs-keyword">if</span> (data &lt; <span class="hljs-number">60</span>) {
					parentObj.RTCSeconds = data;
				}
				<span class="hljs-keyword">else</span> {
					cout(<span class="hljs-string">"(Bank #"</span> + parentObj.currMBCRAMBank + <span class="hljs-string">") RTC write out of range: "</span> + data, <span class="hljs-number">1</span>);
				}
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x09</span>:
				<span class="hljs-keyword">if</span> (data &lt; <span class="hljs-number">60</span>) {
					parentObj.RTCMinutes = data;
				}
				<span class="hljs-keyword">else</span> {
					cout(<span class="hljs-string">"(Bank #"</span> + parentObj.currMBCRAMBank + <span class="hljs-string">") RTC write out of range: "</span> + data, <span class="hljs-number">1</span>);
				}
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>:
				<span class="hljs-keyword">if</span> (data &lt; <span class="hljs-number">24</span>) {
					parentObj.RTCHours = data;
				}
				<span class="hljs-keyword">else</span> {
					cout(<span class="hljs-string">"(Bank #"</span> + parentObj.currMBCRAMBank + <span class="hljs-string">") RTC write out of range: "</span> + data, <span class="hljs-number">1</span>);
				}
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0B</span>:
				parentObj.RTCDays = (data &amp; <span class="hljs-number">0xFF</span>) | (parentObj.RTCDays &amp; <span class="hljs-number">0x100</span>);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">0x0C</span>:
				parentObj.RTCDayOverFlow = (data &gt; <span class="hljs-number">0x7F</span>);
				parentObj.RTCHalt = (data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>;
				parentObj.RTCDays = ((data &amp; <span class="hljs-number">0x1</span>) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.RTCDays &amp; <span class="hljs-number">0xFF</span>);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">default</span>:
				cout(<span class="hljs-string">"Invalid MBC3 bank address selected: "</span> + parentObj.currMBCRAMBank, <span class="hljs-number">0</span>);
		}
	}
}
GameBoyCore.prototype.memoryWriteGBCRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.GBCMemory[address + parentObj.gbcRamBankPosition] = data;
}
GameBoyCore.prototype.memoryWriteOAMRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">2</span>) {		<span class="hljs-comment">//OAM RAM cannot be written to in mode 2 &amp; 3</span>
		<span class="hljs-keyword">if</span> (parentObj.memory[address] != data) {
			parentObj.graphicsJIT();
			parentObj.memory[address] = data;
		}
	}
}
GameBoyCore.prototype.memoryWriteECHOGBCRAM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.GBCMemory[address + parentObj.gbcRamBankPositionECHO] = data;
}
GameBoyCore.prototype.memoryWriteECHONormal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	parentObj.memory[address - <span class="hljs-number">0x2000</span>] = data;
}
GameBoyCore.prototype.VRAMGBDATAWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">3</span>) {	<span class="hljs-comment">//VRAM cannot be written to during mode 3</span>
		<span class="hljs-keyword">if</span> (parentObj.memory[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-790">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-790">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.graphicsJIT();
			parentObj.memory[address] = data;
			parentObj.generateGBOAMTileLine(address);
		}
	}
}
GameBoyCore.prototype.VRAMGBDATAUpperWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">3</span>) {	<span class="hljs-comment">//VRAM cannot be written to during mode 3</span>
		<span class="hljs-keyword">if</span> (parentObj.memory[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-791">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-791">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.graphicsJIT();
			parentObj.memory[address] = data;
			parentObj.generateGBTileLine(address);
		}
	}
}
GameBoyCore.prototype.VRAMGBCDATAWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">3</span>) {	<span class="hljs-comment">//VRAM cannot be written to during mode 3</span>
		<span class="hljs-keyword">if</span> (parentObj.currVRAMBank == <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">if</span> (parentObj.memory[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-792">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-792">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.graphicsJIT();
				parentObj.memory[address] = data;
				parentObj.generateGBCTileLineBank1(address);
			}
		}
		<span class="hljs-keyword">else</span> {
			address &amp;= <span class="hljs-number">0x1FFF</span>;
			<span class="hljs-keyword">if</span> (parentObj.VRAM[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-793">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-793">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.graphicsJIT();
				parentObj.VRAM[address] = data;
				parentObj.generateGBCTileLineBank2(address);
			}
		}
	}
}
GameBoyCore.prototype.VRAMGBCHRMAPWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">3</span>) {	<span class="hljs-comment">//VRAM cannot be written to during mode 3</span>
		address &amp;= <span class="hljs-number">0x7FF</span>;
		<span class="hljs-keyword">if</span> (parentObj.BGCHRBank1[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-794">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-794">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.graphicsJIT();
			parentObj.BGCHRBank1[address] = data;
		}
	}
}
GameBoyCore.prototype.VRAMGBCCHRMAPWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
	<span class="hljs-keyword">if</span> (parentObj.modeSTAT &lt; <span class="hljs-number">3</span>) {	<span class="hljs-comment">//VRAM cannot be written to during mode 3</span>
		address &amp;= <span class="hljs-number">0x7FF</span>;
		<span class="hljs-keyword">if</span> (parentObj.BGCHRCurrentBank[address] != data) {</pre></div></div>
            
        </li>
        
        
        <li id="section-795">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-795">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.graphicsJIT();
			parentObj.BGCHRCurrentBank[address] = data;
		}
	}
}
GameBoyCore.prototype.DMAWrite = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(tilesToTransfer)</span> </span>{
	<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.halt) {</pre></div></div>
            
        </li>
        
        
        <li id="section-796">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-796">&#182;</a>
              </div>
              <p>Clock the CPU for the DMA transfer (CPU is halted during the transfer):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.CPUTicks += <span class="hljs-number">4</span> | ((tilesToTransfer &lt;&lt; <span class="hljs-number">5</span>) &lt;&lt; <span class="hljs-keyword">this</span>.doubleSpeedShifter);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-797">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-797">&#182;</a>
              </div>
              <p>Source address of the transfer:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> source = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF51</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF52</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-798">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-798">&#182;</a>
              </div>
              <p>Destination address in the VRAM memory range:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> destination = (<span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF53</span>] &lt;&lt; <span class="hljs-number">8</span>) | <span class="hljs-keyword">this</span>.memory[<span class="hljs-number">0xFF54</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-799">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-799">&#182;</a>
              </div>
              <p>Creating some references:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">var</span> memoryReader = <span class="hljs-keyword">this</span>.memoryReader;</pre></div></div>
            
        </li>
        
        
        <li id="section-800">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-800">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.graphicsJIT();
	<span class="hljs-keyword">var</span> memory = <span class="hljs-keyword">this</span>.memory;</pre></div></div>
            
        </li>
        
        
        <li id="section-801">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-801">&#182;</a>
              </div>
              <p>Determining which bank we’re working on so we can optimize:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currVRAMBank == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-802">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-802">&#182;</a>
              </div>
              <p>DMA transfer for VRAM bank 0:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">do</span> {
			<span class="hljs-keyword">if</span> (destination &lt; <span class="hljs-number">0x1800</span>) {
				memory[<span class="hljs-number">0x8000</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8001</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8002</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8003</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8004</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8005</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8006</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8007</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8008</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x8009</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800A</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800B</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800C</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800D</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800E</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				memory[<span class="hljs-number">0x800F</span> | destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.generateGBCTileBank1(destination);
				destination += <span class="hljs-number">0x10</span>;
			}
			<span class="hljs-keyword">else</span> {
				destination &amp;= <span class="hljs-number">0x7F0</span>;
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank1[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				destination = (destination + <span class="hljs-number">0x1800</span>) &amp; <span class="hljs-number">0x1FF0</span>;
			}
			source &amp;= <span class="hljs-number">0xFFF0</span>;
			--tilesToTransfer;
		} <span class="hljs-keyword">while</span> (tilesToTransfer &gt; <span class="hljs-number">0</span>);
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">var</span> VRAM = <span class="hljs-keyword">this</span>.VRAM;</pre></div></div>
            
        </li>
        
        
        <li id="section-803">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-803">&#182;</a>
              </div>
              <p>DMA transfer for VRAM bank 1:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">do</span> {
			<span class="hljs-keyword">if</span> (destination &lt; <span class="hljs-number">0x1800</span>) {
				VRAM[destination] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x1</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x2</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x3</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x4</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x5</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x6</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x7</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x8</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0x9</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xA</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xB</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xC</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xD</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xE</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				VRAM[destination | <span class="hljs-number">0xF</span>] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.generateGBCTileBank2(destination);
				destination += <span class="hljs-number">0x10</span>;
			}
			<span class="hljs-keyword">else</span> {
				destination &amp;= <span class="hljs-number">0x7F0</span>;
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				<span class="hljs-keyword">this</span>.BGCHRBank2[destination++] = memoryReader[source](<span class="hljs-keyword">this</span>, source++);
				destination = (destination + <span class="hljs-number">0x1800</span>) &amp; <span class="hljs-number">0x1FF0</span>;
			}
			source &amp;= <span class="hljs-number">0xFFF0</span>;
			--tilesToTransfer;
		} <span class="hljs-keyword">while</span> (tilesToTransfer &gt; <span class="hljs-number">0</span>);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-804">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-804">&#182;</a>
              </div>
              <p>Update the HDMA registers to their next addresses:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	memory[<span class="hljs-number">0xFF51</span>] = source &gt;&gt; <span class="hljs-number">8</span>;
	memory[<span class="hljs-number">0xFF52</span>] = source &amp; <span class="hljs-number">0xF0</span>;
	memory[<span class="hljs-number">0xFF53</span>] = destination &gt;&gt; <span class="hljs-number">8</span>;
	memory[<span class="hljs-number">0xFF54</span>] = destination &amp; <span class="hljs-number">0xF0</span>;
}
GameBoyCore.prototype.registerWriteJumpCompile = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-805">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-805">&#182;</a>
              </div>
              <p>I/O Registers (GB + GBC):
JoyPad</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF00</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF00</span>] = (data &amp; <span class="hljs-number">0x30</span>) | ((((data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0</span>) ? (parentObj.JoyPad &gt;&gt; <span class="hljs-number">4</span>) : <span class="hljs-number">0xF</span>) &amp; (((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0</span>) ? (parentObj.JoyPad &amp; <span class="hljs-number">0xF</span>) : <span class="hljs-number">0xF</span>));
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-806">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-806">&#182;</a>
              </div>
              <p>SB (Serial Transfer Data)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF01</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF02</span>] &lt; <span class="hljs-number">0x80</span>) {	<span class="hljs-comment">//Cannot write while a serial transfer is active.</span>
			parentObj.memory[<span class="hljs-number">0xFF01</span>] = data;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-807">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-807">&#182;</a>
              </div>
              <p>SC (Serial Transfer Control):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2</span>] = <span class="hljs-keyword">this</span>.memoryHighWriteNormal;
	<span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF02</span>] = <span class="hljs-keyword">this</span>.memoryWriteNormal;</pre></div></div>
            
        </li>
        
        
        <li id="section-808">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-808">&#182;</a>
              </div>
              <p>Unmapped I/O:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF03</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-809">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-809">&#182;</a>
              </div>
              <p>DIV</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF04</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.DIVTicks &amp;= <span class="hljs-number">0xFF</span>;	<span class="hljs-comment">//Update DIV for realignment.</span>
		parentObj.memory[<span class="hljs-number">0xFF04</span>] = <span class="hljs-number">0</span>;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-810">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-810">&#182;</a>
              </div>
              <p>TIMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x5</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF05</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF05</span>] = data;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-811">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-811">&#182;</a>
              </div>
              <p>TMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF06</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF06</span>] = data;
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-812">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-812">&#182;</a>
              </div>
              <p>TAC</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x7</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF07</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF07</span>] = data &amp; <span class="hljs-number">0x07</span>;
		parentObj.TIMAEnabled = (data &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0x04</span>;
		parentObj.TACClocker = <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">4</span>, ((data &amp; <span class="hljs-number">0x3</span>) != <span class="hljs-number">0</span>) ? (data &amp; <span class="hljs-number">0x3</span>) : <span class="hljs-number">4</span>) &lt;&lt; <span class="hljs-number">2</span>;	<span class="hljs-comment">//TODO: Find a way to not make a conditional in here...</span>
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-813">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-813">&#182;</a>
              </div>
              <p>Unmapped I/O:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x8</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF08</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x9</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF09</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xA</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0A</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xB</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0B</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xC</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0C</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xD</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0D</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xE</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0E</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-814">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-814">&#182;</a>
              </div>
              <p>IF (Interrupt Request)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xF</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF0F</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.interruptsRequested = data;
		parentObj.checkIRQMatching();
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-815">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-815">&#182;</a>
              </div>
              <p>NR10:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x10</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF10</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (parentObj.channel1decreaseSweep &amp;&amp; (data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0</span>) {
				<span class="hljs-keyword">if</span> (parentObj.channel1Swept) {
					parentObj.channel1SweepFault = <span class="hljs-literal">true</span>;
				}
			}
			parentObj.channel1lastTimeSweep = (data &amp; <span class="hljs-number">0x70</span>) &gt;&gt; <span class="hljs-number">4</span>;
			parentObj.channel1frequencySweepDivider = data &amp; <span class="hljs-number">0x07</span>;
			parentObj.channel1decreaseSweep = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF10</span>] = data;
			parentObj.channel1EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-816">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-816">&#182;</a>
              </div>
              <p>NR11:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x11</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF11</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled || !parentObj.cGBC) {
			<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
				parentObj.audioJIT();
			}
			<span class="hljs-keyword">else</span> {
				data &amp;= <span class="hljs-number">0x3F</span>;
			}
			parentObj.channel1CachedDuty = parentObj.dutyLookup[data &gt;&gt; <span class="hljs-number">6</span>];
			parentObj.channel1totalLength = <span class="hljs-number">0x40</span> - (data &amp; <span class="hljs-number">0x3F</span>);
			parentObj.memory[<span class="hljs-number">0xFF11</span>] = data;
			parentObj.channel1EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-817">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-817">&#182;</a>
              </div>
              <p>NR12:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x12</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF12</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (parentObj.channel1Enabled &amp;&amp; parentObj.channel1envelopeSweeps == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-818">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-818">&#182;</a>
              </div>
              <p>Zombie Volume PAPU Bug:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> (((parentObj.memory[<span class="hljs-number">0xFF12</span>] ^ data) &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0x8</span>) {
					<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF12</span>] &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0</span>) {
						<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF12</span>] &amp; <span class="hljs-number">0x7</span>) == <span class="hljs-number">0x7</span>) {
							parentObj.channel1envelopeVolume += <span class="hljs-number">2</span>;
						}
						<span class="hljs-keyword">else</span> {
							++parentObj.channel1envelopeVolume;
						}
					}
					parentObj.channel1envelopeVolume = (<span class="hljs-number">16</span> - parentObj.channel1envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF12</span>] &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0x8</span>) {
					parentObj.channel1envelopeVolume = (<span class="hljs-number">1</span> + parentObj.channel1envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				parentObj.channel1OutputLevelCache();
			}
			parentObj.channel1envelopeType = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF12</span>] = data;
			parentObj.channel1VolumeEnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-819">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-819">&#182;</a>
              </div>
              <p>NR13:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x13</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF13</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.channel1frequency = (parentObj.channel1frequency &amp; <span class="hljs-number">0x700</span>) | data;
			parentObj.channel1FrequencyTracker = (<span class="hljs-number">0x800</span> - parentObj.channel1frequency) &lt;&lt; <span class="hljs-number">2</span>;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-820">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-820">&#182;</a>
              </div>
              <p>NR14:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x14</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF14</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.channel1consecutive = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x0</span>);
			parentObj.channel1frequency = ((data &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.channel1frequency &amp; <span class="hljs-number">0xFF</span>);
			parentObj.channel1FrequencyTracker = (<span class="hljs-number">0x800</span> - parentObj.channel1frequency) &lt;&lt; <span class="hljs-number">2</span>;
			<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0x7F</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-821">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-821">&#182;</a>
              </div>
              <p>Reload 0xFF10:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.channel1timeSweep = parentObj.channel1lastTimeSweep;
				parentObj.channel1Swept = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-822">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-822">&#182;</a>
              </div>
              <p>Reload 0xFF12:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">var</span> nr12 = parentObj.memory[<span class="hljs-number">0xFF12</span>];
				parentObj.channel1envelopeVolume = nr12 &gt;&gt; <span class="hljs-number">4</span>;
				parentObj.channel1OutputLevelCache();
				parentObj.channel1envelopeSweepsLast = (nr12 &amp; <span class="hljs-number">0x7</span>) - <span class="hljs-number">1</span>;
				<span class="hljs-keyword">if</span> (parentObj.channel1totalLength == <span class="hljs-number">0</span>) {
					parentObj.channel1totalLength = <span class="hljs-number">0x40</span>;
				}
				<span class="hljs-keyword">if</span> (parentObj.channel1lastTimeSweep &gt; <span class="hljs-number">0</span> || parentObj.channel1frequencySweepDivider &gt; <span class="hljs-number">0</span>) {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x1</span>;
				}
				<span class="hljs-keyword">else</span> {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] &amp;= <span class="hljs-number">0xFE</span>;
				}
				<span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x1</span>;
				}
				parentObj.channel1ShadowFrequency = parentObj.channel1frequency;</pre></div></div>
            
        </li>
        
        
        <li id="section-823">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-823">&#182;</a>
              </div>
              <p>Reset frequency overflow check + frequency sweep type check:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.channel1SweepFault = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-824">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-824">&#182;</a>
              </div>
              <p>Supposed to run immediately:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.channel1AudioSweepPerformDummy();
			}
			parentObj.channel1EnableCheck();
			parentObj.memory[<span class="hljs-number">0xFF14</span>] = data;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-825">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-825">&#182;</a>
              </div>
              <p>NR20 (Unused I/O):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x15</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF15</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-826">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-826">&#182;</a>
              </div>
              <p>NR21:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x16</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF16</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled || !parentObj.cGBC) {
			<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
				parentObj.audioJIT();
			}
			<span class="hljs-keyword">else</span> {
				data &amp;= <span class="hljs-number">0x3F</span>;
			}
			parentObj.channel2CachedDuty = parentObj.dutyLookup[data &gt;&gt; <span class="hljs-number">6</span>];
			parentObj.channel2totalLength = <span class="hljs-number">0x40</span> - (data &amp; <span class="hljs-number">0x3F</span>);
			parentObj.memory[<span class="hljs-number">0xFF16</span>] = data;
			parentObj.channel2EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-827">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-827">&#182;</a>
              </div>
              <p>NR22:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x17</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF17</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (parentObj.channel2Enabled &amp;&amp; parentObj.channel2envelopeSweeps == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-828">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-828">&#182;</a>
              </div>
              <p>Zombie Volume PAPU Bug:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> (((parentObj.memory[<span class="hljs-number">0xFF17</span>] ^ data) &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0x8</span>) {
					<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF17</span>] &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0</span>) {
						<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF17</span>] &amp; <span class="hljs-number">0x7</span>) == <span class="hljs-number">0x7</span>) {
							parentObj.channel2envelopeVolume += <span class="hljs-number">2</span>;
						}
						<span class="hljs-keyword">else</span> {
							++parentObj.channel2envelopeVolume;
						}
					}
					parentObj.channel2envelopeVolume = (<span class="hljs-number">16</span> - parentObj.channel2envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF17</span>] &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0x8</span>) {
					parentObj.channel2envelopeVolume = (<span class="hljs-number">1</span> + parentObj.channel2envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				parentObj.channel2OutputLevelCache();
			}
			parentObj.channel2envelopeType = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF17</span>] = data;
			parentObj.channel2VolumeEnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-829">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-829">&#182;</a>
              </div>
              <p>NR23:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x18</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF18</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.channel2frequency = (parentObj.channel2frequency &amp; <span class="hljs-number">0x700</span>) | data;
			parentObj.channel2FrequencyTracker = (<span class="hljs-number">0x800</span> - parentObj.channel2frequency) &lt;&lt; <span class="hljs-number">2</span>;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-830">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-830">&#182;</a>
              </div>
              <p>NR24:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x19</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF19</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0x7F</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-831">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-831">&#182;</a>
              </div>
              <p>Reload 0xFF17:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">var</span> nr22 = parentObj.memory[<span class="hljs-number">0xFF17</span>];
				parentObj.channel2envelopeVolume = nr22 &gt;&gt; <span class="hljs-number">4</span>;
				parentObj.channel2OutputLevelCache();
				parentObj.channel2envelopeSweepsLast = (nr22 &amp; <span class="hljs-number">0x7</span>) - <span class="hljs-number">1</span>;
				<span class="hljs-keyword">if</span> (parentObj.channel2totalLength == <span class="hljs-number">0</span>) {
					parentObj.channel2totalLength = <span class="hljs-number">0x40</span>;
				}
				<span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x2</span>;
				}
			}
			parentObj.channel2consecutive = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x0</span>);
			parentObj.channel2frequency = ((data &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.channel2frequency &amp; <span class="hljs-number">0xFF</span>);
			parentObj.channel2FrequencyTracker = (<span class="hljs-number">0x800</span> - parentObj.channel2frequency) &lt;&lt; <span class="hljs-number">2</span>;
			parentObj.memory[<span class="hljs-number">0xFF19</span>] = data;
			parentObj.channel2EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-832">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-832">&#182;</a>
              </div>
              <p>NR30:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (!parentObj.channel3canPlay &amp;&amp; data &gt;= <span class="hljs-number">0x80</span>) {
				parentObj.channel3lastSampleLookup = <span class="hljs-number">0</span>;
				parentObj.channel3UpdateCache();
			}
			parentObj.channel3canPlay = (data &gt; <span class="hljs-number">0x7F</span>);
			<span class="hljs-keyword">if</span> (parentObj.channel3canPlay &amp;&amp; parentObj.memory[<span class="hljs-number">0xFF1A</span>] &gt; <span class="hljs-number">0x7F</span> &amp;&amp; !parentObj.channel3consecutive) {
				parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x4</span>;
			}
			parentObj.memory[<span class="hljs-number">0xFF1A</span>] = data;</pre></div></div>
            
        </li>
        
        
        <li id="section-833">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-833">&#182;</a>
              </div>
              <p>parentObj.channel3EnableCheck();</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-834">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-834">&#182;</a>
              </div>
              <p>NR31:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1B</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled || !parentObj.cGBC) {
			<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
				parentObj.audioJIT();
			}
			parentObj.channel3totalLength = <span class="hljs-number">0x100</span> - data;
			parentObj.channel3EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-835">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-835">&#182;</a>
              </div>
              <p>NR32:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1C</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1C</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			data &amp;= <span class="hljs-number">0x60</span>;
			parentObj.memory[<span class="hljs-number">0xFF1C</span>] = data;
			parentObj.channel3patternType = (data == <span class="hljs-number">0</span>) ? <span class="hljs-number">4</span> : ((data &gt;&gt; <span class="hljs-number">5</span>) - <span class="hljs-number">1</span>);
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-836">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-836">&#182;</a>
              </div>
              <p>NR33:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1D</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1D</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.channel3frequency = (parentObj.channel3frequency &amp; <span class="hljs-number">0x700</span>) | data;
			parentObj.channel3FrequencyPeriod = (<span class="hljs-number">0x800</span> - parentObj.channel3frequency) &lt;&lt; <span class="hljs-number">1</span>;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-837">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-837">&#182;</a>
              </div>
              <p>NR34:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1E</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1E</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0x7F</span>) {
				<span class="hljs-keyword">if</span> (parentObj.channel3totalLength == <span class="hljs-number">0</span>) {
					parentObj.channel3totalLength = <span class="hljs-number">0x100</span>;
				}
				parentObj.channel3lastSampleLookup = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x4</span>;
				}
			}
			parentObj.channel3consecutive = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x0</span>);
			parentObj.channel3frequency = ((data &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">8</span>) | (parentObj.channel3frequency &amp; <span class="hljs-number">0xFF</span>);
			parentObj.channel3FrequencyPeriod = (<span class="hljs-number">0x800</span> - parentObj.channel3frequency) &lt;&lt; <span class="hljs-number">1</span>;
			parentObj.memory[<span class="hljs-number">0xFF1E</span>] = data;
			parentObj.channel3EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-838">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-838">&#182;</a>
              </div>
              <p>NR40 (Unused I/O):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x1F</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF1F</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-839">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-839">&#182;</a>
              </div>
              <p>NR41:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x20</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF20</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled || !parentObj.cGBC) {
			<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
				parentObj.audioJIT();
			}
			parentObj.channel4totalLength = <span class="hljs-number">0x40</span> - (data &amp; <span class="hljs-number">0x3F</span>);
			parentObj.channel4EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-840">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-840">&#182;</a>
              </div>
              <p>NR42:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x21</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF21</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			<span class="hljs-keyword">if</span> (parentObj.channel4Enabled &amp;&amp; parentObj.channel4envelopeSweeps == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-841">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-841">&#182;</a>
              </div>
              <p>Zombie Volume PAPU Bug:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				<span class="hljs-keyword">if</span> (((parentObj.memory[<span class="hljs-number">0xFF21</span>] ^ data) &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0x8</span>) {
					<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF21</span>] &amp; <span class="hljs-number">0x8</span>) == <span class="hljs-number">0</span>) {
						<span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF21</span>] &amp; <span class="hljs-number">0x7</span>) == <span class="hljs-number">0x7</span>) {
							parentObj.channel4envelopeVolume += <span class="hljs-number">2</span>;
						}
						<span class="hljs-keyword">else</span> {
							++parentObj.channel4envelopeVolume;
						}
					}
					parentObj.channel4envelopeVolume = (<span class="hljs-number">16</span> - parentObj.channel4envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((parentObj.memory[<span class="hljs-number">0xFF21</span>] &amp; <span class="hljs-number">0xF</span>) == <span class="hljs-number">0x8</span>) {
					parentObj.channel4envelopeVolume = (<span class="hljs-number">1</span> + parentObj.channel4envelopeVolume) &amp; <span class="hljs-number">0xF</span>;
				}
				parentObj.channel4currentVolume = parentObj.channel4envelopeVolume &lt;&lt; parentObj.channel4VolumeShifter;
			}
			parentObj.channel4envelopeType = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF21</span>] = data;
			parentObj.channel4UpdateCache();
			parentObj.channel4VolumeEnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-842">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-842">&#182;</a>
              </div>
              <p>NR43:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x22</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF22</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.channel4FrequencyPeriod = <span class="hljs-built_in">Math</span>.max((data &amp; <span class="hljs-number">0x7</span>) &lt;&lt; <span class="hljs-number">4</span>, <span class="hljs-number">8</span>) &lt;&lt; (data &gt;&gt; <span class="hljs-number">4</span>);
			<span class="hljs-keyword">var</span> bitWidth = (data &amp; <span class="hljs-number">0x8</span>);
			<span class="hljs-keyword">if</span> ((bitWidth == <span class="hljs-number">0x8</span> &amp;&amp; parentObj.channel4BitRange == <span class="hljs-number">0x7FFF</span>) || (bitWidth == <span class="hljs-number">0</span> &amp;&amp; parentObj.channel4BitRange == <span class="hljs-number">0x7F</span>)) {
				parentObj.channel4lastSampleLookup = <span class="hljs-number">0</span>;
				parentObj.channel4BitRange = (bitWidth == <span class="hljs-number">0x8</span>) ? <span class="hljs-number">0x7F</span> : <span class="hljs-number">0x7FFF</span>;
				parentObj.channel4VolumeShifter = (bitWidth == <span class="hljs-number">0x8</span>) ? <span class="hljs-number">7</span> : <span class="hljs-number">15</span>;
				parentObj.channel4currentVolume = parentObj.channel4envelopeVolume &lt;&lt; parentObj.channel4VolumeShifter;
				parentObj.noiseSampleTable = (bitWidth == <span class="hljs-number">0x8</span>) ? parentObj.LSFR7Table : parentObj.LSFR15Table;
			}
			parentObj.memory[<span class="hljs-number">0xFF22</span>] = data;
			parentObj.channel4UpdateCache();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-843">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-843">&#182;</a>
              </div>
              <p>NR44:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x23</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF23</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled) {
			parentObj.audioJIT();
			parentObj.memory[<span class="hljs-number">0xFF23</span>] = data;
			parentObj.channel4consecutive = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x0</span>);
			<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0x7F</span>) {
				<span class="hljs-keyword">var</span> nr42 = parentObj.memory[<span class="hljs-number">0xFF21</span>];
				parentObj.channel4envelopeVolume = nr42 &gt;&gt; <span class="hljs-number">4</span>;
				parentObj.channel4currentVolume = parentObj.channel4envelopeVolume &lt;&lt; parentObj.channel4VolumeShifter;
				parentObj.channel4envelopeSweepsLast = (nr42 &amp; <span class="hljs-number">0x7</span>) - <span class="hljs-number">1</span>;
				<span class="hljs-keyword">if</span> (parentObj.channel4totalLength == <span class="hljs-number">0</span>) {
					parentObj.channel4totalLength = <span class="hljs-number">0x40</span>;
				}
				<span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) {
					parentObj.memory[<span class="hljs-number">0xFF26</span>] |= <span class="hljs-number">0x8</span>;
				}
			}
			parentObj.channel4EnableCheck();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-844">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-844">&#182;</a>
              </div>
              <p>NR50:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x24</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF24</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled &amp;&amp; parentObj.memory[<span class="hljs-number">0xFF24</span>] != data) {
			parentObj.audioJIT();
			parentObj.memory[<span class="hljs-number">0xFF24</span>] = data;
			parentObj.VinLeftChannelMasterVolume = ((data &gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0x07</span>) + <span class="hljs-number">1</span>;
			parentObj.VinRightChannelMasterVolume = (data &amp; <span class="hljs-number">0x07</span>) + <span class="hljs-number">1</span>;
			parentObj.mixerOutputLevelCache();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-845">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-845">&#182;</a>
              </div>
              <p>NR51:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x25</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF25</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled &amp;&amp; parentObj.memory[<span class="hljs-number">0xFF25</span>] != data) {
			parentObj.audioJIT();
			parentObj.memory[<span class="hljs-number">0xFF25</span>] = data;
			parentObj.rightChannel1 = ((data &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
			parentObj.rightChannel2 = ((data &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0x02</span>);
			parentObj.rightChannel3 = ((data &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0x04</span>);
			parentObj.rightChannel4 = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.leftChannel1 = ((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
			parentObj.leftChannel2 = ((data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>);
			parentObj.leftChannel3 = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>);
			parentObj.leftChannel4 = (data &gt; <span class="hljs-number">0x7F</span>);
			parentObj.channel1OutputLevelCache();
			parentObj.channel2OutputLevelCache();
			parentObj.channel3OutputLevelCache();
			parentObj.channel4OutputLevelCache();
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-846">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-846">&#182;</a>
              </div>
              <p>NR52:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x26</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF26</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.audioJIT();
		<span class="hljs-keyword">if</span> (!parentObj.soundMasterEnabled &amp;&amp; data &gt; <span class="hljs-number">0x7F</span>) {
			parentObj.memory[<span class="hljs-number">0xFF26</span>] = <span class="hljs-number">0x80</span>;
			parentObj.soundMasterEnabled = <span class="hljs-literal">true</span>;
			parentObj.initializeAudioStartState();
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentObj.soundMasterEnabled &amp;&amp; data &lt; <span class="hljs-number">0x80</span>) {
			parentObj.memory[<span class="hljs-number">0xFF26</span>] = <span class="hljs-number">0</span>;
			parentObj.soundMasterEnabled = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-847">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-847">&#182;</a>
              </div>
              <p>GBDev wiki says the registers are written with zeros on power off:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0xFF10</span>; index &lt; <span class="hljs-number">0xFF26</span>; index++) {
				parentObj.memoryWriter[index](parentObj, index, <span class="hljs-number">0</span>);
			}
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-848">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-848">&#182;</a>
              </div>
              <p>0xFF27 to 0xFF2F don’t do anything…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x27</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF27</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x28</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF28</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x29</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF29</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2A</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2B</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2C</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2C</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2D</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2D</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2E</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2E</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2F</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF2F</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-849">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-849">&#182;</a>
              </div>
              <p>WAVE PCM RAM:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x30</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF30</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x31</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF31</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x1</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x32</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF32</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x2</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x33</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF33</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x3</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x34</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF34</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x4</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x35</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF35</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x5</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x36</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF36</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x6</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x37</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF37</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x7</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x38</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF38</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x8</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x39</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF39</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0x9</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xA</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3B</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xB</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3C</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3C</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xC</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3D</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3D</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xD</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3E</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3E</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xE</span>, data);
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x3F</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF3F</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.channel3WriteRAM(<span class="hljs-number">0xF</span>, data);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-850">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-850">&#182;</a>
              </div>
              <p>SCY</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x42</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF42</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.backgroundY != data) {
			parentObj.midScanLineJIT();
			parentObj.backgroundY = data;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-851">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-851">&#182;</a>
              </div>
              <p>SCX</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x43</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF43</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.backgroundX != data) {
			parentObj.midScanLineJIT();
			parentObj.backgroundX = data;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-852">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-852">&#182;</a>
              </div>
              <p>LY</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x44</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF44</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-853">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-853">&#182;</a>
              </div>
              <p>Read Only:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span> (parentObj.LCDisOn) {</pre></div></div>
            
        </li>
        
        
        <li id="section-854">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-854">&#182;</a>
              </div>
              <p>Gambatte says to do this:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			parentObj.modeSTAT = <span class="hljs-number">2</span>;
			parentObj.midScanlineOffset = -<span class="hljs-number">1</span>;
			parentObj.totalLinesPassed = parentObj.currentX = parentObj.queuedScanLines = parentObj.lastUnrenderedLine = parentObj.LCDTicks = parentObj.STATTracker = parentObj.actualScanLine = parentObj.memory[<span class="hljs-number">0xFF44</span>] = <span class="hljs-number">0</span>;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-855">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-855">&#182;</a>
              </div>
              <p>LYC</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x45</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF45</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF45</span>] != data) {
			parentObj.memory[<span class="hljs-number">0xFF45</span>] = data;
			<span class="hljs-keyword">if</span> (parentObj.LCDisOn) {
				parentObj.matchLYC();	<span class="hljs-comment">//Get the compare of the first scan line.</span>
			}
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-856">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-856">&#182;</a>
              </div>
              <p>WY</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.windowY != data) {
			parentObj.midScanLineJIT();
			parentObj.windowY = data;
		}
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-857">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-857">&#182;</a>
              </div>
              <p>WX</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4B</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF4B</span>] != data) {
			parentObj.midScanLineJIT();
			parentObj.memory[<span class="hljs-number">0xFF4B</span>] = data;
			parentObj.windowX = data - <span class="hljs-number">7</span>;
		}
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x72</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF72</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF72</span>] = data;
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x73</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF73</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF73</span>] = data;
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x75</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF75</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.memory[<span class="hljs-number">0xFF75</span>] = data;
	}
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x76</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF76</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x77</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF77</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;</pre></div></div>
            
        </li>
        
        
        <li id="section-858">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-858">&#182;</a>
              </div>
              <p>IE (Interrupt Enable)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0xFF</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFFFF</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
		parentObj.interruptsEnabled = data;
		parentObj.checkIRQMatching();
	}
	<span class="hljs-keyword">this</span>.recompileModelSpecificIOWriteHandling();
	<span class="hljs-keyword">this</span>.recompileBootIOWriteHandling();
}
GameBoyCore.prototype.recompileModelSpecificIOWriteHandling = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {</pre></div></div>
            
        </li>
        
        
        <li id="section-859">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-859">&#182;</a>
              </div>
              <p>GameBoy Color Specific I/O:
SC (Serial Transfer Control Register)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF02</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (((data &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0x1</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-860">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-860">&#182;</a>
              </div>
              <p>Internal clock:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.memory[<span class="hljs-number">0xFF02</span>] = (data &amp; <span class="hljs-number">0x7F</span>);
				parentObj.serialTimer = ((data &amp; <span class="hljs-number">0x2</span>) == <span class="hljs-number">0</span>) ? <span class="hljs-number">4096</span> : <span class="hljs-number">128</span>;	<span class="hljs-comment">//Set the Serial IRQ counter.</span>
				parentObj.serialShiftTimer = parentObj.serialShiftTimerAllocated = ((data &amp; <span class="hljs-number">0x2</span>) == <span class="hljs-number">0</span>) ? <span class="hljs-number">512</span> : <span class="hljs-number">16</span>;	<span class="hljs-comment">//Set the transfer data shift counter.</span>
			}
			<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-861">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-861">&#182;</a>
              </div>
              <p>External clock:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.memory[<span class="hljs-number">0xFF02</span>] = data;
				parentObj.serialShiftTimer = parentObj.serialShiftTimerAllocated = parentObj.serialTimer = <span class="hljs-number">0</span>;	<span class="hljs-comment">//Zero the timers, since we're emulating as if nothing is connected.</span>
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x40</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF40</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF40</span>] != data) {
				parentObj.midScanLineJIT();
				<span class="hljs-keyword">var</span> temp_var = (data &gt; <span class="hljs-number">0x7F</span>);
				<span class="hljs-keyword">if</span> (temp_var != parentObj.LCDisOn) {</pre></div></div>
            
        </li>
        
        
        <li id="section-862">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-862">&#182;</a>
              </div>
              <p>When the display mode changes…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.LCDisOn = temp_var;
					parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x78</span>;
					parentObj.midScanlineOffset = -<span class="hljs-number">1</span>;
					parentObj.totalLinesPassed = parentObj.currentX = parentObj.queuedScanLines = parentObj.lastUnrenderedLine = parentObj.STATTracker = parentObj.LCDTicks = parentObj.actualScanLine = parentObj.memory[<span class="hljs-number">0xFF44</span>] = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">if</span> (parentObj.LCDisOn) {
						parentObj.modeSTAT = <span class="hljs-number">2</span>;
						parentObj.matchLYC();	<span class="hljs-comment">//Get the compare of the first scan line.</span>
						parentObj.LCDCONTROL = parentObj.LINECONTROL;
					}
					<span class="hljs-keyword">else</span> {
						parentObj.modeSTAT = <span class="hljs-number">0</span>;
						parentObj.LCDCONTROL = parentObj.DISPLAYOFFCONTROL;
						parentObj.DisplayShowOff();
					}
					parentObj.interruptsRequested &amp;= <span class="hljs-number">0xFD</span>;
				}
				parentObj.gfxWindowCHRBankPosition = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) ? <span class="hljs-number">0x400</span> : <span class="hljs-number">0</span>;
				parentObj.gfxWindowDisplay = ((data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>);
				parentObj.gfxBackgroundBankOffset = ((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>) ? <span class="hljs-number">0</span> : <span class="hljs-number">0x80</span>;
				parentObj.gfxBackgroundCHRBankPosition = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>) ? <span class="hljs-number">0x400</span> : <span class="hljs-number">0</span>;
				parentObj.gfxSpriteNormalHeight = ((data &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
				parentObj.gfxSpriteShow = ((data &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0x02</span>);
				parentObj.BGPriorityEnabled = ((data &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
				parentObj.priorityFlaggingPathRebuild();	<span class="hljs-comment">//Special case the priority flagging as an optimization.</span>
				parentObj.memory[<span class="hljs-number">0xFF40</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x41</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF41</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.LYCMatchTriggerSTAT = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>);
			parentObj.mode2TriggerSTAT = ((data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>);
			parentObj.mode1TriggerSTAT = ((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
			parentObj.mode0TriggerSTAT = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF41</span>] = data &amp; <span class="hljs-number">0x78</span>;
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x46</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF46</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF46</span>] = data;
			<span class="hljs-keyword">if</span> (data &lt; <span class="hljs-number">0xE0</span>) {
				data &lt;&lt;= <span class="hljs-number">8</span>;
				address = <span class="hljs-number">0xFE00</span>;
				<span class="hljs-keyword">var</span> stat = parentObj.modeSTAT;
				parentObj.modeSTAT = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">var</span> newData = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">do</span> {
					newData = parentObj.memoryReader[data](parentObj, data++);
					<span class="hljs-keyword">if</span> (newData != parentObj.memory[address]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-863">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-863">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						parentObj.modeSTAT = stat;
						parentObj.graphicsJIT();
						parentObj.modeSTAT = <span class="hljs-number">0</span>;
						parentObj.memory[address++] = newData;
						<span class="hljs-keyword">break</span>;
					}
				} <span class="hljs-keyword">while</span> (++address &lt; <span class="hljs-number">0xFEA0</span>);
				<span class="hljs-keyword">if</span> (address &lt; <span class="hljs-number">0xFEA0</span>) {
					<span class="hljs-keyword">do</span> {
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
					} <span class="hljs-keyword">while</span> (address &lt; <span class="hljs-number">0xFEA0</span>);
				}
				parentObj.modeSTAT = stat;
			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-864">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-864">&#182;</a>
              </div>
              <p>KEY1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4D</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4D</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF4D</span>] = (data &amp; <span class="hljs-number">0x7F</span>) | (parentObj.memory[<span class="hljs-number">0xFF4D</span>] &amp; <span class="hljs-number">0x80</span>);
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4F</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4F</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.currVRAMBank = data &amp; <span class="hljs-number">0x01</span>;
			<span class="hljs-keyword">if</span> (parentObj.currVRAMBank &gt; <span class="hljs-number">0</span>) {
				parentObj.BGCHRCurrentBank = parentObj.BGCHRBank2;
			}
			<span class="hljs-keyword">else</span> {
				parentObj.BGCHRCurrentBank = parentObj.BGCHRBank1;
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-865">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-865">&#182;</a>
              </div>
              <p>Only writable by GBC.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x51</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF51</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning) {
				parentObj.memory[<span class="hljs-number">0xFF51</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x52</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF52</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning) {
				parentObj.memory[<span class="hljs-number">0xFF52</span>] = data &amp; <span class="hljs-number">0xF0</span>;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x53</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF53</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning) {
				parentObj.memory[<span class="hljs-number">0xFF53</span>] = data &amp; <span class="hljs-number">0x1F</span>;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x54</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF54</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning) {
				parentObj.memory[<span class="hljs-number">0xFF54</span>] = data &amp; <span class="hljs-number">0xF0</span>;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x55</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF55</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning) {
				<span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-866">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-866">&#182;</a>
              </div>
              <p>DMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.DMAWrite((data &amp; <span class="hljs-number">0x7F</span>) + <span class="hljs-number">1</span>);
					parentObj.memory[<span class="hljs-number">0xFF55</span>] = <span class="hljs-number">0xFF</span>;	<span class="hljs-comment">//Transfer completed.</span>
				}
				<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-867">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-867">&#182;</a>
              </div>
              <p>H-Blank DMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.hdmaRunning = <span class="hljs-literal">true</span>;
					parentObj.memory[<span class="hljs-number">0xFF55</span>] = data &amp; <span class="hljs-number">0x7F</span>;
				}
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((data &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-868">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-868">&#182;</a>
              </div>
              <p>Stop H-Blank DMA</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.hdmaRunning = <span class="hljs-literal">false</span>;
				parentObj.memory[<span class="hljs-number">0xFF55</span>] |= <span class="hljs-number">0x80</span>;
			}
			<span class="hljs-keyword">else</span> {
				parentObj.memory[<span class="hljs-number">0xFF55</span>] = data &amp; <span class="hljs-number">0x7F</span>;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x68</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF68</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF69</span>] = parentObj.gbcBGRawPalette[data &amp; <span class="hljs-number">0x3F</span>];
			parentObj.memory[<span class="hljs-number">0xFF68</span>] = data;
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x69</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF69</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.updateGBCBGPalette(parentObj.memory[<span class="hljs-number">0xFF68</span>] &amp; <span class="hljs-number">0x3F</span>, data);
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF68</span>] &gt; <span class="hljs-number">0x7F</span>) { <span class="hljs-comment">// high bit = autoincrement</span>
				<span class="hljs-keyword">var</span> next = ((parentObj.memory[<span class="hljs-number">0xFF68</span>] + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x3F</span>);
				parentObj.memory[<span class="hljs-number">0xFF68</span>] = (next | <span class="hljs-number">0x80</span>);
				parentObj.memory[<span class="hljs-number">0xFF69</span>] = parentObj.gbcBGRawPalette[next];
			}
			<span class="hljs-keyword">else</span> {
				parentObj.memory[<span class="hljs-number">0xFF69</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6A</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF6B</span>] = parentObj.gbcOBJRawPalette[data &amp; <span class="hljs-number">0x3F</span>];
			parentObj.memory[<span class="hljs-number">0xFF6A</span>] = data;
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6B</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.updateGBCOBJPalette(parentObj.memory[<span class="hljs-number">0xFF6A</span>] &amp; <span class="hljs-number">0x3F</span>, data);
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF6A</span>] &gt; <span class="hljs-number">0x7F</span>) { <span class="hljs-comment">// high bit = autoincrement</span>
				<span class="hljs-keyword">var</span> next = ((parentObj.memory[<span class="hljs-number">0xFF6A</span>] + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x3F</span>);
				parentObj.memory[<span class="hljs-number">0xFF6A</span>] = (next | <span class="hljs-number">0x80</span>);
				parentObj.memory[<span class="hljs-number">0xFF6B</span>] = parentObj.gbcOBJRawPalette[next];
			}
			<span class="hljs-keyword">else</span> {
				parentObj.memory[<span class="hljs-number">0xFF6B</span>] = data;
			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-869">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-869">&#182;</a>
              </div>
              <p>SVBK</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x70</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF70</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">var</span> addressCheck = (parentObj.memory[<span class="hljs-number">0xFF51</span>] &lt;&lt; <span class="hljs-number">8</span>) | parentObj.memory[<span class="hljs-number">0xFF52</span>];	<span class="hljs-comment">//Cannot change the RAM bank while WRAM is the source of a running HDMA.</span>
			<span class="hljs-keyword">if</span> (!parentObj.hdmaRunning || addressCheck &lt; <span class="hljs-number">0xD000</span> || addressCheck &gt;= <span class="hljs-number">0xE000</span>) {
				parentObj.gbcRamBank = <span class="hljs-built_in">Math</span>.max(data &amp; <span class="hljs-number">0x07</span>, <span class="hljs-number">1</span>);	<span class="hljs-comment">//Bank range is from 1-7</span>
				parentObj.gbcRamBankPosition = ((parentObj.gbcRamBank - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">12</span>) - <span class="hljs-number">0xD000</span>;
				parentObj.gbcRamBankPositionECHO = parentObj.gbcRamBankPosition - <span class="hljs-number">0x2000</span>;
			}
			parentObj.memory[<span class="hljs-number">0xFF70</span>] = data;	<span class="hljs-comment">//Bit 6 cannot be written to.</span>
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x74</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF74</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF74</span>] = data;
		}
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-870">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-870">&#182;</a>
              </div>
              <p>Fill in the GameBoy Color I/O registers as normal RAM for GameBoy compatibility:
SC (Serial Transfer Control Register)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x2</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF02</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (((data &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0x1</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-871">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-871">&#182;</a>
              </div>
              <p>Internal clock:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.memory[<span class="hljs-number">0xFF02</span>] = (data &amp; <span class="hljs-number">0x7F</span>);
				parentObj.serialTimer = <span class="hljs-number">4096</span>;	<span class="hljs-comment">//Set the Serial IRQ counter.</span>
				parentObj.serialShiftTimer = parentObj.serialShiftTimerAllocated = <span class="hljs-number">512</span>;	<span class="hljs-comment">//Set the transfer data shift counter.</span>
			}
			<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-872">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-872">&#182;</a>
              </div>
              <p>External clock:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				parentObj.memory[<span class="hljs-number">0xFF02</span>] = data;
				parentObj.serialShiftTimer = parentObj.serialShiftTimerAllocated = parentObj.serialTimer = <span class="hljs-number">0</span>;	<span class="hljs-comment">//Zero the timers, since we're emulating as if nothing is connected.</span>
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x40</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF40</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF40</span>] != data) {
				parentObj.midScanLineJIT();
				<span class="hljs-keyword">var</span> temp_var = (data &gt; <span class="hljs-number">0x7F</span>);
				<span class="hljs-keyword">if</span> (temp_var != parentObj.LCDisOn) {</pre></div></div>
            
        </li>
        
        
        <li id="section-873">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-873">&#182;</a>
              </div>
              <p>When the display mode changes…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					parentObj.LCDisOn = temp_var;
					parentObj.memory[<span class="hljs-number">0xFF41</span>] &amp;= <span class="hljs-number">0x78</span>;
					parentObj.midScanlineOffset = -<span class="hljs-number">1</span>;
					parentObj.totalLinesPassed = parentObj.currentX = parentObj.queuedScanLines = parentObj.lastUnrenderedLine = parentObj.STATTracker = parentObj.LCDTicks = parentObj.actualScanLine = parentObj.memory[<span class="hljs-number">0xFF44</span>] = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">if</span> (parentObj.LCDisOn) {
						parentObj.modeSTAT = <span class="hljs-number">2</span>;
						parentObj.matchLYC();	<span class="hljs-comment">//Get the compare of the first scan line.</span>
						parentObj.LCDCONTROL = parentObj.LINECONTROL;
					}
					<span class="hljs-keyword">else</span> {
						parentObj.modeSTAT = <span class="hljs-number">0</span>;
						parentObj.LCDCONTROL = parentObj.DISPLAYOFFCONTROL;
						parentObj.DisplayShowOff();
					}
					parentObj.interruptsRequested &amp;= <span class="hljs-number">0xFD</span>;
				}
				parentObj.gfxWindowCHRBankPosition = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>) ? <span class="hljs-number">0x400</span> : <span class="hljs-number">0</span>;
				parentObj.gfxWindowDisplay = (data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>;
				parentObj.gfxBackgroundBankOffset = ((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>) ? <span class="hljs-number">0</span> : <span class="hljs-number">0x80</span>;
				parentObj.gfxBackgroundCHRBankPosition = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>) ? <span class="hljs-number">0x400</span> : <span class="hljs-number">0</span>;
				parentObj.gfxSpriteNormalHeight = ((data &amp; <span class="hljs-number">0x04</span>) == <span class="hljs-number">0</span>);
				parentObj.gfxSpriteShow = (data &amp; <span class="hljs-number">0x02</span>) == <span class="hljs-number">0x02</span>;
				parentObj.bgEnabled = ((data &amp; <span class="hljs-number">0x01</span>) == <span class="hljs-number">0x01</span>);
				parentObj.memory[<span class="hljs-number">0xFF40</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x41</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF41</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.LYCMatchTriggerSTAT = ((data &amp; <span class="hljs-number">0x40</span>) == <span class="hljs-number">0x40</span>);
			parentObj.mode2TriggerSTAT = ((data &amp; <span class="hljs-number">0x20</span>) == <span class="hljs-number">0x20</span>);
			parentObj.mode1TriggerSTAT = ((data &amp; <span class="hljs-number">0x10</span>) == <span class="hljs-number">0x10</span>);
			parentObj.mode0TriggerSTAT = ((data &amp; <span class="hljs-number">0x08</span>) == <span class="hljs-number">0x08</span>);
			parentObj.memory[<span class="hljs-number">0xFF41</span>] = data &amp; <span class="hljs-number">0x78</span>;
			<span class="hljs-keyword">if</span> ((!parentObj.usedBootROM || !parentObj.usedGBCBootROM) &amp;&amp; parentObj.LCDisOn &amp;&amp; parentObj.modeSTAT &lt; <span class="hljs-number">2</span>) {
				parentObj.interruptsRequested |= <span class="hljs-number">0x2</span>;
				parentObj.checkIRQMatching();
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x46</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF46</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF46</span>] = data;
			<span class="hljs-keyword">if</span> (data &gt; <span class="hljs-number">0x7F</span> &amp;&amp; data &lt; <span class="hljs-number">0xE0</span>) {	<span class="hljs-comment">//DMG cannot DMA from the ROM banks.</span>
				data &lt;&lt;= <span class="hljs-number">8</span>;
				address = <span class="hljs-number">0xFE00</span>;
				<span class="hljs-keyword">var</span> stat = parentObj.modeSTAT;
				parentObj.modeSTAT = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">var</span> newData = <span class="hljs-number">0</span>;
				<span class="hljs-keyword">do</span> {
					newData = parentObj.memoryReader[data](parentObj, data++);
					<span class="hljs-keyword">if</span> (newData != parentObj.memory[address]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-874">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-874">&#182;</a>
              </div>
              <p>JIT the graphics render queue:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						parentObj.modeSTAT = stat;
						parentObj.graphicsJIT();
						parentObj.modeSTAT = <span class="hljs-number">0</span>;
						parentObj.memory[address++] = newData;
						<span class="hljs-keyword">break</span>;
					}
				} <span class="hljs-keyword">while</span> (++address &lt; <span class="hljs-number">0xFEA0</span>);
				<span class="hljs-keyword">if</span> (address &lt; <span class="hljs-number">0xFEA0</span>) {
					<span class="hljs-keyword">do</span> {
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
						parentObj.memory[address++] = parentObj.memoryReader[data](parentObj, data++);
					} <span class="hljs-keyword">while</span> (address &lt; <span class="hljs-number">0xFEA0</span>);
				}
				parentObj.modeSTAT = stat;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x47</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF47</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF47</span>] != data) {
				parentObj.midScanLineJIT();
				parentObj.updateGBBGPalette(data);
				parentObj.memory[<span class="hljs-number">0xFF47</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x48</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF48</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF48</span>] != data) {
				parentObj.midScanLineJIT();
				parentObj.updateGBOBJPalette(<span class="hljs-number">0</span>, data);
				parentObj.memory[<span class="hljs-number">0xFF48</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x49</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF49</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			<span class="hljs-keyword">if</span> (parentObj.memory[<span class="hljs-number">0xFF49</span>] != data) {
				parentObj.midScanLineJIT();
				parentObj.updateGBOBJPalette(<span class="hljs-number">4</span>, data);
				parentObj.memory[<span class="hljs-number">0xFF49</span>] = data;
			}
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4D</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4D</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			parentObj.memory[<span class="hljs-number">0xFF4D</span>] = data;
		}
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x4F</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF4F</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;	<span class="hljs-comment">//Not writable in DMG mode.</span>
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x55</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF55</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x68</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF68</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x69</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF69</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6A</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6A</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6B</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6B</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6C</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x70</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF70</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x74</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF74</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	}
}
GameBoyCore.prototype.recompileBootIOWriteHandling = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-875">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-875">&#182;</a>
              </div>
              <p>Boot I/O Registers:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inBootstrap) {
		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x50</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF50</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
			cout(<span class="hljs-string">"Boot ROM reads blocked: Bootstrap process has ended."</span>, <span class="hljs-number">0</span>);
			parentObj.inBootstrap = <span class="hljs-literal">false</span>;
			parentObj.disableBootROM();			<span class="hljs-comment">//Fill in the boot ROM ranges with ROM  bank 0 ROM ranges</span>
			parentObj.memory[<span class="hljs-number">0xFF50</span>] = data;	<span class="hljs-comment">//Bits are sustained in memory?</span>
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cGBC) {
			<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x6C</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF6C</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parentObj, address, data)</span> </span>{
				<span class="hljs-keyword">if</span> (parentObj.inBootstrap) {
					parentObj.cGBC = ((data &amp; <span class="hljs-number">0x1</span>) == <span class="hljs-number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-876">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-876">&#182;</a>
              </div>
              <p>Exception to the GBC identifying code:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					<span class="hljs-keyword">if</span> (parentObj.name + parentObj.gameCode + parentObj.ROM[<span class="hljs-number">0x143</span>] == <span class="hljs-string">"Game and Watch 50"</span>) {
						parentObj.cGBC = <span class="hljs-literal">true</span>;
						cout(<span class="hljs-string">"Created a boot exception for Game and Watch Gallery 2 (GBC ID byte is wrong on the cartridge)."</span>, <span class="hljs-number">1</span>);
					}
					cout(<span class="hljs-string">"Booted to GBC Mode: "</span> + parentObj.cGBC, <span class="hljs-number">0</span>);
				}
				parentObj.memory[<span class="hljs-number">0xFF6C</span>] = data;
			}
		}
	}
	<span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-877">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-877">&#182;</a>
              </div>
              <p>Lockout the ROMs from accessing the BOOT ROM control register:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">this</span>.memoryHighWriter[<span class="hljs-number">0x50</span>] = <span class="hljs-keyword">this</span>.memoryWriter[<span class="hljs-number">0xFF50</span>] = <span class="hljs-keyword">this</span>.cartIgnoreWrite;
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-878">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-878">&#182;</a>
              </div>
              <p>Helper Functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>GameBoyCore.prototype.toTypedArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(baseArray, memtype)</span> </span>{
	<span class="hljs-keyword">try</span> {
		<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">5</span>]) {
			<span class="hljs-keyword">return</span> baseArray;
		}
		<span class="hljs-keyword">if</span> (!baseArray || !baseArray.length) {
			<span class="hljs-keyword">return</span> [];
		}
		<span class="hljs-keyword">var</span> length = baseArray.length;
		<span class="hljs-keyword">switch</span> (memtype) {
			<span class="hljs-keyword">case</span> <span class="hljs-string">"uint8"</span>:
				<span class="hljs-keyword">var</span> typedArrayTemp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"int8"</span>:
				<span class="hljs-keyword">var</span> typedArrayTemp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Int8Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"int32"</span>:
				<span class="hljs-keyword">var</span> typedArrayTemp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Int32Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"float32"</span>:
				<span class="hljs-keyword">var</span> typedArrayTemp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Float32Array</span>(length);
		}
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; length; index++) {
			typedArrayTemp[index] = baseArray[index];
		}
		<span class="hljs-keyword">return</span> typedArrayTemp;
	}
	<span class="hljs-keyword">catch</span> (error) {
		cout(<span class="hljs-string">"Could not convert an array to a typed array: "</span> + error.message, <span class="hljs-number">1</span>);
		<span class="hljs-keyword">return</span> baseArray;
	}
}
GameBoyCore.prototype.fromTypedArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(baseArray)</span> </span>{
	<span class="hljs-keyword">try</span> {
		<span class="hljs-keyword">if</span> (!baseArray || !baseArray.length) {
			<span class="hljs-keyword">return</span> [];
		}
		<span class="hljs-keyword">var</span> arrayTemp = [];
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; baseArray.length; ++index) {
			arrayTemp[index] = baseArray[index];
		}
		<span class="hljs-keyword">return</span> arrayTemp;
	}
	<span class="hljs-keyword">catch</span> (error) {
		cout(<span class="hljs-string">"Conversion from a typed array failed: "</span> + error.message, <span class="hljs-number">1</span>);
		<span class="hljs-keyword">return</span> baseArray;
	}
}
GameBoyCore.prototype.getTypedArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(length, defaultValue, numberType)</span> </span>{
	<span class="hljs-keyword">try</span> {
		<span class="hljs-keyword">if</span> (settings[<span class="hljs-number">5</span>]) {
			<span class="hljs-keyword">throw</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Settings forced typed arrays to be disabled."</span>));
		}
		<span class="hljs-keyword">switch</span> (numberType) {
			<span class="hljs-keyword">case</span> <span class="hljs-string">"int8"</span>:
				<span class="hljs-keyword">var</span> arrayHandle = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Int8Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"uint8"</span>:
				<span class="hljs-keyword">var</span> arrayHandle = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"int32"</span>:
				<span class="hljs-keyword">var</span> arrayHandle = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Int32Array</span>(length);
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-string">"float32"</span>:
				<span class="hljs-keyword">var</span> arrayHandle = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Float32Array</span>(length);
		}
		<span class="hljs-keyword">if</span> (defaultValue != <span class="hljs-number">0</span>) {
			<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">while</span> (index &lt; length) {
				arrayHandle[index++] = defaultValue;
			}
		}
	}
	<span class="hljs-keyword">catch</span> (error) {
		cout(<span class="hljs-string">"Could not convert an array to a typed array: "</span> + error.message, <span class="hljs-number">1</span>);
		<span class="hljs-keyword">var</span> arrayHandle = [];
		<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">while</span> (index &lt; length) {
			arrayHandle[index++] = defaultValue;
		}
	}
	<span class="hljs-keyword">return</span> arrayHandle;
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
